(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Rd={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function qS(){if(W_)return yo;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=t,yo.jsx=i,yo.jsxs=i,yo}var tv;function jS(){return tv||(tv=1,Rd.exports=qS()),Rd.exports}var Tt=jS(),Cd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function HS(){if(ev)return St;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function K(V,Y,ot){this.props=V,this.context=Y,this.refs=tt,this.updater=ot||P}K.prototype.isReactComponent={},K.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=K.prototype;function rt(V,Y,ot){this.props=V,this.context=Y,this.refs=tt,this.updater=ot||P}var at=rt.prototype=new gt;at.constructor=rt,$(at,K.prototype),at.isPureReactComponent=!0;var bt=Array.isArray,ct={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function O(V,Y,ot,et,nt,wt){return ot=wt.ref,{$$typeof:r,type:V,key:Y,ref:ot!==void 0?ot:null,props:wt}}function S(V,Y){return O(V.type,Y,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return Y[ot]})}var x=/\/+/g;function L(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Y.toString(36)}function C(){}function Ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function pe(V,Y,ot,et,nt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var At=!1;if(V===null)At=!0;else switch(wt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(V.$$typeof){case r:case t:At=!0;break;case T:return At=V._init,pe(At(V._payload),Y,ot,et,nt)}}if(At)return nt=nt(V),At=et===""?"."+L(V,0):et,bt(nt)?(ot="",At!=null&&(ot=At.replace(x,"$&/")+"/"),pe(nt,Y,ot,"",function(re){return re})):nt!=null&&(A(nt)&&(nt=S(nt,ot+(nt.key==null||V&&V.key===nt.key?"":(""+nt.key).replace(x,"$&/")+"/")+At)),Y.push(nt)),1;At=0;var me=et===""?".":et+":";if(bt(V))for(var Lt=0;Lt<V.length;Lt++)et=V[Lt],wt=me+L(et,Lt),At+=pe(et,Y,ot,wt,nt);else if(Lt=N(V),typeof Lt=="function")for(V=Lt.call(V),Lt=0;!(et=V.next()).done;)et=et.value,wt=me+L(et,Lt++),At+=pe(et,Y,ot,wt,nt);else if(wt==="object"){if(typeof V.then=="function")return pe(Ee(V),Y,ot,et,nt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return At}function W(V,Y,ot){if(V==null)return V;var et=[],nt=0;return pe(V,et,"","",function(wt){return Y.call(ot,wt,nt++)}),et}function mt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qt(){}return St.Children={map:W,forEach:function(V,Y,ot){W(V,function(){Y.apply(this,arguments)},ot)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=K,St.Fragment=i,St.Profiler=o,St.PureComponent=rt,St.StrictMode=a,St.Suspense=g,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,Y,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var et=$({},V.props),nt=V.key,wt=void 0;if(Y!=null)for(At in Y.ref!==void 0&&(wt=void 0),Y.key!==void 0&&(nt=""+Y.key),Y)!Z.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(et[At]=Y[At]);var At=arguments.length-2;if(At===1)et.children=ot;else if(1<At){for(var me=Array(At),Lt=0;Lt<At;Lt++)me[Lt]=arguments[Lt+2];et.children=me}return O(V.type,nt,void 0,void 0,wt,et)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},St.createElement=function(V,Y,ot){var et,nt={},wt=null;if(Y!=null)for(et in Y.key!==void 0&&(wt=""+Y.key),Y)Z.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=Y[et]);var At=arguments.length-2;if(At===1)nt.children=ot;else if(1<At){for(var me=Array(At),Lt=0;Lt<At;Lt++)me[Lt]=arguments[Lt+2];nt.children=me}if(V&&V.defaultProps)for(et in At=V.defaultProps,At)nt[et]===void 0&&(nt[et]=At[et]);return O(V,wt,void 0,void 0,null,nt)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:m,render:V}},St.isValidElement=A,St.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:mt}},St.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},St.startTransition=function(V){var Y=ct.T,ot={};ct.T=ot;try{var et=V(),nt=ct.S;nt!==null&&nt(ot,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(qt,ft)}catch(wt){ft(wt)}finally{ct.T=Y}},St.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},St.use=function(V){return ct.H.use(V)},St.useActionState=function(V,Y,ot){return ct.H.useActionState(V,Y,ot)},St.useCallback=function(V,Y){return ct.H.useCallback(V,Y)},St.useContext=function(V){return ct.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,Y){return ct.H.useDeferredValue(V,Y)},St.useEffect=function(V,Y){return ct.H.useEffect(V,Y)},St.useId=function(){return ct.H.useId()},St.useImperativeHandle=function(V,Y,ot){return ct.H.useImperativeHandle(V,Y,ot)},St.useInsertionEffect=function(V,Y){return ct.H.useInsertionEffect(V,Y)},St.useLayoutEffect=function(V,Y){return ct.H.useLayoutEffect(V,Y)},St.useMemo=function(V,Y){return ct.H.useMemo(V,Y)},St.useOptimistic=function(V,Y){return ct.H.useOptimistic(V,Y)},St.useReducer=function(V,Y,ot){return ct.H.useReducer(V,Y,ot)},St.useRef=function(V){return ct.H.useRef(V)},St.useState=function(V){return ct.H.useState(V)},St.useSyncExternalStore=function(V,Y,ot){return ct.H.useSyncExternalStore(V,Y,ot)},St.useTransition=function(){return ct.H.useTransition()},St.version="19.0.0",St}var nv;function Np(){return nv||(nv=1,Cd.exports=HS()),Cd.exports}var ka=Np(),Dd={exports:{}},_o={},Vd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function GS(){return iv||(iv=1,function(r){function t(W,mt){var ft=W.length;W.push(mt);t:for(;0<ft;){var qt=ft-1>>>1,V=W[qt];if(0<o(V,mt))W[qt]=mt,W[ft]=V,ft=qt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var mt=W[0],ft=W.pop();if(ft!==mt){W[0]=ft;t:for(var qt=0,V=W.length,Y=V>>>1;qt<Y;){var ot=2*(qt+1)-1,et=W[ot],nt=ot+1,wt=W[nt];if(0>o(et,ft))nt<V&&0>o(wt,et)?(W[qt]=wt,W[nt]=ft,qt=nt):(W[qt]=et,W[ot]=ft,qt=ot);else if(nt<V&&0>o(wt,ft))W[qt]=wt,W[nt]=ft,qt=nt;else break t}}return mt}function o(W,mt){var ft=W.sortIndex-mt.sortIndex;return ft!==0?ft:W.id-mt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var g=[],y=[],T=1,R=null,N=3,P=!1,$=!1,tt=!1,K=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function at(W){for(var mt=i(y);mt!==null;){if(mt.callback===null)a(y);else if(mt.startTime<=W)a(y),mt.sortIndex=mt.expirationTime,t(g,mt);else break;mt=i(y)}}function bt(W){if(tt=!1,at(W),!$)if(i(g)!==null)$=!0,Ee();else{var mt=i(y);mt!==null&&pe(bt,mt.startTime-W)}}var ct=!1,Z=-1,O=5,S=-1;function A(){return!(r.unstable_now()-S<O)}function D(){if(ct){var W=r.unstable_now();S=W;var mt=!0;try{t:{$=!1,tt&&(tt=!1,gt(Z),Z=-1),P=!0;var ft=N;try{e:{for(at(W),R=i(g);R!==null&&!(R.expirationTime>W&&A());){var qt=R.callback;if(typeof qt=="function"){R.callback=null,N=R.priorityLevel;var V=qt(R.expirationTime<=W);if(W=r.unstable_now(),typeof V=="function"){R.callback=V,at(W),mt=!0;break e}R===i(g)&&a(g),at(W)}else a(g);R=i(g)}if(R!==null)mt=!0;else{var Y=i(y);Y!==null&&pe(bt,Y.startTime-W),mt=!1}}break t}finally{R=null,N=ft,P=!1}mt=void 0}}finally{mt?x():ct=!1}}}var x;if(typeof rt=="function")x=function(){rt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,C=L.port2;L.port1.onmessage=D,x=function(){C.postMessage(null)}}else x=function(){K(D,0)};function Ee(){ct||(ct=!0,x())}function pe(W,mt){Z=K(function(){W(r.unstable_now())},mt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){$||P||($=!0,Ee())},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return i(g)},r.unstable_next=function(W){switch(N){case 1:case 2:case 3:var mt=3;break;default:mt=N}var ft=N;N=mt;try{return W()}finally{N=ft}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,mt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=N;N=W;try{return mt()}finally{N=ft}},r.unstable_scheduleCallback=function(W,mt,ft){var qt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?qt+ft:qt):ft=qt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,W={id:T++,callback:mt,priorityLevel:W,startTime:ft,expirationTime:V,sortIndex:-1},ft>qt?(W.sortIndex=ft,t(y,W),i(g)===null&&W===i(y)&&(tt?(gt(Z),Z=-1):tt=!0,pe(bt,ft-qt))):(W.sortIndex=V,t(g,W),$||P||($=!0,Ee())),W},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(W){var mt=N;return function(){var ft=N;N=mt;try{return W.apply(this,arguments)}finally{N=ft}}}}(Od)),Od}var rv;function QS(){return rv||(rv=1,Vd.exports=GS()),Vd.exports}var Id={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function FS(){if(sv)return $e;sv=1;var r=Np();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(g,y,null,T)},$e.flushSync=function(g){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=y,a.p=T,a.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:P}):T==="script"&&a.d.X(g,{crossOrigin:R,integrity:N,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin);a.d.L(g,T,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},$e.requestFormReset=function(g){a.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.0.0",$e}var av;function KS(){if(av)return Id.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=FS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function $S(){if(lv)return _o;lv=1;var r=QS(),t=Np(),i=KS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),at=Symbol.for("react.offscreen"),bt=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=ct&&e[ct]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function S(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case tt:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gt:return n=e.displayName||null,n!==null?n:S(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return S(e(n))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,L;function C(e){if(x===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||"",L=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+L}var Ee=!1;function pe(e,n){if(!e||Ee)return"";Ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var B=j}Reflect.construct(e,[],F)}else{try{F.call()}catch(j){B=j}e.call(F.prototype)}}else{try{throw Error()}catch(j){B=j}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),v=h[0],E=h[1];if(v&&E){var w=v.split(`
`),M=E.split(`
`);for(f=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(l===w.length||f===M.length)for(l=w.length-1,f=M.length-1;1<=l&&0<=f&&w[l]!==M[f];)f--;for(;1<=l&&0<=f;l--,f--)if(w[l]!==M[f]){if(l!==1||f!==1)do if(l--,f--,0>f||w[l]!==M[f]){var H=`
`+w[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=f);break}}}finally{Ee=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?C(s):""}function W(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=pe(e.type,!1),e;case 11:return e=pe(e.type.render,!1),e;case 1:return e=pe(e.type,!0),e;default:return""}}function mt(e){try{var n="";do n+=W(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ft(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function qt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function V(e){if(ft(e)!==e)throw Error(a(188))}function Y(e){var n=e.alternate;if(!n){if(n=ft(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return V(f),e;if(h===l)return V(f),n;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=h;else{for(var v=!1,E=f.child;E;){if(E===s){v=!0,s=f,l=h;break}if(E===l){v=!0,l=f,s=h;break}E=E.sibling}if(!v){for(E=h.child;E;){if(E===s){v=!0,s=h,l=f;break}if(E===l){v=!0,l=h,s=f;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function ot(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ot(e),n!==null)return n;e=e.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},At=[],me=-1;function Lt(e){return{current:e}}function re(e){0>me||(e.current=At[me],At[me]=null,me--)}function Gt(e,n){me++,At[me]=e.current,e.current=n}var en=Lt(null),wi=Lt(null),bn=Lt(null),rr=Lt(null);function sr(e,n){switch(Gt(bn,n),Gt(wi,e),Gt(en,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?D_(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=D_(e),n=V_(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}re(en),Gt(en,n)}function Ri(){re(en),re(wi),re(bn)}function fl(e){e.memoizedState!==null&&Gt(rr,e);var n=en.current,s=V_(n,e.type);n!==s&&(Gt(wi,e),Gt(en,s))}function Fs(e){wi.current===e&&(re(en),re(wi)),rr.current===e&&(re(rr),fo._currentValue=wt)}var Ks=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,$s=r.unstable_cancelCallback,Df=r.unstable_shouldYield,hl=r.unstable_requestPaint,on=r.unstable_now,eu=r.unstable_getCurrentPriorityLevel,Te=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,nu=r.unstable_LowPriority,dl=r.unstable_IdlePriority,Vf=r.log,is=r.unstable_setDisableYieldValue,ar=null,Fe=null;function pl(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ar,e,void 0,(e.current.flags&128)===128)}catch{}}function ei(e){if(typeof Vf=="function"&&is(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ar,e)}catch{}}var nn=Math.clz32?Math.clz32:ru,ml=Math.log,iu=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(ml(e)/iu|0)|0}var ni=128,lr=4194304;function Hn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function An(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,f=e.suspendedLanes,h=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~f,s!==0?l=Hn(s):(h&=E,h!==0?l=Hn(h):e||(v=E&~v,v!==0&&(l=Hn(v))))):(E=s&~f,E!==0?l=Hn(E):h!==0?l=Hn(h):e||(v=s&~v,v!==0&&(l=Hn(v)))),l===0?0:n!==0&&n!==l&&(n&f)===0&&(f=l&-l,v=n&-n,f>=v||f===32&&(v&4194176)!==0)?n:l}function or(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var e=ni;return ni<<=1,(ni&4194176)===0&&(ni=128),e}function ur(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function Xs(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ce(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function su(e,n,s,l,f,h){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,M=e.hiddenUpdates;for(s=v&~s;0<s;){var H=31-nn(s),F=1<<H;E[H]=0,w[H]=-1;var B=M[H];if(B!==null)for(M[H]=null,H=0;H<B.length;H++){var j=B[H];j!==null&&(j.lane&=-536870913)}s&=~F}l!==0&&cr(e,l,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(v&~n))}function cr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-nn(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function fr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-nn(s),f=1<<l;f&n|e[l]&n&&(e[l]|=n),s&=~f}}function au(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function hr(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var ii=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ii,be="__reactProps$"+ii,Di="__reactContainer$"+ii,rs="__reactEvents$"+ii,Zs="__reactListeners$"+ii,ri="__reactHandles$"+ii,yl="__reactResources$"+ii,dr="__reactMarker$"+ii;function ss(e){delete e[Ie],delete e[be],delete e[rs],delete e[Zs],delete e[ri]}function Gn(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Di]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=M_(e);e!==null;){if(s=e[Ie])return s;e=M_(e)}return n}e=s,s=e.parentNode}return null}function Vi(e){if(e=e[Ie]||e[Di]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function pr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mr(e){var n=e[yl];return n||(n=e[yl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[dr]=!0}var _l=new Set,Js={};function dn(e,n){un(e,n),un(e+"Capture",n)}function un(e,n){for(Js[e]=n,e=0;e<n.length;e++)_l.add(n[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},El={};function ou(e){return Ks.call(El,e)?!0:Ks.call(vl,e)?!1:Of.test(e)?El[e]=!0:(vl[e]=!0,!1)}function gr(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function yr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Sn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function If(e){var n=uu(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,h.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function as(e){e._valueTracker||(e._valueTracker=If(e))}function Tl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=uu(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Oi=/[\n"\\]/g;function se(e){return e.replace(Oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _r(e,n,s,l,f,h,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?ta(e,v,rn(n)):s!=null?ta(e,v,rn(s)):l!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function ls(e,n,s,l,f,h,v,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;s=s!=null?""+rn(s):"",n=n!=null?""+rn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ta(e,n,s){n==="number"&&Ws(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zt(e,n,s,l){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function os(e,n,s){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+rn(s):""}function vr(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=rn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function wn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Mf.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function cu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&bl(e,f,l)}else for(var h in n)n.hasOwnProperty(h)&&bl(e,h,n[h])}function Al(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(e){return xf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rn=null;function ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Mi=null;function Ni(e){var n=Vi(e);if(n&&(e=n.stateNode)){var s=e[be]||null;t:switch(e=n.stateNode,n.type){case"input":if(_r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var f=l[be]||null;if(!f)throw Error(a(90));_r(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Tl(l)}break t;case"textarea":os(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&zt(e,!!s.multiple,n,!1)}}}var Sl=!1;function fu(e,n,s){if(Sl)return e(n,s);Sl=!0;try{var l=e(n);return l}finally{if(Sl=!1,(Ii!==null||Mi!==null)&&(nc(),Ii&&(n=Ii,e=Mi,Mi=Ii=null,Ni(n),e)))for(n=0;n<e.length;n++)Ni(e[n])}}function us(e,n){var s=e.stateNode;if(s===null)return null;var l=s[be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!1;if(pn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Cn=!1}var ai=null,Er=null,xi=null;function wl(){if(xi)return xi;var e,n=Er,s=n.length,l,f="value"in ai?ai.value:ai.textContent,h=f.length;for(e=0;e<s&&n[e]===f[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===f[h-l];l++);return xi=f.slice(e,1<l?1-l:void 0)}function li(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Rl(){return!1}function Me(e){function n(s,l,f,h,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?oi:Rl,this.isPropagationStopped=Rl,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Me(jt),fs=D({},jt,{view:0,detail:0}),hu=Me(fs),ia,ra,ui,hs=D({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(ia=e.screenX-ui.screenX,ra=e.screenY-ui.screenY):ra=ia=0,ui=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Dn=Me(hs),du=D({},hs,{dataTransfer:0}),Uf=Me(du),ds=D({},fs,{relatedTarget:0}),sa=Me(ds),Cl=D({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=Me(Cl),pu=D({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=Me(pu),kf=D({},jt,{data:0}),Dl=Me(kf),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function ms(){return Vl}var yu=D({},fs,{key:function(e){if(e.key){var n=ps[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oa=Me(yu),_u=D({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Me(_u),Ui=D({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),vu=Me(Ui),Eu=D({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Me(Eu),bu=D({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ua=Me(bu),sn=D({},jt,{newState:0,oldState:0}),Au=Me(sn),Su=[9,13,27,32],ci=pn&&"CompositionEvent"in window,u=null;pn&&"documentMode"in document&&(u=document.documentMode);var p=pn&&"TextEvent"in window&&!u,_=pn&&(!ci||u&&8<u&&11>=u),b=" ",k=!1;function q(e,n){switch(e){case"keyup":return Su.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ae(e,n){switch(e){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(k=!0,b);case"textInput":return e=n.data,e===b&&k?null:e;default:return null}}function Nt(e,n){if(Mt)return e==="compositionend"||!ci&&q(e,n)?(e=wl(),xi=Er=ai=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function ki(e,n,s,l){Ii?Mi?Mi.push(l):Mi=[l]:Ii=l,n=lc(n,"onChange"),0<n.length&&(s=new na("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Pe=null,fi=null;function Il(e){A_(e,0)}function wu(e){var n=pr(e);if(Tl(n))return e}function Jm(e,n){if(e==="change")return n}var Wm=!1;if(pn){var Lf;if(pn){var zf="oninput"in document;if(!zf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),zf=typeof tg.oninput=="function"}Lf=zf}else Lf=!1;Wm=Lf&&(!document.documentMode||9<document.documentMode)}function eg(){Pe&&(Pe.detachEvent("onpropertychange",ng),fi=Pe=null)}function ng(e){if(e.propertyName==="value"&&wu(fi)){var n=[];ki(n,fi,e,ea(e)),fu(Il,n)}}function yA(e,n,s){e==="focusin"?(eg(),Pe=n,fi=s,Pe.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function _A(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(fi)}function vA(e,n){if(e==="click")return wu(n)}function EA(e,n){if(e==="input"||e==="change")return wu(n)}function TA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:TA;function Ml(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Ks.call(n,f)||!mn(e[f],n[f]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,n){var s=ig(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ig(s)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ws(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ws(e.document)}return n}function Pf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function bA(e,n){var s=ag(n);n=e.focusedElem;var l=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&sg(n.ownerDocument.documentElement,n)){if(l!==null&&Pf(n)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var f=n.textContent.length,h=Math.min(l.start,f);l=l.end===void 0?h:Math.min(l.end,f),!s.extend&&h>l&&(f=l,l=h,h=f),f=rg(n,h);var v=rg(n,l);f&&v&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),s.removeAllRanges(),h>l?(s.addRange(e),s.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var AA=pn&&"documentMode"in document&&11>=document.documentMode,ca=null,Bf=null,Nl=null,qf=!1;function lg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qf||ca==null||ca!==Ws(l)||(l=ca,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Ml(Nl,l)||(Nl=l,l=lc(Bf,"onSelect"),0<l.length&&(n=new na("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ca)))}function gs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},jf={},og={};pn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function ys(e){if(jf[e])return jf[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in og)return jf[e]=n[s];return e}var ug=ys("animationend"),cg=ys("animationiteration"),fg=ys("animationstart"),SA=ys("transitionrun"),wA=ys("transitionstart"),RA=ys("transitioncancel"),hg=ys("transitionend"),dg=new Map,pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(e,n){dg.set(e,n),dn(n,[e])}var Vn=[],ha=0,Hf=0;function Ru(){for(var e=ha,n=Hf=ha=0;n<e;){var s=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var f=Vn[n];Vn[n++]=null;var h=Vn[n];if(Vn[n++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}h!==0&&mg(s,f,h)}}function Cu(e,n,s,l){Vn[ha++]=e,Vn[ha++]=n,Vn[ha++]=s,Vn[ha++]=l,Hf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gf(e,n,s,l){return Cu(e,n,s,l),Du(e)}function Tr(e,n){return Cu(e,null,null,n),Du(e)}function mg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;f&&n!==null&&e.tag===3&&(h=e.stateNode,f=31-nn(s),h=h.hiddenUpdates,e=h[f],e===null?h[f]=[n]:e.push(n),n.lane=s|536870912)}function Du(e){if(50<ro)throw ro=0,Xh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={},gg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=gg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:mt(n)},gg.set(e,n),n)}return{value:e,source:n,stack:mt(n)}}var pa=[],ma=0,Vu=null,Ou=0,In=[],Mn=0,_s=null,Li=1,zi="";function vs(e,n){pa[ma++]=Ou,pa[ma++]=Vu,Vu=e,Ou=n}function yg(e,n,s){In[Mn++]=Li,In[Mn++]=zi,In[Mn++]=_s,_s=e;var l=Li;e=zi;var f=32-nn(l)-1;l&=~(1<<f),s+=1;var h=32-nn(n)+f;if(30<h){var v=f-f%5;h=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Li=1<<32-nn(n)+f|s<<f|l,zi=h+e}else Li=1<<h|s<<f|l,zi=e}function Qf(e){e.return!==null&&(vs(e,1),yg(e,1,0))}function Ff(e){for(;e===Vu;)Vu=pa[--ma],pa[ma]=null,Ou=pa[--ma],pa[ma]=null;for(;e===_s;)_s=In[--Mn],In[Mn]=null,zi=In[--Mn],In[Mn]=null,Li=In[--Mn],In[Mn]=null}var an=null,Be=null,Pt=!1,Fn=null,hi=!1,Kf=Error(a(519));function Es(e){var n=Error(a(418,""));throw kl(On(n,e)),Kf}function _g(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ie]=e,n[be]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<ao.length;s++)Ot(ao[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),ls(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),as(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),vr(n,l.value,l.defaultValue,l.children),as(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||C_(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=oc),n=!0):n=!1,n||Es(e)}function vg(e){for(an=e.return;an;)switch(an.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:an=an.return}}function xl(e){if(e!==an)return!1;if(!Pt)return vg(e),Pt=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&Be&&Es(e),vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Be=$n(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Be=null}}else Be=an?$n(e.stateNode.nextSibling):null;return!0}function Ul(){Be=an=null,Pt=!1}function kl(e){Fn===null?Fn=[e]:Fn.push(e)}var Ll=Error(a(460)),Eg=Error(a(474)),$f={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function bg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Iu,Iu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ll?Error(a(483)):e;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(e=Yt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ll?Error(a(483)):e}throw zl=n,Ll}}var zl=null;function Ag(){if(zl===null)throw Error(a(459));var e=zl;return zl=null,e}var ga=null,Pl=0;function Mu(e){var n=Pl;return Pl+=1,ga===null&&(ga=[]),bg(ga,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===c?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sg(e){var n=e._init;return n(e._payload)}function wg(e){function n(U,I){if(e){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function s(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function f(U,I){return U=Nr(U,I),U.index=0,U.sibling=null,U}function h(U,I,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=33554434,I):z):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function v(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,z,G){return I===null||I.tag!==6?(I=jh(z,U.mode,G),I.return=U,I):(I=f(I,z),I.return=U,I)}function w(U,I,z,G){var st=z.type;return st===g?H(U,I,z.props.children,G,z.key):I!==null&&(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&Sg(st)===I.type)?(I=f(I,z.props),Bl(I,z),I.return=U,I):(I=Zu(z.type,z.key,z.props,null,U.mode,G),Bl(I,z),I.return=U,I)}function M(U,I,z,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Hh(z,U.mode,G),I.return=U,I):(I=f(I,z.children||[]),I.return=U,I)}function H(U,I,z,G,st){return I===null||I.tag!==7?(I=Os(z,U.mode,G,st),I.return=U,I):(I=f(I,z),I.return=U,I)}function F(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=jh(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return z=Zu(I.type,I.key,I.props,null,U.mode,z),Bl(z,I),z.return=U,z;case m:return I=Hh(I,U.mode,z),I.return=U,I;case rt:var G=I._init;return I=G(I._payload),F(U,I,z)}if(et(I)||Z(I))return I=Os(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return F(U,Mu(I),z);if(I.$$typeof===P)return F(U,$u(U,I),z);Nu(U,I)}return null}function B(U,I,z,G){var st=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(U,I,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===st?w(U,I,z,G):null;case m:return z.key===st?M(U,I,z,G):null;case rt:return st=z._init,z=st(z._payload),B(U,I,z,G)}if(et(z)||Z(z))return st!==null?null:H(U,I,z,G,null);if(typeof z.then=="function")return B(U,I,Mu(z),G);if(z.$$typeof===P)return B(U,I,$u(U,z),G);Nu(U,z)}return null}function j(U,I,z,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(I,U,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,w(I,U,G,st);case m:return U=U.get(G.key===null?z:G.key)||null,M(I,U,G,st);case rt:var Ct=G._init;return G=Ct(G._payload),j(U,I,z,G,st)}if(et(G)||Z(G))return U=U.get(z)||null,H(I,U,G,st,null);if(typeof G.then=="function")return j(U,I,z,Mu(G),st);if(G.$$typeof===P)return j(U,I,z,$u(I,G),st);Nu(I,G)}return null}function lt(U,I,z,G){for(var st=null,Ct=null,ut=I,pt=I=0,ke=null;ut!==null&&pt<z.length;pt++){ut.index>pt?(ke=ut,ut=null):ke=ut.sibling;var Bt=B(U,ut,z[pt],G);if(Bt===null){ut===null&&(ut=ke);break}e&&ut&&Bt.alternate===null&&n(U,ut),I=h(Bt,I,pt),Ct===null?st=Bt:Ct.sibling=Bt,Ct=Bt,ut=ke}if(pt===z.length)return s(U,ut),Pt&&vs(U,pt),st;if(ut===null){for(;pt<z.length;pt++)ut=F(U,z[pt],G),ut!==null&&(I=h(ut,I,pt),Ct===null?st=ut:Ct.sibling=ut,Ct=ut);return Pt&&vs(U,pt),st}for(ut=l(ut);pt<z.length;pt++)ke=j(ut,U,pt,z[pt],G),ke!==null&&(e&&ke.alternate!==null&&ut.delete(ke.key===null?pt:ke.key),I=h(ke,I,pt),Ct===null?st=ke:Ct.sibling=ke,Ct=ke);return e&&ut.forEach(function(Br){return n(U,Br)}),Pt&&vs(U,pt),st}function vt(U,I,z,G){if(z==null)throw Error(a(151));for(var st=null,Ct=null,ut=I,pt=I=0,ke=null,Bt=z.next();ut!==null&&!Bt.done;pt++,Bt=z.next()){ut.index>pt?(ke=ut,ut=null):ke=ut.sibling;var Br=B(U,ut,Bt.value,G);if(Br===null){ut===null&&(ut=ke);break}e&&ut&&Br.alternate===null&&n(U,ut),I=h(Br,I,pt),Ct===null?st=Br:Ct.sibling=Br,Ct=Br,ut=ke}if(Bt.done)return s(U,ut),Pt&&vs(U,pt),st;if(ut===null){for(;!Bt.done;pt++,Bt=z.next())Bt=F(U,Bt.value,G),Bt!==null&&(I=h(Bt,I,pt),Ct===null?st=Bt:Ct.sibling=Bt,Ct=Bt);return Pt&&vs(U,pt),st}for(ut=l(ut);!Bt.done;pt++,Bt=z.next())Bt=j(ut,U,pt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ut.delete(Bt.key===null?pt:Bt.key),I=h(Bt,I,pt),Ct===null?st=Bt:Ct.sibling=Bt,Ct=Bt);return e&&ut.forEach(function(BS){return n(U,BS)}),Pt&&vs(U,pt),st}function oe(U,I,z,G){if(typeof z=="object"&&z!==null&&z.type===g&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var st=z.key;I!==null;){if(I.key===st){if(st=z.type,st===g){if(I.tag===7){s(U,I.sibling),G=f(I,z.props.children),G.return=U,U=G;break t}}else if(I.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&Sg(st)===I.type){s(U,I.sibling),G=f(I,z.props),Bl(G,z),G.return=U,U=G;break t}s(U,I);break}else n(U,I);I=I.sibling}z.type===g?(G=Os(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=Zu(z.type,z.key,z.props,null,U.mode,G),Bl(G,z),G.return=U,U=G)}return v(U);case m:t:{for(st=z.key;I!==null;){if(I.key===st)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){s(U,I.sibling),G=f(I,z.children||[]),G.return=U,U=G;break t}else{s(U,I);break}else n(U,I);I=I.sibling}G=Hh(z,U.mode,G),G.return=U,U=G}return v(U);case rt:return st=z._init,z=st(z._payload),oe(U,I,z,G)}if(et(z))return lt(U,I,z,G);if(Z(z)){if(st=Z(z),typeof st!="function")throw Error(a(150));return z=st.call(z),vt(U,I,z,G)}if(typeof z.then=="function")return oe(U,I,Mu(z),G);if(z.$$typeof===P)return oe(U,I,$u(U,z),G);Nu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(s(U,I.sibling),G=f(I,z),G.return=U,U=G):(s(U,I),G=jh(z,U.mode,G),G.return=U,U=G),v(U)):s(U,I)}return function(U,I,z,G){try{Pl=0;var st=oe(U,I,z,G);return ga=null,st}catch(ut){if(ut===Ll)throw ut;var Ct=kn(29,ut,null,U.mode);return Ct.lanes=G,Ct.return=U,Ct}finally{}}}var Ts=wg(!0),Rg=wg(!1),ya=Lt(null),xu=Lt(0);function Cg(e,n){e=Yi,Gt(xu,e),Gt(ya,n),Yi=e|n.baseLanes}function Yf(){Gt(xu,Yi),Gt(ya,ya.current)}function Xf(){Yi=xu.current,re(ya),re(xu)}var Nn=Lt(null),di=null;function br(e){var n=e.alternate;Gt(we,we.current&1),Gt(Nn,e),di===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(di=e)}function Dg(e){if(e.tag===22){if(Gt(we,we.current),Gt(Nn,e),di===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(di=e)}}else Ar()}function Ar(){Gt(we,we.current),Gt(Nn,Nn.current)}function Pi(e){re(Nn),di===e&&(di=null),re(we)}var we=Lt(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var CA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},DA=r.unstable_scheduleCallback,VA=r.unstable_NormalPriority,Re={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new CA,data:new Map,refCount:0}}function ql(e){e.refCount--,e.refCount===0&&DA(VA,function(){e.controller.abort()})}var jl=null,Jf=0,_a=0,va=null;function OA(e,n){if(jl===null){var s=jl=[];Jf=0,_a=rd(),va={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jf++,n.then(Vg,Vg),n}function Vg(){if(--Jf===0&&jl!==null){va!==null&&(va.status="fulfilled");var e=jl;jl=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function IA(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Og=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&OA(e,n),Og!==null&&Og(e,n)};var bs=Lt(null);function Wf(){var e=bs.current;return e!==null?e:Yt.pooledCache}function ku(e,n){n===null?Gt(bs,bs.current):Gt(bs,n.pool)}function Ig(){var e=Wf();return e===null?null:{parent:Re._currentValue,pool:e}}var Sr=0,Rt=null,Qt=null,ge=null,Lu=!1,Ea=!1,As=!1,zu=0,Hl=0,Ta=null,MA=0;function fe(){throw Error(a(321))}function th(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function eh(e,n,s,l,f,h){return Sr=h,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?Ss:wr,As=!1,h=s(l,f),As=!1,Ea&&(h=Ng(n,s,l,f)),Mg(e),h}function Mg(e){A.H=pi;var n=Qt!==null&&Qt.next!==null;if(Sr=0,ge=Qt=Rt=null,Lu=!1,Hl=0,Ta=null,n)throw Error(a(300));e===null||xe||(e=e.dependencies,e!==null&&Ku(e)&&(xe=!0))}function Ng(e,n,s,l){Rt=e;var f=0;do{if(Ea&&(Ta=null),Hl=0,Ea=!1,25<=f)throw Error(a(301));if(f+=1,ge=Qt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=ws,h=n(s,l)}while(Ea);return h}function NA(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function nh(){var e=zu!==0;return zu=0,e}function ih(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rh(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Sr=0,ge=Qt=Rt=null,Ea=!1,Hl=zu=0,Ta=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ge===null?Rt.memoizedState:ge.next;if(n!==null)ge=n,Qt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?Rt.memoizedState=ge=e:ge=ge.next=e}return ge}var Pu;Pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gl(e){var n=Hl;return Hl+=1,Ta===null&&(Ta=[]),e=bg(Ta,e,n),n=Rt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Ss:wr),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===P)return Ke(e)}throw Error(a(438,String(e)))}function sh(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=bt;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ye();return ah(n,Qt,e)}function ah(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,h=l.pending;if(h!==null){if(f!==null){var v=f.next;f.next=h.next,h.next=v}n.baseQueue=f=h,l.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=v=null,w=null,M=n,H=!1;do{var F=M.lane&-536870913;if(F!==M.lane?(xt&F)===F:(Sr&F)===F){var B=M.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),F===_a&&(H=!0);else if((Sr&B)===B){M=M.next,B===_a&&(H=!0);continue}else F={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(E=w=F,v=h):w=w.next=F,Rt.lanes|=B,xr|=B;F=M.action,As&&s(h,F),h=M.hasEagerState?M.eagerState:s(h,F)}else B={lane:F,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(E=w=B,v=h):w=w.next=B,Rt.lanes|=F,xr|=F;M=M.next}while(M!==null&&M!==n);if(w===null?v=h:w.next=E,!mn(h,e.memoizedState)&&(xe=!0,H&&(s=va,s!==null)))throw s;e.memoizedState=h,e.baseState=v,e.baseQueue=w,l.lastRenderedState=h}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function lh(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,h=n.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do h=e(h,v.action),v=v.next;while(v!==f);mn(h,n.memoizedState)||(xe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function xg(e,n,s){var l=Rt,f=ye(),h=Pt;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!mn((Qt||f).memoizedState,s);if(v&&(f.memoizedState=s,xe=!0),f=f.queue,ch(Lg.bind(null,l,f,e),[e]),f.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,ba(9,kg.bind(null,l,f,s,n),{destroy:void 0},null),Yt===null)throw Error(a(349));h||(Sr&60)!==0||Ug(l,n,s)}return s}function Ug(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=Pu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function kg(e,n,s,l){n.value=s,n.getSnapshot=l,zg(n)&&Pg(e)}function Lg(e,n,s){return s(function(){zg(n)&&Pg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Pg(e){var n=Tr(e,2);n!==null&&ln(n,e,2)}function oh(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),As){ei(!0);try{s()}finally{ei(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function Bg(e,n,s,l){return e.baseState=s,ah(e,Qt,typeof l=="function"?l:Bi)}function xA(e,n,s,l,f){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};A.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,qg(n,h)):(h.next=s.next,n.pending=s.next=h)}}function qg(e,n){var s=n.action,l=n.payload,f=e.state;if(n.isTransition){var h=A.T,v={};A.T=v;try{var E=s(f,l),w=A.S;w!==null&&w(v,E),jg(e,n,E)}catch(M){uh(e,n,M)}finally{A.T=h}}else try{h=s(f,l),jg(e,n,h)}catch(M){uh(e,n,M)}}function jg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Hg(e,n,l)},function(l){return uh(e,n,l)}):Hg(e,n,s)}function Hg(e,n,s){n.status="fulfilled",n.value=s,Gg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,qg(e,s)))}function uh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Gg(n),n=n.next;while(n!==l)}e.action=null}function Gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Fg(e,n){if(Pt){var s=Yt.formState;if(s!==null){t:{var l=Rt;if(Pt){if(Be){e:{for(var f=Be,h=hi;f.nodeType!==8;){if(!h){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Be=$n(f.nextSibling),l=f.data==="F!";break t}}Es(l)}l=!1}l&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},s.queue=l,s=cy.bind(null,Rt,l),l.dispatch=s,l=oh(!1),h=mh.bind(null,Rt,!1,l.queue),l=cn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,s=xA.bind(null,Rt,f,h,s),f.dispatch=s,l.memoizedState=e,[n,s,!1]}function Kg(e){var n=ye();return $g(n,Qt,e)}function $g(e,n,s){n=ah(e,n,Qg)[0],e=qu(Bi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Gl(n):n;var l=ye(),f=l.queue,h=f.dispatch;return s!==l.memoizedState&&(Rt.flags|=2048,ba(9,UA.bind(null,f,s),{destroy:void 0},null)),[n,h,e]}function UA(e,n){e.action=n}function Yg(e){var n=ye(),s=Qt;if(s!==null)return $g(n,s,e);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ba(e,n,s,l){return e={tag:e,create:n,inst:s,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=Pu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Xg(){return ye().memoizedState}function ju(e,n,s,l){var f=cn();Rt.flags|=e,f.memoizedState=ba(1|n,s,{destroy:void 0},l===void 0?null:l)}function Hu(e,n,s,l){var f=ye();l=l===void 0?null:l;var h=f.memoizedState.inst;Qt!==null&&l!==null&&th(l,Qt.memoizedState.deps)?f.memoizedState=ba(n,s,h,l):(Rt.flags|=e,f.memoizedState=ba(1|n,s,h,l))}function Zg(e,n){ju(8390656,8,e,n)}function ch(e,n){Hu(2048,8,e,n)}function Jg(e,n){return Hu(4,2,e,n)}function Wg(e,n){return Hu(4,4,e,n)}function ty(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ey(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,ty.bind(null,n,e),s)}function fh(){}function ny(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&th(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function iy(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&th(n,l[1]))return l[0];if(l=e(),As){ei(!0);try{e()}finally{ei(!1)}}return s.memoizedState=[l,n],l}function hh(e,n,s){return s===void 0||(Sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=s_(),Rt.lanes|=e,xr|=e,s)}function ry(e,n,s,l){return mn(s,n)?s:ya.current!==null?(e=hh(e,s,l),mn(e,n)||(xe=!0),e):(Sr&42)===0?(xe=!0,e.memoizedState=s):(e=s_(),Rt.lanes|=e,xr|=e,n)}function sy(e,n,s,l,f){var h=nt.p;nt.p=h!==0&&8>h?h:8;var v=A.T,E={};A.T=E,mh(e,!1,n,s);try{var w=f(),M=A.S;if(M!==null&&M(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=IA(w,l);Ql(e,n,H,vn(e))}else Ql(e,n,l,vn(e))}catch(F){Ql(e,n,{then:function(){},status:"rejected",reason:F},vn())}finally{nt.p=h,A.T=v}}function kA(){}function dh(e,n,s,l){if(e.tag!==5)throw Error(a(476));var f=ay(e).queue;sy(e,f,n,wt,s===null?kA:function(){return ly(e),s(l)})}function ay(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:wt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ly(e){var n=ay(e).next.queue;Ql(e,n,{},vn())}function ph(){return Ke(fo)}function oy(){return ye().memoizedState}function uy(){return ye().memoizedState}function LA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=Dr(s);var l=Vr(n,e,s);l!==null&&(ln(l,n,s),$l(l,n,s)),n={cache:Zf()},e.payload=n;return}n=n.return}}function zA(e,n,s){var l=vn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?fy(n,s):(s=Gf(e,n,s,l),s!==null&&(ln(s,e,l),hy(s,n,l)))}function cy(e,n,s){var l=vn();Ql(e,n,s,l)}function Ql(e,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))fy(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var v=n.lastRenderedState,E=h(v,s);if(f.hasEagerState=!0,f.eagerState=E,mn(E,v))return Cu(e,n,f,0),Yt===null&&Ru(),!1}catch{}finally{}if(s=Gf(e,n,f,l),s!==null)return ln(s,e,l),hy(s,n,l),!0}return!1}function mh(e,n,s,l){if(l={lane:2,revertLane:rd(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Gf(e,s,l,2),n!==null&&ln(n,e,2)}function Gu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function fy(e,n){Ea=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function hy(e,n,s){if((s&4194176)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fr(e,s)}}var pi={readContext:Ke,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe};pi.useCacheRefresh=fe,pi.useMemoCache=fe,pi.useHostTransitionStatus=fe,pi.useFormState=fe,pi.useActionState=fe,pi.useOptimistic=fe;var Ss={readContext:Ke,use:Bu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Zg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,ty.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var l=e();if(As){ei(!0);try{e()}finally{ei(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=cn();if(s!==void 0){var f=s(n);if(As){ei(!0);try{s(n)}finally{ei(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=zA.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=oh(e);var n=e.queue,s=cy.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:fh,useDeferredValue:function(e,n){var s=cn();return hh(s,e,n)},useTransition:function(){var e=oh(!1);return e=sy.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Rt,f=cn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Yt===null)throw Error(a(349));(xt&60)!==0||Ug(l,n,s)}f.memoizedState=s;var h={value:s,getSnapshot:n};return f.queue=h,Zg(Lg.bind(null,l,h,e),[e]),l.flags|=2048,ba(9,kg.bind(null,l,h,s,n),{destroy:void 0},null),s},useId:function(){var e=cn(),n=Yt.identifierPrefix;if(Pt){var s=zi,l=Li;s=(l&~(1<<32-nn(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=MA++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return cn().memoizedState=LA.bind(null,Rt)}};Ss.useMemoCache=sh,Ss.useHostTransitionStatus=ph,Ss.useFormState=Fg,Ss.useActionState=Fg,Ss.useOptimistic=function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=mh.bind(null,Rt,!0,s),s.dispatch=n,[e,n]};var wr={readContext:Ke,use:Bu,useCallback:ny,useContext:Ke,useEffect:ch,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:qu,useRef:Xg,useState:function(){return qu(Bi)},useDebugValue:fh,useDeferredValue:function(e,n){var s=ye();return ry(s,Qt.memoizedState,e,n)},useTransition:function(){var e=qu(Bi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:xg,useId:oy};wr.useCacheRefresh=uy,wr.useMemoCache=sh,wr.useHostTransitionStatus=ph,wr.useFormState=Kg,wr.useActionState=Kg,wr.useOptimistic=function(e,n){var s=ye();return Bg(s,Qt,e,n)};var ws={readContext:Ke,use:Bu,useCallback:ny,useContext:Ke,useEffect:ch,useImperativeHandle:ey,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:lh,useRef:Xg,useState:function(){return lh(Bi)},useDebugValue:fh,useDeferredValue:function(e,n){var s=ye();return Qt===null?hh(s,e,n):ry(s,Qt.memoizedState,e,n)},useTransition:function(){var e=lh(Bi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:xg,useId:oy};ws.useCacheRefresh=uy,ws.useMemoCache=sh,ws.useHostTransitionStatus=ph,ws.useFormState=Yg,ws.useActionState=Yg,ws.useOptimistic=function(e,n){var s=ye();return Qt!==null?Bg(s,Qt,e,n):(s.baseState=e,[e,s.queue.dispatch])};function gh(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:D({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yh={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=vn(),f=Dr(l);f.payload=n,s!=null&&(f.callback=s),n=Vr(e,f,l),n!==null&&(ln(n,e,l),$l(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=vn(),f=Dr(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Vr(e,f,l),n!==null&&(ln(n,e,l),$l(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),l=Dr(s);l.tag=2,n!=null&&(l.callback=n),n=Vr(e,l,s),n!==null&&(ln(n,e,s),$l(n,e,s))}};function dy(e,n,s,l,f,h,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,v):n.prototype&&n.prototype.isPureReactComponent?!Ml(s,l)||!Ml(f,h):!0}function py(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&yh.enqueueReplaceState(n,n.state,null)}function Rs(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=D({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function my(e){Qu(e)}function gy(e){console.error(e)}function yy(e){Qu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _y(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _h(e,n,s){return s=Dr(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function vy(e){return e=Dr(e),e.tag=3,e}function Ey(e,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;e.payload=function(){return f(h)},e.callback=function(){_y(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){_y(n,s,l),typeof f!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PA(e,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Kl(n,s,f,!0),s=Nn.current,s!==null){switch(s.tag){case 13:return di===null?Wh():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===$f?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ed(e,l,f)),!1;case 22:return s.flags|=65536,l===$f?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ed(e,l,f)),!1}throw Error(a(435,s.tag))}return ed(e,l,f),Wh(),!1}if(Pt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Kf&&(e=Error(a(422),{cause:l}),kl(On(e,s)))):(l!==Kf&&(n=Error(a(423),{cause:l}),kl(On(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=On(l,s),f=_h(e.stateNode,l,f),Nh(e,f),le!==4&&(le=2)),!1;var h=Error(a(520),{cause:l});if(h=On(h,s),no===null?no=[h]:no.push(h),le!==4&&(le=2),n===null)return!0;l=On(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=_h(s.stateNode,l,e),Nh(s,e),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ur===null||!Ur.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=vy(f),Ey(f,e,s,l),Nh(s,f),!1}s=s.return}while(s!==null);return!1}var Ty=Error(a(461)),xe=!1;function qe(e,n,s,l){n.child=e===null?Rg(n,null,s,l):Ts(n,e.child,s,l)}function by(e,n,s,l,f){s=s.render;var h=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ds(n),l=eh(e,n,s,v,h,f),E=nh(),e!==null&&!xe?(ih(e,n,f),qi(e,n,f)):(Pt&&E&&Qf(n),n.flags|=1,qe(e,n,l,f),n.child)}function Ay(e,n,s,l,f){if(e===null){var h=s.type;return typeof h=="function"&&!qh(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,Sy(e,n,h,l,f)):(e=Zu(s.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Ch(e,f)){var v=h.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(v,l)&&e.ref===n.ref)return qi(e,n,f)}return n.flags|=1,e=Nr(h,l),e.ref=n.ref,e.return=n,n.child=e}function Sy(e,n,s,l,f){if(e!==null){var h=e.memoizedProps;if(Ml(h,l)&&e.ref===n.ref)if(xe=!1,n.pendingProps=l=h,Ch(e,f))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,qi(e,n,f)}return vh(e,n,s,l,f)}function wy(e,n,s){var l=n.pendingProps,f=l.children,h=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Fl(e,n),l.mode==="hidden"||h){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|s:s,e!==null){for(f=n.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Ry(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,v!==null?v.cachePool:null),v!==null?Cg(n,v):Yf(),Dg(n);else return n.lanes=n.childLanes=536870912,Ry(e,n,v!==null?v.baseLanes|s:s,s)}else v!==null?(ku(n,v.cachePool),Cg(n,v),Ar(),n.memoizedState=null):(e!==null&&ku(n,null),Yf(),Ar());return qe(e,n,f,s),n.child}function Ry(e,n,s,l){var f=Wf();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ku(n,null),Yf(),Dg(n),e!==null&&Kl(e,n,l,!0),null}function Fl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function vh(e,n,s,l,f){return Ds(n),s=eh(e,n,s,l,void 0,f),l=nh(),e!==null&&!xe?(ih(e,n,f),qi(e,n,f)):(Pt&&l&&Qf(n),n.flags|=1,qe(e,n,s,f),n.child)}function Cy(e,n,s,l,f,h){return Ds(n),n.updateQueue=null,s=Ng(n,l,s,f),Mg(e),l=nh(),e!==null&&!xe?(ih(e,n,h),qi(e,n,h)):(Pt&&l&&Qf(n),n.flags|=1,qe(e,n,s,h),n.child)}function Dy(e,n,s,l,f){if(Ds(n),n.stateNode===null){var h=da,v=s.contextType;typeof v=="object"&&v!==null&&(h=Ke(v)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Ih(n),v=s.contextType,h.context=typeof v=="object"&&v!==null?Ke(v):da,h.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(gh(n,s,v,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&yh.enqueueReplaceState(h,h.state,null),Xl(n,l,h,f),Yl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,w=Rs(s,E);h.props=w;var M=h.context,H=s.contextType;v=da,typeof H=="object"&&H!==null&&(v=Ke(H));var F=s.getDerivedStateFromProps;H=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||M!==v)&&py(n,h,l,v),Cr=!1;var B=n.memoizedState;h.state=B,Xl(n,l,h,f),Yl(),M=n.memoizedState,E||B!==M||Cr?(typeof F=="function"&&(gh(n,s,F,l),M=n.memoizedState),(w=Cr||dy(n,s,w,l,B,M,v))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),h.props=l,h.state=M,h.context=v,l=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Mh(e,n),v=n.memoizedProps,H=Rs(s,v),h.props=H,F=n.pendingProps,B=h.context,M=s.contextType,w=da,typeof M=="object"&&M!==null&&(w=Ke(M)),E=s.getDerivedStateFromProps,(M=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==F||B!==w)&&py(n,h,l,w),Cr=!1,B=n.memoizedState,h.state=B,Xl(n,l,h,f),Yl();var j=n.memoizedState;v!==F||B!==j||Cr||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof E=="function"&&(gh(n,s,E,l),j=n.memoizedState),(H=Cr||dy(n,s,H,l,B,j,w)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,j,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,j,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=w,l=H):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Fl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=Ts(n,e.child,null,f),n.child=Ts(n,null,s,f)):qe(e,n,s,f),n.memoizedState=h.state,e=n.child):e=qi(e,n,f),e}function Vy(e,n,s,l){return Ul(),n.flags|=256,qe(e,n,s,l),n.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Th(e){return{baseLanes:e,cachePool:Ig()}}function bh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ln),e}function Oy(e,n,s){var l=n.pendingProps,f=!1,h=(n.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(f?br(n):Ar(),Pt){var E=Be,w;if(w=E){t:{for(w=E,E=hi;w.nodeType!==8;){if(!E){E=null;break t}if(w=$n(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:_s!==null?{id:Li,overflow:zi}:null,retryLane:536870912},w=kn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,an=n,Be=null,w=!0):w=!1}w||Es(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Pi(n)}return E=l.children,l=l.fallback,f?(Ar(),f=n.mode,E=Sh({mode:"hidden",children:E},f),l=Os(l,f,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,f=n.child,f.memoizedState=Th(s),f.childLanes=bh(e,v,s),n.memoizedState=Eh,l):(br(n),Ah(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(h)n.flags&256?(br(n),n.flags&=-257,n=wh(e,n,s)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),f=l.fallback,E=n.mode,l=Sh({mode:"visible",children:l.children},E),f=Os(f,E,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Ts(n,e.child,null,s),l=n.child,l.memoizedState=Th(s),l.childLanes=bh(e,v,s),n.memoizedState=Eh,n=f);else if(br(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(a(419)),l.stack="",l.digest=v,kl({value:l,source:null,stack:null}),n=wh(e,n,s)}else if(xe||Kl(e,n,s,!1),v=(s&e.childLanes)!==0,xe||v){if(v=Yt,v!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,Tr(e,l),ln(v,e,l),Ty}E.data==="$?"||Wh(),n=wh(e,n,s)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=tS.bind(null,e),E._reactRetry=n,n=null):(e=w.treeContext,Be=$n(E.nextSibling),an=n,Pt=!0,Fn=null,hi=!1,e!==null&&(In[Mn++]=Li,In[Mn++]=zi,In[Mn++]=_s,Li=e.id,zi=e.overflow,_s=n),n=Ah(n,l.children),n.flags|=4096);return n}return f?(Ar(),f=l.fallback,E=n.mode,w=e.child,M=w.sibling,l=Nr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,M!==null?f=Nr(M,f):(f=Os(f,E,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,E=e.child.memoizedState,E===null?E=Th(s):(w=E.cachePool,w!==null?(M=Re._currentValue,w=w.parent!==M?{parent:M,pool:M}:w):w=Ig(),E={baseLanes:E.baseLanes|s,cachePool:w}),f.memoizedState=E,f.childLanes=bh(e,v,s),n.memoizedState=Eh,l):(br(n),s=e.child,e=s.sibling,s=Nr(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function Ah(e,n){return n=Sh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Sh(e,n){return n_(e,n,0,null)}function wh(e,n,s){return Ts(n,e.child,null,s),e=Ah(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Iy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Vh(e.return,n,s)}function Rh(e,n,s,l,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=f)}function My(e,n,s){var l=n.pendingProps,f=l.revealOrder,h=l.tail;if(qe(e,n,l.children,s),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iy(e,s,n);else if(e.tag===19)Iy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(we,l),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Rh(n,!1,f,s,h);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Uu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Rh(n,!0,s,null,h);break;case"together":Rh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Kl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Nr(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Nr(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Ch(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function BA(e,n,s){switch(n.tag){case 3:sr(n,n.stateNode.containerInfo),Rr(n,Re,e.memoizedState.cache),Ul();break;case 27:case 5:fl(n);break;case 4:sr(n,n.stateNode.containerInfo);break;case 10:Rr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(br(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Oy(e,n,s):(br(n),e=qi(e,n,s),e!==null?e.sibling:null);br(n);break;case 19:var f=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Kl(e,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return My(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Gt(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,wy(e,n,s);case 24:Rr(n,Re,e.memoizedState.cache)}return qi(e,n,s)}function Ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Ch(e,s)&&(n.flags&128)===0)return xe=!1,BA(e,n,s);xe=(e.flags&131072)!==0}else xe=!1,Pt&&(n.flags&1048576)!==0&&yg(n,Ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")qh(l)?(e=Rs(l,e),n.tag=1,n=Dy(null,n,l,e,s)):(n.tag=0,n=vh(null,n,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===$){n.tag=11,n=by(null,n,l,e,s);break t}else if(f===gt){n.tag=14,n=Ay(null,n,l,e,s);break t}}throw n=S(l)||l,Error(a(306,n,""))}}return n;case 0:return vh(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Rs(l,n.pendingProps),Dy(e,n,l,f,s);case 3:t:{if(sr(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var h=n.pendingProps;f=n.memoizedState,l=f.element,Mh(e,n),Xl(n,h,null,s);var v=n.memoizedState;if(h=v.cache,Rr(n,Re,h),h!==f.cache&&Oh(n,[Re],s,!0),Yl(),h=v.element,f.isDehydrated)if(f={element:h,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vy(e,n,h,s);break t}else if(h!==l){l=On(Error(a(424)),n),kl(l),n=Vy(e,n,h,s);break t}else for(Be=$n(n.stateNode.containerInfo.firstChild),an=n,Pt=!0,Fn=null,hi=!0,s=Rg(n,null,h,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ul(),h===l){n=qi(e,n,s);break t}qe(e,n,h,s)}n=n.child}return n;case 26:return Fl(e,n),e===null?(s=k_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,l=uc(bn.current).createElement(s),l[Ie]=n,l[be]=e,je(l,s,e),Wt(l),n.stateNode=l):n.memoizedState=k_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return fl(n),e===null&&Pt&&(l=n.stateNode=N_(n.type,n.pendingProps,bn.current),an=n,hi=!0,Be=$n(l.firstChild)),l=n.pendingProps.children,e!==null||Pt?qe(e,n,l,s):n.child=Ts(n,null,l,s),Fl(e,n),n.child;case 5:return e===null&&Pt&&((f=l=Be)&&(l=gS(l,n.type,n.pendingProps,hi),l!==null?(n.stateNode=l,an=n,Be=$n(l.firstChild),hi=!1,f=!0):f=!1),f||Es(n)),fl(n),f=n.type,h=n.pendingProps,v=e!==null?e.memoizedProps:null,l=h.children,dd(f,h)?l=null:v!==null&&dd(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=eh(e,n,NA,null,null,s),fo._currentValue=f),Fl(e,n),qe(e,n,l,s),n.child;case 6:return e===null&&Pt&&((e=s=Be)&&(s=yS(s,n.pendingProps,hi),s!==null?(n.stateNode=s,an=n,Be=null,e=!0):e=!1),e||Es(n)),null;case 13:return Oy(e,n,s);case 4:return sr(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ts(n,null,l,s):qe(e,n,l,s),n.child;case 11:return by(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Rr(n,n.type,l.value),qe(e,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Ds(n),f=Ke(f),l=l(f),n.flags|=1,qe(e,n,l,s),n.child;case 14:return Ay(e,n,n.type,n.pendingProps,s);case 15:return Sy(e,n,n.type,n.pendingProps,s);case 19:return My(e,n,s);case 22:return wy(e,n,s);case 24:return Ds(n),l=Ke(Re),e===null?(f=Wf(),f===null&&(f=Yt,h=Zf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),n.memoizedState={parent:l,cache:f},Ih(n),Rr(n,Re,f)):((e.lanes&s)!==0&&(Mh(e,n),Xl(n,null,null,s),Yl()),f=e.memoizedState,h=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Rr(n,Re,l)):(l=h.cache,Rr(n,Re,l),l!==f.cache&&Oh(n,[Re],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Dh=Lt(null),Cs=null,ji=null;function Rr(e,n,s){Gt(Dh,n._currentValue),n._currentValue=s}function Hi(e){e._currentValue=Dh.current,re(Dh)}function Vh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Oh(e,n,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var v=f.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=f;for(var w=0;w<n.length;w++)if(E.context===n[w]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),Vh(h.return,s,e),l||(v=null);break t}h=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,h=v.alternate,h!==null&&(h.lanes|=s),Vh(v,s,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Kl(e,n,s,l){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=f.type;mn(f.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(f===rr.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}f=f.return}e!==null&&Oh(n,e,s,l),n.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Cs=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return xy(Cs,e)}function $u(e,n){return Cs===null&&Ds(e),xy(e,n)}function xy(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var Cr=!1;function Ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Du(e),mg(e,null,s),n}return Cu(e,l,n,s),Du(e)}function $l(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fr(e,s)}}function Nh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=v:h=h.next=v,s=s.next}while(s!==null);h===null?f=h=n:h=h.next=n}else f=h=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var xh=!1;function Yl(){if(xh){var e=va;if(e!==null)throw e}}function Xl(e,n,s,l){xh=!1;var f=e.updateQueue;Cr=!1;var h=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var w=E,M=w.next;w.next=null,v===null?h=M:v.next=M,v=w;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=M:E.next=M,H.lastBaseUpdate=w))}if(h!==null){var F=f.baseState;v=0,H=M=w=null,E=h;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(xt&B)===B:(l&B)===B){B!==0&&B===_a&&(xh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,vt=E;B=n;var oe=s;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){F=lt.call(oe,F,B);break t}F=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,B=typeof lt=="function"?lt.call(oe,F,B):lt,B==null)break t;F=D({},F,B);break t;case 2:Cr=!0}}B=E.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=f.callbacks,j===null?f.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(M=H=j,w=F):H=H.next=j,v|=B;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;j=E,E=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);H===null&&(w=F),f.baseState=w,f.firstBaseUpdate=M,f.lastBaseUpdate=H,h===null&&(f.shared.lanes=0),xr|=v,e.lanes=v,e.memoizedState=F}}function Uy(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ky(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Uy(s[e],n)}function Zl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var h=s.create,v=s.inst;l=h(),v.destroy=l}s=s.next}while(s!==f)}}catch(E){Kt(n,n.return,E)}}function Or(e,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=n;var w=s;try{E()}catch(M){Kt(f,w,M)}}}l=l.next}while(l!==h)}}catch(M){Kt(n,n.return,M)}}function Ly(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ky(n,s)}catch(l){Kt(e,e.return,l)}}}function zy(e,n,s){s.props=Rs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Kt(e,n,l)}}function Vs(e,n){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?e.refCleanup=s(f):s.current=f}}catch(h){Kt(e,n,h)}}function gn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Kt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Kt(e,n,f)}else s.current=null}function Py(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Kt(e,e.return,f)}}function By(e,n,s){try{var l=e.stateNode;fS(l,e.type,s,n),l[be]=n}catch(f){Kt(e,e.return,f)}}function qy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Uh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(kh(e,n,s),e=e.sibling;e!==null;)kh(e,n,s),e=e.sibling}function Yu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}var Gi=!1,ae=!1,Lh=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Ue=null,Hy=!1;function qA(e,n){if(e=e.containerInfo,fd=mc,e=ag(e),Pf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var v=0,E=-1,w=-1,M=0,H=0,F=e,B=null;e:for(;;){for(var j;F!==s||f!==0&&F.nodeType!==3||(E=v+f),F!==h||l!==0&&F.nodeType!==3||(w=v+l),F.nodeType===3&&(v+=F.nodeValue.length),(j=F.firstChild)!==null;)B=F,F=j;for(;;){if(F===e)break e;if(B===s&&++M===f&&(E=v),B===h&&++H===l&&(w=v),(j=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=j}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},mc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=n,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var lt=Rs(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(lt,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Kt(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}return lt=Hy,Hy=!1,lt}function Gy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),l&4&&Zl(5,s);break;case 1:if(Fi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(E){Kt(s,s.return,E)}else{var f=Rs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(s,s.return,E)}}l&64&&Ly(s),l&512&&Vs(s,s.return);break;case 3:if(Fi(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{ky(l,e)}catch(E){Kt(s,s.return,E)}}break;case 26:Fi(e,s),l&512&&Vs(s,s.return);break;case 27:case 5:Fi(e,s),n===null&&l&4&&Py(s),l&512&&Vs(s,s.return);break;case 12:Fi(e,s);break;case 13:Fi(e,s),l&4&&Ky(e,s);break;case 22:if(f=s.memoizedState!==null||Gi,!f){n=n!==null&&n.memoizedState!==null||ae;var h=Gi,v=ae;Gi=f,(ae=n)&&!v?Ir(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Gi=h,ae=v}l&512&&(s.memoizedProps.mode==="manual"?Vs(s,s.return):gn(s,s.return));break;default:Fi(e,s)}}function Qy(e){var n=e.alternate;n!==null&&(e.alternate=null,Qy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ss(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,yn=!1;function Qi(e,n,s){for(s=s.child;s!==null;)Fy(e,n,s),s=s.sibling}function Fy(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ar,s)}catch{}switch(s.tag){case 26:ae||gn(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ae||gn(s,n);var l=_e,f=yn;for(_e=s.stateNode,Qi(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);ss(s),_e=l,yn=f;break;case 5:ae||gn(s,n);case 6:f=_e;var h=yn;if(_e=null,Qi(e,n,s),_e=f,yn=h,_e!==null)if(yn)try{e=_e,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Kt(s,n,v)}else try{_e.removeChild(s.stateNode)}catch(v){Kt(s,n,v)}break;case 18:_e!==null&&(yn?(n=_e,s=s.stateNode,n.nodeType===8?md(n.parentNode,s):n.nodeType===1&&md(n,s),go(n)):md(_e,s.stateNode));break;case 4:l=_e,f=yn,_e=s.stateNode.containerInfo,yn=!0,Qi(e,n,s),_e=l,yn=f;break;case 0:case 11:case 14:case 15:ae||Or(2,s,n),ae||Or(4,s,n),Qi(e,n,s);break;case 1:ae||(gn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&zy(s,n,l)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:ae||gn(s,n),ae=(l=ae)||s.memoizedState!==null,Qi(e,n,s),ae=l;break;default:Qi(e,n,s)}}function Ky(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{go(e)}catch(s){Kt(n,n.return,s)}}function jA(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new jy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new jy),n;default:throw Error(a(435,e.tag))}}function zh(e,n){var s=jA(e);n.forEach(function(l){var f=eS.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function xn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:_e=E.stateNode,yn=!1;break t;case 3:_e=E.stateNode.containerInfo,yn=!0;break t;case 4:_e=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(_e===null)throw Error(a(160));Fy(h,v,f),_e=null,yn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)$y(n,e),n=n.sibling}var Kn=null;function $y(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),Un(e),l&4&&(Or(3,e,e.return),Zl(3,e),Or(5,e,e.return));break;case 1:xn(n,e),Un(e),l&512&&(ae||s===null||gn(s,s.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Kn;if(xn(n,e),Un(e),l&512&&(ae||s===null||gn(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[dr]||h[Ie]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),je(h,l,s),h[Ie]=e,Wt(h),l=h;break t;case"link":var v=P_("link","href",f).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(h=v[E],h.getAttribute("href")===(s.href==null?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}h=f.createElement(l),je(h,l,s),f.head.appendChild(h);break;case"meta":if(v=P_("meta","content",f).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(h=v[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}h=f.createElement(l),je(h,l,s),f.head.appendChild(h);break;default:throw Error(a(468,l))}h[Ie]=e,Wt(h),l=h}e.stateNode=l}else B_(f,e.type,e.stateNode);else e.stateNode=z_(f,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?B_(f,e.type,e.stateNode):z_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&By(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){f=e.stateNode,h=e.memoizedProps;try{for(var w=f.firstChild;w;){var M=w.nextSibling,H=w.nodeName;w[dr]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=M}for(var F=e.type,B=f.attributes;B.length;)f.removeAttributeNode(B[0]);je(f,F,h),f[Ie]=e,f[be]=h}catch(lt){Kt(e,e.return,lt)}}case 5:if(xn(n,e),Un(e),l&512&&(ae||s===null||gn(s,s.return)),e.flags&32){f=e.stateNode;try{wn(f,"")}catch(lt){Kt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,By(e,f,s!==null?s.memoizedProps:f)),l&1024&&(Lh=!0);break;case 6:if(xn(n,e),Un(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Kt(e,e.return,lt)}}break;case 3:if(hc=null,f=Kn,Kn=cc(n.containerInfo),xn(n,e),Kn=f,Un(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{go(n.containerInfo)}catch(lt){Kt(e,e.return,lt)}Lh&&(Lh=!1,Yy(e));break;case 4:l=Kn,Kn=cc(e.stateNode.containerInfo),xn(n,e),Un(e),Kn=l;break;case 12:xn(n,e),Un(e);break;case 13:xn(n,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kh=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zh(e,l)));break;case 22:if(l&512&&(ae||s===null||gn(s,s.return)),w=e.memoizedState!==null,M=s!==null&&s.memoizedState!==null,H=Gi,F=ae,Gi=H||w,ae=F||M,xn(n,e),ae=F,Gi=H,Un(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Gi||ae,s===null||M||n||Aa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){M=s=n;try{if(f=M.stateNode,w)h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=M.stateNode,E=M.memoizedProps.style;var j=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Kt(M,M.return,lt)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=w?"":M.memoizedProps}catch(lt){Kt(M,M.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zh(e,s))));break;case 19:xn(n,e),Un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zh(e,l)));break;case 21:break;default:xn(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(qy(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var f=l.stateNode,h=Uh(e);Yu(e,h,f);break;case 5:var v=l.stateNode;l.flags&32&&(wn(v,""),l.flags&=-33);var E=Uh(e);Yu(e,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,M=Uh(e);kh(e,M,w);break;default:throw Error(a(161))}}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gy(e,n.alternate,n),n=n.sibling}function Aa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Or(4,n,n.return),Aa(n);break;case 1:gn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&zy(n,n.return,s),Aa(n);break;case 26:case 27:case 5:gn(n,n.return),Aa(n);break;case 22:gn(n,n.return),n.memoizedState===null&&Aa(n);break;default:Aa(n)}e=e.sibling}}function Ir(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,h=n,v=h.flags;switch(h.tag){case 0:case 11:case 15:Ir(f,h,s),Zl(4,h);break;case 1:if(Ir(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){Kt(l,l.return,M)}if(l=h,f=l.updateQueue,f!==null){var E=l.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)Uy(w[f],E)}catch(M){Kt(l,l.return,M)}}s&&v&64&&Ly(h),Vs(h,h.return);break;case 26:case 27:case 5:Ir(f,h,s),s&&l===null&&v&4&&Py(h),Vs(h,h.return);break;case 12:Ir(f,h,s);break;case 13:Ir(f,h,s),s&&v&4&&Ky(f,h);break;case 22:h.memoizedState===null&&Ir(f,h,s),Vs(h,h.return);break;default:Ir(f,h,s)}n=n.sibling}}function Ph(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ql(s))}function Bh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e))}function Mr(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xy(e,n,s,l),n=n.sibling}function Xy(e,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Mr(e,n,s,l),f&2048&&Zl(9,n);break;case 3:Mr(e,n,s,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ql(e)));break;case 12:if(f&2048){Mr(e,n,s,l),e=n.stateNode;try{var h=n.memoizedProps,v=h.id,E=h.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Kt(n,n.return,w)}}else Mr(e,n,s,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?Mr(e,n,s,l):Jl(e,n):h._visibility&4?Mr(e,n,s,l):(h._visibility|=4,Sa(e,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&Ph(n.alternate,n);break;case 24:Mr(e,n,s,l),f&2048&&Bh(n.alternate,n);break;default:Mr(e,n,s,l)}}function Sa(e,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,v=n,E=s,w=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(h,v,E,w,f),Zl(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&4?Sa(h,v,E,w,f):Jl(h,v):(H._visibility|=4,Sa(h,v,E,w,f)),f&&M&2048&&Ph(v.alternate,v);break;case 24:Sa(h,v,E,w,f),f&&M&2048&&Bh(v.alternate,v);break;default:Sa(h,v,E,w,f)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,f=l.flags;switch(l.tag){case 22:Jl(s,l),f&2048&&Ph(l.alternate,l);break;case 24:Jl(s,l),f&2048&&Bh(l.alternate,l);break;default:Jl(s,l)}n=n.sibling}}var Wl=8192;function wa(e){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)Zy(e),e=e.sibling}function Zy(e){switch(e.tag){case 26:wa(e),e.flags&Wl&&e.memoizedState!==null&&OS(Kn,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var n=Kn;Kn=cc(e.stateNode.containerInfo),wa(e),Kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,wa(e),Wl=n):wa(e));break;default:wa(e)}}function Jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function to(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,t_(l,e)}Jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&Or(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Xu(e)):to(e);break;default:to(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,t_(l,e)}Jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Or(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Xu(n));break;default:Xu(n)}e=e.sibling}}function t_(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Or(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ql(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var f=l.sibling,h=l.return;if(Qy(l),l===s){Ue=null;break t}if(f!==null){f.return=h,Ue=f;break t}Ue=h}}}function HA(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,n,s,l){return new HA(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nr(e,n){var s=e.alternate;return s===null?(s=kn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function e_(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Zu(e,n,s,l,f,h){var v=0;if(l=e,typeof e=="function")qh(e)&&(v=1);else if(typeof e=="string")v=DS(e,s,en.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Os(s.children,f,h,n);case y:v=8,f|=24;break;case T:return e=kn(12,s,n,f|2),e.elementType=T,e.lanes=h,e;case tt:return e=kn(13,s,n,f),e.elementType=tt,e.lanes=h,e;case K:return e=kn(19,s,n,f),e.elementType=K,e.lanes=h,e;case at:return n_(s,f,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case P:v=10;break t;case N:v=9;break t;case $:v=11;break t;case gt:v=14;break t;case rt:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=kn(v,s,n,f),n.elementType=e,n.type=l,n.lanes=h,n}function Os(e,n,s,l){return e=kn(7,e,l,n),e.lanes=s,e}function n_(e,n,s,l){e=kn(22,e,l,n),e.elementType=at,e.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=f._current;if(h===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var v=Tr(h,2);v!==null&&(f._pendingVisibility|=2,ln(v,h,2))}},attach:function(){var h=f._current;if(h===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var v=Tr(h,2);v!==null&&(f._pendingVisibility&=-3,ln(v,h,2))}}};return e.stateNode=f,e}function jh(e,n,s){return e=kn(6,e,null,n),e.lanes=s,e}function Hh(e,n,s){return n=kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ki(e){e.flags|=4}function i_(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!q_(n)){if(n=Nn.current,n!==null&&((xt&4194176)===xt?di!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==di))throw zl=$f,Eg;e.flags|=8192}}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ur():536870912,e.lanes|=n,Ca|=n)}function eo(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function GA(e,n,s){var l=n.pendingProps;switch(Ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(Re),Ri(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(xl(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fn!==null&&(Zh(Fn),Fn=null))),te(n),null;case 26:return s=n.memoizedState,e===null?(Ki(n),s!==null?(te(n),i_(n,s)):(te(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ki(n),te(n),i_(n,s)):(te(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ki(n),te(n),n.flags&=-16777217),null;case 27:Fs(n),s=bn.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=en.current,xl(n)?_g(n):(e=N_(f,l,s),n.stateNode=e,Ki(n))}return te(n),null;case 5:if(Fs(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(e=en.current,xl(n))_g(n);else{switch(f=uc(bn.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[Ie]=n,e[be]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(je(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ki(n)}}return te(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=bn.current,xl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||C_(e.nodeValue,s)),e||Es(n)}else e=uc(e).createTextNode(l),e[Ie]=n,n.stateNode=e}return te(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=xl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ie]=n}else Ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),f=!1}else Fn!==null&&(Zh(Fn),Fn=null),f=!0;if(!f)return n.flags&256?(Pi(n),n):(Pi(n),null)}if(Pi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),te(n),null;case 4:return Ri(),e===null&&od(n.stateNode.containerInfo),te(n),null;case 10:return Hi(n.type),te(n),null;case 19:if(re(we),f=n.memoizedState,f===null)return te(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)eo(f,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Uu(e),h!==null){for(n.flags|=128,eo(f,!1),e=h.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)e_(s,e),s=s.sibling;return Gt(we,we.current&1|2),n.child}e=e.sibling}f.tail!==null&&on()>Wu&&(n.flags|=128,l=!0,eo(f,!1),n.lanes=4194304)}else{if(!l)if(e=Uu(h),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),eo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Pt)return te(n),null}else 2*on()-f.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,l=!0,eo(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(e=f.last,e!==null?e.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=on(),n.sibling=null,e=we.current,Gt(we,l?e&1|2:e&1),n):(te(n),null);case 22:case 23:return Pi(n),Xf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&re(bs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hi(Re),te(n),null;case 25:return null}throw Error(a(156,n.tag))}function QA(e,n){switch(Ff(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(Re),Ri(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 13:if(Pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ul()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return re(we),null;case 4:return Ri(),null;case 10:return Hi(n.type),null;case 22:case 23:return Pi(n),Xf(),e!==null&&re(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hi(Re),null;case 25:return null;default:return null}}function r_(e,n){switch(Ff(n),n.tag){case 3:Hi(Re),Ri();break;case 26:case 27:case 5:Fs(n);break;case 4:Ri();break;case 13:Pi(n);break;case 19:re(we);break;case 10:Hi(n.type);break;case 22:case 23:Pi(n),Xf(),e!==null&&re(bs);break;case 24:Hi(Re)}}var FA={getCacheForType:function(e){var n=Ke(Re),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},KA=typeof WeakMap=="function"?WeakMap:Map,ee=0,Yt=null,Dt=null,xt=0,Xt=0,_n=null,$i=!1,Ra=!1,Gh=!1,Yi=0,le=0,xr=0,Is=0,Qh=0,Ln=0,Ca=0,no=null,mi=null,Fh=!1,Kh=0,Wu=1/0,tc=null,Ur=null,ec=!1,Ms=null,io=0,$h=0,Yh=null,ro=0,Xh=null;function vn(){if((ee&2)!==0&&xt!==0)return xt&-xt;if(A.T!==null){var e=_a;return e!==0?e:rd()}return lu()}function s_(){Ln===0&&(Ln=(xt&536870912)===0||Pt?gl():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),Ln}function ln(e,n,s){(e===Yt&&Xt===2||e.cancelPendingCommit!==null)&&(Da(e,0),Xi(e,xt,Ln,!1)),ce(e,s),((ee&2)===0||e!==Yt)&&(e===Yt&&((ee&2)===0&&(Is|=s),le===4&&Xi(e,xt,Ln,!1)),gi(e))}function a_(e,n,s){if((ee&6)!==0)throw Error(a(327));var l=!s&&(n&60)===0&&(n&e.expiredLanes)===0||or(e,n),f=l?XA(e,n):td(e,n,!0),h=l;do{if(f===0){Ra&&!l&&Xi(e,n,0,!1);break}else if(f===6)Xi(e,n,0,!$i);else{if(s=e.current.alternate,h&&!$A(s)){f=td(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;f=no;var w=E.current.memoizedState.isDehydrated;if(w&&(Da(E,v).flags|=256),v=td(E,v,!1),v!==2){if(Gh&&!w){E.errorRecoveryDisabledLanes|=h,Is|=h,f=4;break t}h=mi,mi=f,h!==null&&Zh(h)}f=v}if(h=!1,f!==2)continue}}if(f===1){Da(e,0),Xi(e,n,0,!0);break}t:{switch(l=e,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Xi(l,n,Ln,!$i);break t}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(h=Kh+300-on(),10<h)){if(Xi(l,n,Ln,!$i),An(l,0)!==0)break t;l.timeoutHandle=O_(l_.bind(null,l,s,mi,tc,Fh,n,Ln,Is,Ca,$i,2,-0,0),h);break t}l_(l,s,mi,tc,Fh,n,Ln,Is,Ca,$i,0,-0,0)}}break}while(!0);gi(e)}function Zh(e){mi===null?mi=e:mi.push.apply(mi,e)}function l_(e,n,s,l,f,h,v,E,w,M,H,F,B){var j=n.subtreeFlags;if((j&8192||(j&16785408)===16785408)&&(co={stylesheets:null,count:0,unsuspend:VS},Zy(n),n=IS(),n!==null)){e.cancelPendingCommit=n(p_.bind(null,e,s,l,f,v,E,w,1,F,B)),Xi(e,h,v,!M);return}p_(e,s,l,f,v,E,w,H,F,B)}function $A(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!mn(h(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xi(e,n,s,l){n&=~Qh,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var h=31-nn(f),v=1<<h;l[h]=-1,f&=~v}s!==0&&cr(e,s,n)}function nc(){return(ee&6)===0?(so(0),!1):!0}function Jh(){if(Dt!==null){if(Xt===0)var e=Dt.return;else e=Dt,ji=Cs=null,rh(e),ga=null,Pl=0,e=Dt;for(;e!==null;)r_(e.alternate,e),e=e.return;Dt=null}}function Da(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,dS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Jh(),Yt=e,Dt=s=Nr(e.current,null),xt=n,Xt=0,_n=null,$i=!1,Ra=or(e,n),Gh=!1,Ca=Ln=Qh=Is=xr=le=0,mi=no=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-nn(l),h=1<<f;n|=e[f],l&=~h}return Yi=n,Ru(),s}function o_(e,n){Rt=null,A.H=pi,n===Ll?(n=Ag(),Xt=3):n===Eg?(n=Ag(),Xt=4):Xt=n===Ty?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Dt===null&&(le=1,Fu(e,On(n,e.current)))}function u_(){var e=A.H;return A.H=pi,e===null?pi:e}function c_(){var e=A.A;return A.A=FA,e}function Wh(){le=4,$i||(xt&4194176)!==xt&&Nn.current!==null||(Ra=!0),(xr&134217727)===0&&(Is&134217727)===0||Yt===null||Xi(Yt,xt,Ln,!1)}function td(e,n,s){var l=ee;ee|=2;var f=u_(),h=c_();(Yt!==e||xt!==n)&&(tc=null,Da(e,n)),n=!1;var v=le;t:do try{if(Xt!==0&&Dt!==null){var E=Dt,w=_n;switch(Xt){case 8:Jh(),v=6;break t;case 3:case 2:case 6:Nn.current===null&&(n=!0);var M=Xt;if(Xt=0,_n=null,Va(e,E,w,M),s&&Ra){v=0;break t}break;default:M=Xt,Xt=0,_n=null,Va(e,E,w,M)}}YA(),v=le;break}catch(H){o_(e,H)}while(!0);return n&&e.shellSuspendCounter++,ji=Cs=null,ee=l,A.H=f,A.A=h,Dt===null&&(Yt=null,xt=0,Ru()),v}function YA(){for(;Dt!==null;)f_(Dt)}function XA(e,n){var s=ee;ee|=2;var l=u_(),f=c_();Yt!==e||xt!==n?(tc=null,Wu=on()+500,Da(e,n)):Ra=or(e,n);t:do try{if(Xt!==0&&Dt!==null){n=Dt;var h=_n;e:switch(Xt){case 1:Xt=0,_n=null,Va(e,n,h,1);break;case 2:if(Tg(h)){Xt=0,_n=null,h_(n);break}n=function(){Xt===2&&Yt===e&&(Xt=7),gi(e)},h.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Tg(h)?(Xt=0,_n=null,h_(n)):(Xt=0,_n=null,Va(e,n,h,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||q_(v)){Xt=0,_n=null;var w=E.sibling;if(w!==null)Dt=w;else{var M=E.return;M!==null?(Dt=M,ic(M)):Dt=null}break e}}Xt=0,_n=null,Va(e,n,h,5);break;case 6:Xt=0,_n=null,Va(e,n,h,6);break;case 8:Jh(),le=6;break t;default:throw Error(a(462))}}ZA();break}catch(H){o_(e,H)}while(!0);return ji=Cs=null,A.H=l,A.A=f,ee=s,Dt!==null?0:(Yt=null,xt=0,Ru(),le)}function ZA(){for(;Dt!==null&&!Df();)f_(Dt)}function f_(e){var n=Ny(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function h_(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Cy(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Cy(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:rh(n);default:r_(s,n),n=Dt=e_(n,Yi),n=Ny(s,n,Yi)}e.memoizedProps=e.pendingProps,n===null?ic(e):Dt=n}function Va(e,n,s,l){ji=Cs=null,rh(n),ga=null,Pl=0;var f=n.return;try{if(PA(e,f,n,s,xt)){le=1,Fu(e,On(s,e.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;le=1,Fu(e,On(s,e.current)),Dt=null;return}n.flags&32768?(Pt||l===1?e=!0:Ra||(xt&536870912)!==0?e=!1:($i=e=!0,(l===2||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){d_(n,$i);return}e=n.return;var s=GA(n.alternate,n,Yi);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);le===0&&(le=5)}function d_(e,n){do{var s=QA(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);le=6,Dt=null}function p_(e,n,s,l,f,h,v,E,w,M){var H=A.T,F=nt.p;try{nt.p=2,A.T=null,JA(e,n,s,l,F,f,h,v,E,w,M)}finally{A.T=H,nt.p=F}}function JA(e,n,s,l,f,h,v,E){do Oa();while(Ms!==null);if((ee&6)!==0)throw Error(a(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var M=w.lanes|w.childLanes;if(M|=Hf,su(e,l,M,h,v,E),e===Yt&&(Dt=Yt=null,xt=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||ec||(ec=!0,$h=M,Yh=s,nS(Ci,function(){return Oa(),null})),s=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||s?(s=A.T,A.T=null,h=nt.p,nt.p=2,v=ee,ee|=4,qA(e,w),$y(w,e),bA(hd,e.containerInfo),mc=!!fd,hd=fd=null,e.current=w,Gy(e,w.alternate,w),hl(),ee=v,nt.p=h,A.T=s):e.current=w,ec?(ec=!1,Ms=e,io=l):m_(e,M),M=e.pendingLanes,M===0&&(Ur=null),pl(w.stateNode),gi(e),n!==null)for(f=e.onRecoverableError,w=0;w<n.length;w++)M=n[w],f(M.value,{componentStack:M.stack});return(io&3)!==0&&Oa(),M=e.pendingLanes,(l&4194218)!==0&&(M&42)!==0?e===Xh?ro++:(ro=0,Xh=e):ro=0,so(0),null}function m_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ql(n)))}function Oa(){if(Ms!==null){var e=Ms,n=$h;$h=0;var s=au(io),l=A.T,f=nt.p;try{if(nt.p=32>s?32:s,A.T=null,Ms===null)var h=!1;else{s=Yh,Yh=null;var v=Ms,E=io;if(Ms=null,io=0,(ee&6)!==0)throw Error(a(331));var w=ee;if(ee|=4,Wy(v.current),Xy(v,v.current,E,s),ee=w,so(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ar,v)}catch{}h=!0}return h}finally{nt.p=f,A.T=l,m_(e,n)}}return!1}function g_(e,n,s){n=On(s,n),n=_h(e.stateNode,n,2),e=Vr(e,n,2),e!==null&&(ce(e,2),gi(e))}function Kt(e,n,s){if(e.tag===3)g_(e,e,s);else for(;n!==null;){if(n.tag===3){g_(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){e=On(s,e),s=vy(2),l=Vr(n,s,2),l!==null&&(Ey(s,l,n,e),ce(l,2),gi(l));break}}n=n.return}}function ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new KA;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(Gh=!0,f.add(s),e=WA.bind(null,e,n,s),n.then(e,e))}function WA(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Yt===e&&(xt&s)===s&&(le===4||le===3&&(xt&62914560)===xt&&300>on()-Kh?(ee&2)===0&&Da(e,0):Qh|=s,Ca===xt&&(Ca=0)),gi(e)}function y_(e,n){n===0&&(n=ur()),e=Tr(e,n),e!==null&&(ce(e,n),gi(e))}function tS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),y_(e,s)}function eS(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),y_(e,s)}function nS(e,n){return ns(e,n)}var rc=null,Ia=null,nd=!1,sc=!1,id=!1,Ns=0;function gi(e){e!==Ia&&e.next===null&&(Ia===null?rc=Ia=e:Ia=Ia.next=e),sc=!0,nd||(nd=!0,rS(iS))}function so(e,n){if(!id&&sc){id=!0;do for(var s=!1,l=rc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var v=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-nn(42|e)+1)-1,h&=f&~(v&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(s=!0,E_(l,h))}else h=xt,h=An(l,l===Yt?h:0),(h&3)===0||or(l,h)||(s=!0,E_(l,h));l=l.next}while(s);id=!1}}function iS(){sc=nd=!1;var e=0;Ns!==0&&(hS()&&(e=Ns),Ns=0);for(var n=on(),s=null,l=rc;l!==null;){var f=l.next,h=__(l,n);h===0?(l.next=null,s===null?rc=f:s.next=f,f===null&&(Ia=s)):(s=l,(e!==0||(h&3)!==0)&&(sc=!0)),l=f}so(e)}function __(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var v=31-nn(h),E=1<<v,w=f[v];w===-1?((E&s)===0||(E&l)!==0)&&(f[v]=Ys(E,n)):w<=n&&(e.expiredLanes|=E),h&=~E}if(n=Yt,s=xt,s=An(e,e===n?s:0),l=e.callbackNode,s===0||e===n&&Xt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&$s(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||or(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&$s(l),au(s)){case 2:case 8:s=Oe;break;case 32:s=Ci;break;case 268435456:s=dl;break;default:s=Ci}return l=v_.bind(null,e),s=ns(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&$s(l),e.callbackPriority=2,e.callbackNode=null,2}function v_(e,n){var s=e.callbackNode;if(Oa()&&e.callbackNode!==s)return null;var l=xt;return l=An(e,e===Yt?l:0),l===0?null:(a_(e,l,n),__(e,on()),e.callbackNode!=null&&e.callbackNode===s?v_.bind(null,e):null)}function E_(e,n){if(Oa())return null;a_(e,n,!0)}function rS(e){pS(function(){(ee&6)!==0?ns(Te,e):e()})}function rd(){return Ns===0&&(Ns=gl()),Ns}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:si(""+e)}function b_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function sS(e,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var h=T_((f[be]||null).action),v=l.submitter;v&&(n=(n=v[be]||null)?T_(n.formAction):v.getAttribute("formAction"),n!==null&&(h=n,v=null));var E=new na("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var w=v?b_(f,v):new FormData(f);dh(s,{pending:!0,data:w,method:f.method,action:h},null,w)}}else typeof h=="function"&&(E.preventDefault(),w=v?b_(f,v):new FormData(f),dh(s,{pending:!0,data:w,method:f.method,action:h},h,w))},currentTarget:f}]})}}for(var sd=0;sd<pg.length;sd++){var ad=pg[sd],aS=ad.toLowerCase(),lS=ad[0].toUpperCase()+ad.slice(1);Qn(aS,"on"+lS)}Qn(ug,"onAnimationEnd"),Qn(cg,"onAnimationIteration"),Qn(fg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(SA,"onTransitionRun"),Qn(wA,"onTransitionStart"),Qn(RA,"onTransitionCancel"),Qn(hg,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function A_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,M=E.currentTarget;if(E=E.listener,w!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=M;try{h(f)}catch(H){Qu(H)}f.currentTarget=null,h=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,M=E.currentTarget,E=E.listener,w!==h&&f.isPropagationStopped())break t;h=E,f.currentTarget=M;try{h(f)}catch(H){Qu(H)}f.currentTarget=null,h=w}}}}function Ot(e,n){var s=n[rs];s===void 0&&(s=n[rs]=new Set);var l=e+"__bubble";s.has(l)||(S_(n,e,2,!1),s.add(l))}function ld(e,n,s){var l=0;n&&(l|=4),S_(s,e,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[ac]){e[ac]=!0,_l.forEach(function(s){s!=="selectionchange"&&(oS.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,ld("selectionchange",!1,n))}}function S_(e,n,s,l){switch(K_(n)){case 2:var f=xS;break;case 8:f=US;break;default:f=Td}s=f.bind(null,n,s,e),f=void 0,!Cn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function ud(e,n,s,l,f){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===f||w.nodeType===8&&w.parentNode===f))return;v=v.return}for(;E!==null;){if(v=Gn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=h=v;continue t}E=E.parentNode}}l=l.return}fu(function(){var M=h,H=ea(s),F=[];t:{var B=dg.get(e);if(B!==void 0){var j=na,lt=e;switch(e){case"keypress":if(li(s)===0)break t;case"keydown":case"keyup":j=oa;break;case"focusin":lt="focus",j=sa;break;case"focusout":lt="blur",j=sa;break;case"beforeblur":case"afterblur":j=sa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=vu;break;case ug:case cg:case fg:j=aa;break;case hg:j=Tu;break;case"scroll":case"scrollend":j=hu;break;case"wheel":j=ua;break;case"copy":case"cut":case"paste":j=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ol;break;case"toggle":case"beforetoggle":j=Au}var vt=(n&4)!==0,oe=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var I=M,z;I!==null;){var G=I;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=us(I,U),G!=null&&vt.push(lo(I,G,z))),oe)break;I=I.return}0<vt.length&&(B=new j(B,lt,null,s,H),F.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&s!==Rn&&(lt=s.relatedTarget||s.fromElement)&&(Gn(lt)||lt[Di]))break t;if((j||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,j?(lt=s.relatedTarget||s.toElement,j=M,lt=lt?Gn(lt):null,lt!==null&&(oe=ft(lt),vt=lt.tag,lt!==oe||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(j=null,lt=M),j!==lt)){if(vt=Dn,G="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ol,G="onPointerLeave",U="onPointerEnter",I="pointer"),oe=j==null?B:pr(j),z=lt==null?B:pr(lt),B=new vt(G,I+"leave",j,s,H),B.target=oe,B.relatedTarget=z,G=null,Gn(H)===M&&(vt=new vt(U,I+"enter",lt,s,H),vt.target=z,vt.relatedTarget=oe,G=vt),oe=G,j&&lt)e:{for(vt=j,U=lt,I=0,z=vt;z;z=Ma(z))I++;for(z=0,G=U;G;G=Ma(G))z++;for(;0<I-z;)vt=Ma(vt),I--;for(;0<z-I;)U=Ma(U),z--;for(;I--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=Ma(vt),U=Ma(U)}vt=null}else vt=null;j!==null&&w_(F,B,j,vt,!1),lt!==null&&oe!==null&&w_(F,oe,lt,vt,!0)}}t:{if(B=M?pr(M):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var st=Jm;else if(Se(B))if(Wm)st=EA;else{st=_A;var Ct=yA}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Al(M.elementType)&&(st=Jm):st=vA;if(st&&(st=st(e,M))){ki(F,st,s,H);break t}Ct&&Ct(e,B,M),e==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&ta(B,"number",B.value)}switch(Ct=M?pr(M):window,e){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(ca=Ct,Bf=M,Nl=null);break;case"focusout":Nl=Bf=ca=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,lg(F,s,H);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":lg(F,s,H)}var ut;if(ci)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?q(e,s)&&(pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(_&&s.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ut=wl()):(ai=H,Er="value"in ai?ai.value:ai.textContent,Mt=!0)),Ct=lc(M,pt),0<Ct.length&&(pt=new Dl(pt,e,null,s,H),F.push({event:pt,listeners:Ct}),ut?pt.data=ut:(ut=J(s),ut!==null&&(pt.data=ut)))),(ut=p?Ae(e,s):Nt(e,s))&&(pt=lc(M,"onBeforeInput"),0<pt.length&&(Ct=new Dl("onBeforeInput","beforeinput",null,s,H),F.push({event:Ct,listeners:pt}),Ct.data=ut)),sS(F,e,M,s,H)}A_(F,n)})}function lo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",l=[];e!==null;){var f=e,h=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=us(e,s),f!=null&&l.unshift(lo(e,f,h)),f=us(e,n),f!=null&&l.push(lo(e,f,h))),e=e.return}return l}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w_(e,n,s,l,f){for(var h=n._reactName,v=[];s!==null&&s!==l;){var E=s,w=E.alternate,M=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||M===null||(w=M,f?(M=us(s,h),M!=null&&v.unshift(lo(s,M,w))):f||(M=us(s,h),M!=null&&v.push(lo(s,M,w)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function R_(e){return(typeof e=="string"?e:""+e).replace(uS,`
`).replace(cS,"")}function C_(e,n){return n=R_(n),R_(e)===n}function oc(){}function Ft(e,n,s,l,f,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(e,""+l);break;case"className":yr(e,"class",l);break;case"tabIndex":yr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(e,s,l);break;case"style":cu(e,l,h);break;case"data":if(n!=="object"){yr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=si(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&Ft(e,n,"name",f.name,f,null),Ft(e,n,"formEncType",f.formEncType,f,null),Ft(e,n,"formMethod",f.formMethod,f,null),Ft(e,n,"formTarget",f.formTarget,f,null)):(Ft(e,n,"encType",f.encType,f,null),Ft(e,n,"method",f.method,f,null),Ft(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=si(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=oc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=si(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),gr(e,"popover",l);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nf.get(s)||s,gr(e,s,l))}}function cd(e,n,s,l,f,h){switch(s){case"style":cu(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),h=e[be]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):gr(e,s,l)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var v=s[h];if(v!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(e,n,h,v,s,null)}}f&&Ft(e,n,"srcSet",s.srcSet,s,null),l&&Ft(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=h=v=f=null,w=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":f=H;break;case"type":v=H;break;case"checked":w=H;break;case"defaultChecked":M=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(e,n,l,H,s,null)}}ls(e,h,E,w,M,v,f,!1),as(e);return;case"select":Ot("invalid",e),l=v=h=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Ft(e,n,f,E,s,null)}n=h,s=v,e.multiple=!!l,n!=null?zt(e,!!l,n,!1):s!=null&&zt(e,!!l,s,!0);return;case"textarea":Ot("invalid",e),h=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(e,n,v,E,s,null)}vr(e,l,f,h),as(e);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(e,n,w,l,s,null)}return;case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<ao.length;l++)Ot(ao[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(e,n,M,l,s,null)}return;default:if(Al(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&cd(e,n,H,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Ft(e,n,E,l,s,null))}function fS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,v=null,E=null,w=null,M=null,H=null;for(j in s){var F=s[j];if(s.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(j)||Ft(e,n,j,null,l,F)}}for(var B in l){var j=l[B];if(F=s[B],l.hasOwnProperty(B)&&(j!=null||F!=null))switch(B){case"type":h=j;break;case"name":f=j;break;case"checked":M=j;break;case"defaultChecked":H=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==F&&Ft(e,n,B,j,l,F)}}_r(e,v,E,w,M,H,h,f);return;case"select":j=v=E=B=null;for(h in s)if(w=s[h],s.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(h)||Ft(e,n,h,null,l,w)}for(f in l)if(h=l[f],w=s[f],l.hasOwnProperty(f)&&(h!=null||w!=null))switch(f){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":v=h;default:h!==w&&Ft(e,n,f,h,l,w)}n=E,s=v,l=j,B!=null?zt(e,!!s,B,!1):!!l!=!!s&&(n!=null?zt(e,!!s,n,!0):zt(e,!!s,s?[]:"",!1));return;case"textarea":j=B=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(e,n,E,null,l,f)}for(v in l)if(f=l[v],h=s[v],l.hasOwnProperty(v)&&(f!=null||h!=null))switch(v){case"value":B=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&Ft(e,n,v,f,l,h)}os(e,B,j);return;case"option":for(var lt in s)if(B=s[lt],s.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Ft(e,n,lt,null,l,B)}for(w in l)if(B=l[w],j=s[w],l.hasOwnProperty(w)&&B!==j&&(B!=null||j!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(e,n,w,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)B=s[vt],s.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&Ft(e,n,vt,null,l,B);for(M in l)if(B=l[M],j=s[M],l.hasOwnProperty(M)&&B!==j&&(B!=null||j!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(e,n,M,B,l,j)}return;default:if(Al(n)){for(var oe in s)B=s[oe],s.hasOwnProperty(oe)&&B!==void 0&&!l.hasOwnProperty(oe)&&cd(e,n,oe,void 0,l,B);for(H in l)B=l[H],j=s[H],!l.hasOwnProperty(H)||B===j||B===void 0&&j===void 0||cd(e,n,H,B,l,j);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Ft(e,n,U,null,l,B);for(F in l)B=l[F],j=s[F],!l.hasOwnProperty(F)||B===j||B==null&&j==null||Ft(e,n,F,B,l,j)}var fd=null,hd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function D_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function hS(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(e){return I_.resolve(null).then(e).catch(mS)}:O_;function mS(e){setTimeout(function(){throw e})}function md(e,n){var s=n,l=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){e.removeChild(f),go(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);go(n)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gS(e,n,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[dr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function yS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$n(e.nextSibling),e===null))return null;return e}function $n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function M_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function N_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var zn=new Map,x_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Zi=nt.d;nt.d={f:_S,r:vS,D:ES,C:TS,L:bS,m:AS,X:wS,S:SS,M:RS};function _S(){var e=Zi.f(),n=nc();return e||n}function vS(e){var n=Vi(e);n!==null&&n.tag===5&&n.type==="form"?ly(n):Zi.r(e)}var Na=typeof document>"u"?null:document;function U_(e,n,s){var l=Na;if(l&&typeof n=="string"&&n){var f=se(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),x_.has(f)||(x_.add(f),e={rel:e,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),je(n,"link",e),Wt(n),l.head.appendChild(n)))}}function ES(e){Zi.D(e),U_("dns-prefetch",e,null)}function TS(e,n){Zi.C(e,n),U_("preconnect",e,n)}function bS(e,n,s){Zi.L(e,n,s);var l=Na;if(l&&e&&n){var f='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+se(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+se(s.imageSizes)+'"]')):f+='[href="'+se(e)+'"]';var h=f;switch(n){case"style":h=xa(e);break;case"script":h=Ua(e)}zn.has(h)||(e=D({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),zn.set(h,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(oo(h))||n==="script"&&l.querySelector(uo(h))||(n=l.createElement("link"),je(n,"link",e),Wt(n),l.head.appendChild(n)))}}function AS(e,n){Zi.m(e,n);var s=Na;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(e)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ua(e)}if(!zn.has(h)&&(e=D({rel:"modulepreload",href:e},n),zn.set(h,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(h)))return}l=s.createElement("link"),je(l,"link",e),Wt(l),s.head.appendChild(l)}}}function SS(e,n,s){Zi.S(e,n,s);var l=Na;if(l&&e){var f=mr(l).hoistableStyles,h=xa(e);n=n||"default";var v=f.get(h);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(oo(h)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},s),(s=zn.get(h))&&yd(e,s);var w=v=l.createElement("link");Wt(w),je(w,"link",e),w._p=new Promise(function(M,H){w.onload=M,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(h,v)}}}function wS(e,n){Zi.X(e,n);var s=Na;if(s&&e){var l=mr(s).hoistableScripts,f=Ua(e),h=l.get(f);h||(h=s.querySelector(uo(f)),h||(e=D({src:e,async:!0},n),(n=zn.get(f))&&_d(e,n),h=s.createElement("script"),Wt(h),je(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function RS(e,n){Zi.M(e,n);var s=Na;if(s&&e){var l=mr(s).hoistableScripts,f=Ua(e),h=l.get(f);h||(h=s.querySelector(uo(f)),h||(e=D({src:e,async:!0,type:"module"},n),(n=zn.get(f))&&_d(e,n),h=s.createElement("script"),Wt(h),je(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function k_(e,n,s,l){var f=(f=bn.current)?cc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xa(s.href),s=mr(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xa(s.href);var h=mr(f).hoistableStyles,v=h.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,v),(h=f.querySelector(oo(e)))&&!h._p&&(v.instance=h,v.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),h||CS(f,e,s,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(s),s=mr(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xa(e){return'href="'+se(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function L_(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function CS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",s),Wt(n),e.head.appendChild(n))}function Ua(e){return'[src="'+se(e)+'"]'}function uo(e){return"script[async]"+e}function z_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+se(s.href)+'"]');if(l)return n.instance=l,Wt(l),l;var f=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Wt(l),je(l,"style",f),fc(l,s.precedence,e),n.instance=l;case"stylesheet":f=xa(s.href);var h=e.querySelector(oo(f));if(h)return n.state.loading|=4,n.instance=h,Wt(h),h;l=L_(s),(f=zn.get(f))&&yd(l,f),h=(e.ownerDocument||e).createElement("link"),Wt(h);var v=h;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),je(h,"link",l),n.state.loading|=4,fc(h,s.precedence,e),n.instance=h;case"script":return h=Ua(s.src),(f=e.querySelector(uo(h)))?(n.instance=f,Wt(f),f):(l=s,(f=zn.get(h))&&(l=D({},s),_d(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Wt(f),je(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,s.precedence,e));return n.instance}function fc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function P_(e,n,s){if(hc===null){var l=new Map,f=hc=new Map;f.set(s,l)}else f=hc,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var h=s[f];if(!(h[dr]||h[Ie]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(h):l.set(v,[h])}}return l}function B_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function DS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function q_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var co=null;function VS(){}function OS(e,n,s){if(co===null)throw Error(a(475));var l=co;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=xa(s.href),h=e.querySelector(oo(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=dc.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=h,Wt(h);return}h=e.ownerDocument||e,s=L_(s),(f=zn.get(f))&&yd(s,f),h=h.createElement("link"),Wt(h);var v=h;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),je(h,"link",s),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=dc.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function IS(){if(co===null)throw Error(a(475));var e=co;return e.stylesheets&&e.count===0&&vd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&vd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function vd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(MS,e),pc=null,dc.call(e))}function MS(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var l=s.get(null);else{s=new Map,pc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var v=f[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=n.instance,v=f.getAttribute("data-precedence"),h=s.get(v)||l,h===l&&s.set(null,f),s.set(v,f),this.count++,l=dc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var fo={$$typeof:P,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function NS(e,n,s,l,f,h,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function j_(e,n,s,l,f,h,v,E,w,M,H,F){return e=new NS(e,n,s,v,E,w,M,F),n=1,h===!0&&(n|=24),h=kn(3,null,null,n),e.current=h,h.stateNode=e,n=Zf(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},Ih(h),e}function H_(e){return e?(e=da,e):da}function G_(e,n,s,l,f,h){f=H_(f),l.context===null?l.context=f:l.pendingContext=f,l=Dr(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Vr(e,l,n),s!==null&&(ln(s,e,n),$l(s,e,n))}function Q_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){Q_(e,n),(e=e.alternate)&&Q_(e,n)}function F_(e){if(e.tag===13){var n=Tr(e,67108864);n!==null&&ln(n,e,67108864),Ed(e,67108864)}}var mc=!0;function xS(e,n,s,l){var f=A.T;A.T=null;var h=nt.p;try{nt.p=2,Td(e,n,s,l)}finally{nt.p=h,A.T=f}}function US(e,n,s,l){var f=A.T;A.T=null;var h=nt.p;try{nt.p=8,Td(e,n,s,l)}finally{nt.p=h,A.T=f}}function Td(e,n,s,l){if(mc){var f=bd(l);if(f===null)ud(e,n,l,gc,s),$_(e,l);else if(LS(f,e,n,s,l))l.stopPropagation();else if($_(e,l),n&4&&-1<kS.indexOf(e)){for(;f!==null;){var h=Vi(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Hn(h.pendingLanes);if(v!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-nn(v);E.entanglements[1]|=w,v&=~w}gi(h),(ee&6)===0&&(Wu=on()+500,so(0))}}break;case 13:E=Tr(h,2),E!==null&&ln(E,h,2),nc(),Ed(h,2)}if(h=bd(l),h===null&&ud(e,n,l,gc,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else ud(e,n,l,null,s)}}function bd(e){return e=ea(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=Gn(e),e!==null){var n=ft(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=qt(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case Te:return 2;case Oe:return 8;case Ci:case nu:return 32;case dl:return 268435456;default:return 32}default:return 32}}var Sd=!1,kr=null,Lr=null,zr=null,ho=new Map,po=new Map,Pr=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function mo(e,n,s,l,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Vi(n),n!==null&&F_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function LS(e,n,s,l,f){switch(n){case"focusin":return kr=mo(kr,e,n,s,l,f),!0;case"dragenter":return Lr=mo(Lr,e,n,s,l,f),!0;case"mouseover":return zr=mo(zr,e,n,s,l,f),!0;case"pointerover":var h=f.pointerId;return ho.set(h,mo(ho.get(h)||null,e,n,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,po.set(h,mo(po.get(h)||null,e,n,s,l,f)),!0}return!1}function Y_(e){var n=Gn(e.target);if(n!==null){var s=ft(n);if(s!==null){if(n=s.tag,n===13){if(n=qt(s),n!==null){e.blockedOn=n,hr(e.priority,function(){if(s.tag===13){var l=vn(),f=Tr(s,l);f!==null&&ln(f,s,l),Ed(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rn=l,s.target.dispatchEvent(l),Rn=null}else return n=Vi(s),n!==null&&F_(n),e.blockedOn=s,!1;n.shift()}return!0}function X_(e,n,s){yc(e)&&s.delete(n)}function zS(){Sd=!1,kr!==null&&yc(kr)&&(kr=null),Lr!==null&&yc(Lr)&&(Lr=null),zr!==null&&yc(zr)&&(zr=null),ho.forEach(X_),po.forEach(X_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zS)))}var vc=null;function Z_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var h=Vi(s);h!==null&&(e.splice(n,3),n-=3,dh(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function go(e){function n(w){return _c(w,e)}kr!==null&&_c(kr,e),Lr!==null&&_c(Lr,e),zr!==null&&_c(zr,e),ho.forEach(n),po.forEach(n);for(var s=0;s<Pr.length;s++){var l=Pr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Pr.length&&(s=Pr[0],s.blockedOn===null);)Y_(s),s.blockedOn===null&&Pr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],v=f[be]||null;if(typeof h=="function")v||Z_(s);else if(v){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,v=h[be]||null)E=v.formAction;else if(Ad(f)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Z_(s)}}}function wd(e){this._internalRoot=e}Ec.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=vn();G_(s,l,e,n,null,null)},Ec.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Oa(),G_(e.current,2,null,e,null,null),nc(),n[Di]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Pr.length&&n!==0&&n<Pr[s].priority;s++);Pr.splice(s,0,e),s===0&&Y_(e)}};var J_=t.version;if(J_!=="19.0.0")throw Error(a(527,J_,"19.0.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Y(n),e=e!==null?ot(e):null,e=e===null?null:e.stateNode,e};var PS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{ar=Tc.inject(PS),Fe=Tc}catch{}}return _o.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",f=my,h=gy,v=yy,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=j_(e,1,!1,null,null,s,l,f,h,v,E,null),e[Di]=n.current,od(e.nodeType===8?e.parentNode:e),new wd(n)},_o.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,f="",h=my,v=gy,E=yy,w=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),n=j_(e,1,!0,n,s??null,l,f,h,v,E,w,M),n.context=H_(null),s=n.current,l=vn(),f=Dr(l),f.callback=null,Vr(s,f,l),n.current.lanes=l,ce(n,l),gi(n),e[Di]=n.current,od(e),new Ec(n)},_o.version="19.0.0",_o}var ov;function YS(){if(ov)return Dd.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=$S(),Dd.exports}var XS=YS();function Y0(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function ZS(r,t){var i;return(i=void 0)==null?void 0:i.get(t)}function JS(r){var t,i;const a=typeof r;return a==="string"?`"${r}"`:a==="number"||a==="bigint"||a==="boolean"?`${r}`:a==="object"||a==="function"?(r&&((i=(t=Object.getPrototypeOf(r))==null?void 0:t.constructor)==null?void 0:i.name))??"null":a}function Qa(r,t,i,a,o){const c=o&&"input"in o?o.input:i.value,d=(o==null?void 0:o.expected)??r.expects??null,m=(o==null?void 0:o.received)??JS(c),g={kind:r.kind,type:r.type,input:c,expected:d,received:m,message:`Invalid ${t}: ${d?`Expected ${d} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},y=r.kind==="schema",T=(o==null?void 0:o.message)??r.message??ZS(r.reference,g.lang)??(y?(g.lang,void 0):null)??a.message??(g.lang,void 0);T&&(g.message=typeof T=="function"?T(g):T),y&&(i.typed=!1),i.issues?i.issues.push(g):i.issues=[g]}function bi(r){return{version:1,vendor:"valibot",validate(t){return r["~run"]({value:t},Y0())}}}function WS(r,t){return Object.hasOwn(r,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var t1=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function xp(r,t,i){return typeof r.default=="function"?r.default(t,i):r.default}function Up(r,t){return!r["~run"]({value:t},{abortEarly:!0}).issues}function X0(){return{kind:"schema",type:"any",reference:X0,expects:"any",async:!1,get"~standard"(){return bi(this)},"~run"(r){return r.typed=!0,r}}}function $d(r){return{kind:"schema",type:"boolean",reference:$d,expects:"boolean",async:!1,message:r,get"~standard"(){return bi(this)},"~run"(t,i){return typeof t.value=="boolean"?t.typed=!0:Qa(this,"type",t,i),t}}}function kp(r){return{kind:"schema",type:"function",reference:kp,expects:"Function",async:!1,message:r,get"~standard"(){return bi(this)},"~run"(t,i){return typeof t.value=="function"?t.typed=!0:Qa(this,"type",t,i),t}}}function Xn(r,t){return{kind:"schema",type:"loose_object",reference:Xn,expects:"Object",async:!1,entries:r,message:t,get"~standard"(){return bi(this)},"~run"(i,a){var o;const c=i.value;if(c&&typeof c=="object"){i.typed=!0,i.value={};for(const d in this.entries){const m=this.entries[d];if(d in c||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=d in c?c[d]:xp(m),y=m["~run"]({value:g},a);if(y.issues){const T={type:"object",origin:"value",input:c,key:d,value:g};for(const R of y.issues)R.path?R.path.unshift(T):R.path=[T],(o=i.issues)==null||o.push(R);if(i.issues||(i.issues=y.issues),a.abortEarly){i.typed=!1;break}}y.typed||(i.typed=!1),i.value[d]=y.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(Qa(this,"key",i,a,{input:void 0,expected:`"${d}"`,path:[{type:"object",origin:"key",input:c,key:d,value:c[d]}]}),a.abortEarly))break}if(!i.issues||!a.abortEarly)for(const d in c)WS(c,d)&&!(d in this.entries)&&(i.value[d]=c[d])}else Qa(this,"type",i,a);return i}}}function Eo(r,t){return{kind:"schema",type:"nullish",reference:Eo,expects:`(${r.expects} | null | undefined)`,async:!1,wrapped:r,default:t,get"~standard"(){return bi(this)},"~run"(i,a){return(i.value===null||i.value===void 0)&&(this.default!==void 0&&(i.value=xp(this,i,a)),i.value===null||i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,a)}}}function Yd(r){return{kind:"schema",type:"number",reference:Yd,expects:"number",async:!1,message:r,get"~standard"(){return bi(this)},"~run"(t,i){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Qa(this,"type",t,i),t}}}function Xd(r,t){return{kind:"schema",type:"optional",reference:Xd,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:t,get"~standard"(){return bi(this)},"~run"(i,a){return i.value===void 0&&(this.default!==void 0&&(i.value=xp(this,i,a)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,a)}}}function Us(r){return{kind:"schema",type:"string",reference:Us,expects:"string",async:!1,message:r,get"~standard"(){return bi(this)},"~run"(t,i){return typeof t.value=="string"?t.typed=!0:Qa(this,"type",t,i),t}}}function Z0(){return{kind:"schema",type:"unknown",reference:Z0,expects:"unknown",async:!1,get"~standard"(){return bi(this)},"~run"(r){return r.typed=!0,r}}}function uv(r,t,i){const a=r["~run"]({value:t},Y0(i));if(a.issues)throw new t1(a.issues);return a.value}function e1(...r){return{...r[0],pipe:r,get"~standard"(){return bi(this)},"~run"(t,i){for(const a of r)if(a.kind!=="metadata"){if(t.issues&&(a.kind==="schema"||a.kind==="transformation")){t.typed=!1;break}(!t.issues||!i.abortEarly&&!i.abortPipeEarly)&&(t=a["~run"](t,i))}return t}}}function J0(r){return Up(Xn({TelegramWebviewProxy:Xn({postEvent:kp()})}),r)}function n1(){try{return window.self!==window.top}catch{return!0}}var i1=Object.defineProperty,r1=(r,t,i)=>t in r?i1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i,cv=(r,t,i)=>r1(r,typeof t!="symbol"?t+"":t,i);function s1(r){return t=>t instanceof r}function W0(r,t){t||(t=[]);class i extends Error{constructor(...o){const c=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...c),this.name=r}}return Object.defineProperty(i,"name",{value:r}),[i,s1(i)]}const[a1,hI]=W0("CancelledError","Promise was canceled"),[l1,dI]=W0("TimeoutError",(r,t)=>[`Timeout reached: ${r}ms`,{cause:t}]),tE=Symbol("Resolved");function fv(r){return Array.isArray(r)&&r[0]===tE}function o1(r){return[tE,r]}function hv(r,t){return r.reject=t.reject,r.abort=t.abort,r}let eE=class Zd extends Promise{constructor(t,i){let a,o;super((c,d)=>{let m,g;typeof t=="function"?(m=t,g=i):g=t;const y=[],T=Z=>(...O)=>{const S=Z(...O);return y.forEach(A=>A()),S},R=new AbortController,{signal:N}=R;o=Z=>{!N.aborted&&R.abort(Z)};const P=()=>N.reason,$=Z=>{const O=()=>{Z(P())};N.addEventListener("abort",O,!0);const S=()=>{N.removeEventListener("abort",O,!0)};return y.push(S),S},tt=T(Z=>{c(Z),o(o1(Z))});a=T(Z=>{d(Z),o(Z)}),g||(g={});const{abortSignal:K,rejectOnAbort:gt=!0}=g;if(K)if(K.aborted){const{reason:Z}=K;if(gt)return a(Z);o(Z)}else{const Z=()=>{o(K.reason)};K.addEventListener("abort",Z),y.push(()=>{K.removeEventListener("abort",Z)})}gt&&$(d);const{timeout:rt}=g;if(rt){const Z=setTimeout(()=>{o(new l1(rt))},rt);y.push(()=>{clearTimeout(Z)})}const at=()=>N.aborted,bt=()=>fv(P()),ct=()=>{const Z=P();return fv(Z)?Z[1]:void 0};try{const Z=m&&m(tt,a,{abortReason:P,abortSignal:N,isAborted:at,isResolved:bt,onAborted:$,onResolved:O=>$(()=>{bt()&&O(ct())}),resolved:ct,throwIfAborted(){if(at())throw P()}});Z instanceof Promise&&Z.catch(a)}catch(Z){a(Z)}}),cv(this,"abort"),cv(this,"reject"),this.abort=o,this.reject=a}static fn(t,i){return new Zd(async(a,o,c)=>{try{a(await t(c))}catch(d){o(d)}},i)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Zd((i,a)=>{a(t)})}cancel(){this.abort(new a1)}catch(t){return this.then(void 0,t)}finally(t){return hv(super.finally(t),this)}then(t,i){return hv(super.then(t,i),this)}};function nE(r){return`tapps/${r}`}function u1(r,t){sessionStorage.setItem(nE(r),JSON.stringify(t))}function c1(r){const t=sessionStorage.getItem(nE(r));try{return t?JSON.parse(t):void 0}catch{}}function f1(...r){const t=r.flat(1);return[t.push.bind(t),()=>{t.forEach(i=>{i()})}]}function h1(r,t){t||(t={});const{textColor:i,bgColor:a,shouldLog:o}=t,c=o===void 0?!0:o,d=typeof c=="boolean"?()=>c:c;function m(g,y,...T){if(y||d()){const R="font-weight:bold;padding:0 5px;border-radius:5px";console[g](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${r}`,`${R};background-color: lightblue;color:black`,"",`${R};${i?`color:${i};`:""}${a?`background-color:${a}`:""}`,...T)}}return[m.bind(void 0,"log"),m.bind(void 0,"error")]}function iE(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function d1(r,t){var i;return(i=void 0)==null?void 0:i.get(t)}function p1(r){var t,i;const a=typeof r;return a==="string"?`"${r}"`:a==="number"||a==="bigint"||a==="boolean"?`${r}`:a==="object"||a==="function"?(r&&((i=(t=Object.getPrototypeOf(r))==null?void 0:t.constructor)==null?void 0:i.name))??"null":a}function En(r,t,i,a,o){const c=o&&"input"in o?o.input:i.value,d=(o==null?void 0:o.expected)??r.expects??null,m=(o==null?void 0:o.received)??p1(c),g={kind:r.kind,type:r.type,input:c,expected:d,received:m,message:`Invalid ${t}: ${d?`Expected ${d} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},y=r.kind==="schema",T=(o==null?void 0:o.message)??r.message??d1(r.reference,g.lang)??(y?(g.lang,void 0):null)??a.message??(g.lang,void 0);T&&(g.message=typeof T=="function"?T(g):T),y&&(i.typed=!1),i.issues?i.issues.push(g):i.issues=[g]}function jn(r){return{version:1,vendor:"valibot",validate(t){return r["~run"]({value:t},iE())}}}function rE(r,t){return Object.hasOwn(r,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function m1(r,t){const i=[...new Set(r)];return i.length>1?`(${i.join(` ${t} `)})`:i[0]??"never"}var g1=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function sE(r,t){return{kind:"validation",type:"check",reference:sE,async:!1,expects:null,requirement:r,message:t,"~run"(i,a){return i.typed&&!this.requirement(i.value)&&En(this,"input",i,a),i}}}function aE(r){return{kind:"validation",type:"integer",reference:aE,async:!1,expects:null,requirement:Number.isInteger,message:r,"~run"(t,i){return t.typed&&!this.requirement(t.value)&&En(this,"integer",t,i),t}}}function Fr(r){return{kind:"transformation",type:"transform",reference:Fr,async:!1,operation:r,"~run"(t){return t.value=this.operation(t.value),t}}}function lE(r,t,i){return typeof r.default=="function"?r.default(t,i):r.default}function y1(r,t){return!r["~run"]({value:t},{abortEarly:!0}).issues}function To(r){return{kind:"schema",type:"boolean",reference:To,expects:"boolean",async:!1,message:r,get"~standard"(){return jn(this)},"~run"(t,i){return typeof t.value=="boolean"?t.typed=!0:En(this,"type",t,i),t}}}function oE(r){return{kind:"schema",type:"date",reference:oE,expects:"Date",async:!1,message:r,get"~standard"(){return jn(this)},"~run"(t,i){return t.value instanceof Date?isNaN(t.value)?En(this,"type",t,i,{received:'"Invalid Date"'}):t.typed=!0:En(this,"type",t,i),t}}}function uE(r,t){return{kind:"schema",type:"instance",reference:uE,expects:r.name,async:!1,class:r,message:t,get"~standard"(){return jn(this)},"~run"(i,a){return i.value instanceof this.class?i.typed=!0:En(this,"type",i,a),i}}}function Lp(r){return{kind:"schema",type:"lazy",reference:Lp,expects:"unknown",async:!1,getter:r,get"~standard"(){return jn(this)},"~run"(t,i){return this.getter(t.value)["~run"](t,i)}}}function el(r,t){return{kind:"schema",type:"loose_object",reference:el,expects:"Object",async:!1,entries:r,message:t,get"~standard"(){return jn(this)},"~run"(i,a){var o;const c=i.value;if(c&&typeof c=="object"){i.typed=!0,i.value={};for(const d in this.entries){const m=this.entries[d];if(d in c||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=d in c?c[d]:lE(m),y=m["~run"]({value:g},a);if(y.issues){const T={type:"object",origin:"value",input:c,key:d,value:g};for(const R of y.issues)R.path?R.path.unshift(T):R.path=[T],(o=i.issues)==null||o.push(R);if(i.issues||(i.issues=y.issues),a.abortEarly){i.typed=!1;break}}y.typed||(i.typed=!1),i.value[d]=y.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(En(this,"key",i,a,{input:void 0,expected:`"${d}"`,path:[{type:"object",origin:"key",input:c,key:d,value:c[d]}]}),a.abortEarly))break}if(!i.issues||!a.abortEarly)for(const d in c)rE(c,d)&&!(d in this.entries)&&(i.value[d]=c[d])}else En(this,"type",i,a);return i}}}function tf(r){return{kind:"schema",type:"number",reference:tf,expects:"number",async:!1,message:r,get"~standard"(){return jn(this)},"~run"(t,i){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:En(this,"type",t,i),t}}}function ne(r,t){return{kind:"schema",type:"optional",reference:ne,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:t,get"~standard"(){return jn(this)},"~run"(i,a){return i.value===void 0&&(this.default!==void 0&&(i.value=lE(this,i,a)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,a)}}}function cE(r,t,i){return{kind:"schema",type:"record",reference:cE,expects:"Object",async:!1,key:r,value:t,message:i,get"~standard"(){return jn(this)},"~run"(a,o){var c,d;const m=a.value;if(m&&typeof m=="object"){a.typed=!0,a.value={};for(const g in m)if(rE(m,g)){const y=m[g],T=this.key["~run"]({value:g},o);if(T.issues){const N={type:"object",origin:"key",input:m,key:g,value:y};for(const P of T.issues)P.path=[N],(c=a.issues)==null||c.push(P);if(a.issues||(a.issues=T.issues),o.abortEarly){a.typed=!1;break}}const R=this.value["~run"]({value:y},o);if(R.issues){const N={type:"object",origin:"value",input:m,key:g,value:y};for(const P of R.issues)P.path?P.path.unshift(N):P.path=[N],(d=a.issues)==null||d.push(P);if(a.issues||(a.issues=R.issues),o.abortEarly){a.typed=!1;break}}(!T.typed||!R.typed)&&(a.typed=!1),T.typed&&(a.value[T.value]=R.value)}}else En(this,"type",a,o);return a}}}function $t(r){return{kind:"schema",type:"string",reference:$t,expects:"string",async:!1,message:r,get"~standard"(){return jn(this)},"~run"(t,i){return typeof t.value=="string"?t.typed=!0:En(this,"type",t,i),t}}}function dv(r){let t;if(r)for(const i of r)t?t.push(...i.issues):t=i.issues;return t}function zp(r,t){return{kind:"schema",type:"union",reference:zp,expects:m1(r.map(i=>i.expects),"|"),async:!1,options:r,message:t,get"~standard"(){return jn(this)},"~run"(i,a){let o,c,d;for(const m of this.options){const g=m["~run"]({value:i.value},a);if(g.typed)if(g.issues)c?c.push(g):c=[g];else{o=g;break}else d?d.push(g):d=[g]}if(o)return o;if(c){if(c.length===1)return c[0];En(this,"type",i,a,{issues:dv(c)}),i.typed=!0}else{if((d==null?void 0:d.length)===1)return d[0];En(this,"type",i,a,{issues:dv(d)})}return i}}}function fE(){return{kind:"schema",type:"unknown",reference:fE,expects:"unknown",async:!1,get"~standard"(){return jn(this)},"~run"(r){return r.typed=!0,r}}}function hE(r,t,i){const a=r["~run"]({value:t},iE(i));if(a.issues)throw new g1(a.issues);return a.value}function Kr(...r){return{...r[0],pipe:r,get"~standard"(){return jn(this)},"~run"(t,i){for(const a of r)if(a.kind!=="metadata"){if(t.issues&&(a.kind==="schema"||a.kind==="transformation")){t.typed=!1;break}(!t.issues||!i.abortEarly&&!i.abortPipeEarly)&&(t=a["~run"](t,i))}return t}}}function _1(r){return r.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function v1(r){return Object.entries(r).reduce((t,[i,a])=>(t[_1(i)]=a,t),{})}function Jd(r){const t=v1(r);for(const i in t){const a=t[i];a&&typeof a=="object"&&!(a instanceof Date)&&(t[i]=Array.isArray(a)?a.map(Jd):Jd(a))}return t}function Pp(r){return Fr(t=>r?Jd(t):t)}function dE(r){return t=>Kr(r,Pp(t))}function E1(r){return(t,i)=>hE(Kr(r,Pp(i)),t)}function pE(){return Fr(JSON.parse)}function Bp(r){const t=dE(r);return i=>Kr($t(),pE(),t(i))}function T1(r){return Fr(t=>{const i={};return new URLSearchParams(t).forEach((a,o)=>{const c=i[o];Array.isArray(c)?c.push(a):c===void 0?i[o]=a:i[o]=[c,a]}),hE(r,i)})}function mE(r){return t=>Kr(zp([$t(),uE(URLSearchParams)]),T1(r),Pp(t))}const pv=ne(Lp(()=>R1())),b1=el({id:tf(),photo_url:ne($t()),type:$t(),title:$t(),username:ne($t())}),A1=el({added_to_attachment_menu:ne(To()),allows_write_to_pm:ne(To()),first_name:$t(),id:tf(),is_bot:ne(To()),is_premium:ne(To()),last_name:ne($t()),language_code:ne($t()),photo_url:ne($t()),username:ne($t())}),S1=el({auth_date:Kr($t(),Fr(r=>new Date(Number(r)*1e3)),oE()),can_send_after:ne(Kr($t(),Fr(Number),aE())),chat:ne(Lp(()=>w1())),chat_type:ne($t()),chat_instance:ne($t()),hash:$t(),query_id:ne($t()),receiver:pv,start_param:ne($t()),signature:$t(),user:pv}),w1=Bp(b1),R1=Bp(A1),C1=mE(S1);function D1(r){return/^#[\da-f]{6}$/i.test(r)}const gE=dE(cE($t(),Kr(zp([$t(),tf()]),Fr(r=>typeof r=="number"?`#${(r&16777215).toString(16).padStart(6,"0")}`:r),sE(D1)))),Md=ne(Kr($t(),Fr(r=>r==="1"))),mv=Bp(gE()),V1=el({tgWebAppBotInline:Md,tgWebAppData:ne(C1()),tgWebAppDefaultColors:ne(mv()),tgWebAppFullscreen:Md,tgWebAppPlatform:$t(),tgWebAppShowSettings:Md,tgWebAppStartParam:ne($t()),tgWebAppThemeParams:mv(),tgWebAppVersion:$t()}),yE=mE(V1),O1=E1(yE()),I1=el({eventType:$t(),eventData:ne(fE())});function M1(r){try{return y1(yE(),r)}catch{return!1}}function N1(r){return{all:r=r||new Map,on:function(t,i){var a=r.get(t);a?a.push(i):r.set(t,[i])},off:function(t,i){var a=r.get(t);a&&(i?a.splice(a.indexOf(i)>>>0,1):r.set(t,[]))},emit:function(t,i){var a=r.get(t);a&&a.slice().map(function(o){o(i)}),(a=r.get("*"))&&a.slice().map(function(o){o(t,i)})}}}function x1(r,t){const i=N1(),a=new Map,o=(c,d,m)=>{m||(m=!1);const g=a.get(c)||new Map;a.set(c,g);const y=g.get(d)||[];g.set(d,y);const T=y.findIndex(R=>R[1]===m);T>=0&&(i.off(c,y[T][0]),y.splice(T,1),!y.length&&g.delete(d),g.size||(a.delete(c),!a.size&&t()))};return[function(c,d,m){!a.size&&r();function g(){o(c,d,m)}function y(...N){m&&g(),c==="*"?d(N):d(...N)}i.on(c,y);const T=a.get(c)||new Map;a.set(c,T);const R=T.get(d)||[];return T.set(d,R),R.push([y,m||!1]),g},o,i.emit,function(){const c=i.all.size;i.all.clear(),a.clear(),c&&t()}]}function gv(r,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:r,eventData:t}),source:window.parent}))}let U1=!1;const[k1,L1]=h1("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return U1}}),z1={clipboard_text_received:Xn({req_id:Us(),data:Eo(Us())}),custom_method_invoked:Xn({req_id:Us(),result:Xd(Z0()),error:Xd(Us())}),popup_closed:Eo(Xn({button_id:Eo(Us(),()=>{})}),{}),viewport_changed:Xn({height:Yd(),width:Eo(Yd(),()=>window.innerWidth),is_state_stable:$d(),is_expanded:$d()}),theme_changed:Xn({theme_params:gE()})};function yv(r){if(r.source!==window.parent)return;let t;try{t=uv(e1(Us(),pE(),I1),r.data)}catch{return}const{eventType:i,eventData:a}=t,o=z1[i];try{const c=o?uv(o,a):a;P1(i,c)}catch(c){L1(!0,[`An error occurred processing the "${i}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,c)}}const[We,Fo,P1,pI]=x1(()=>{const r=window,t={receiveEvent:gv};r.TelegramGameProxy_receiveEvent=gv,r.TelegramGameProxy=t,r.Telegram={WebView:t},window.addEventListener("message",yv)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(r=>{delete window[r]}),window.removeEventListener("message",yv)});function B1(r){return t=>t instanceof r}function nl(r,t){t||(t=[]);class i extends Error{constructor(...o){const c=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...c),this.name=r}}return Object.defineProperty(i,"name",{value:r}),[i,B1(i)]}const[q1,mI]=nl("MethodUnsupportedError",(r,t)=>[`Method "${r}" is unsupported in Mini Apps version ${t}`]),[j1,gI]=nl("MethodParameterUnsupportedError",(r,t,i)=>[`Parameter "${t}" of "${r}" method is unsupported in Mini Apps version ${i}`]),H1=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[G1,yI]=nl("LaunchParamsRetrieveError",H1);nl("InvalidLaunchParamsError",r=>[`Invalid value for launch params: ${r}`]);const[Q1,_I]=nl("UnknownEnvError"),[F1,vI]=nl("InvokeCustomMethodError",r=>[`Server returned error: ${r}`]);function K1(r,t){t()}function $1(r,t){t||(t={});const i=t.equals||Object.is;let a=[],o=r;const c=y=>{if(!i(o,y)){const T=o;o=y,K1(g,()=>{[...a].forEach(([R,N])=>{R(y,T),N&&m(R,!0)})})}};function d(y){const T=typeof y!="object"?{once:y}:y;return{once:T.once||!1,signal:T.signal||!1}}const m=(y,T)=>{const R=d(T),N=a.findIndex(([P,$])=>P===y&&$.once===R.once&&$.signal===R.signal);N>=0&&a.splice(N,1)},g=Object.assign(function(){return Y1(g),o},{destroy(){a=[]},set:c,reset(){c(r)},sub(y,T){return a.push([y,d(T)]),()=>m(y,T)},unsub:m,unsubAll(){a=a.filter(y=>y[1].signal)}});return g}const Nd=[];function Y1(r){Nd.length&&Nd[Nd.length-1].add(r)}const X1=$1("https://web.telegram.org");function qp(r,t){k1(!1,"Posting event:",t?{eventType:r,eventData:t}:{eventType:r});const i=window,a=JSON.stringify({eventType:r,eventData:t});if(n1())return i.parent.postMessage(a,X1());if(J0(i)){i.TelegramWebviewProxy.postEvent(r,JSON.stringify(t));return}if(Up(Xn({external:Xn({notify:kp()})}),i)){i.external.notify(a);return}throw new Q1}function jp(r,t,i){i||(i={});const{capture:a}=i,[o,c]=f1();return new eE(d=>{(Array.isArray(t)?t:[t]).forEach(m=>{o(We(m,g=>{(!a||(Array.isArray(t)?a({event:m,payload:g}):a(g)))&&d(g)}))}),(i.postEvent||qp)(r,i.params)},i).finally(c)}const _v="launchParams";function vv(r){return r.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Z1(){for(const r of[()=>vv(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&vv(t.name)},()=>c1(_v)]){const t=r();if(t&&M1(t))return u1(_v,t),t}throw new G1}function Hp(r){return O1(Z1())}function Ev(r,t){try{return Hp(),!0}catch{return!1}return eE.fn(async i=>{if(J0(window))return!0;try{return await jp("web_app_request_theme","theme_changed",i),!0}catch{return!1}},{timeout:100})}function J1(r){return({req_id:t})=>t===r}function Tv(r){return r.split(".").map(Number)}function W1(r,t){const i=Tv(r),a=Tv(t),o=Math.max(i.length,a.length);for(let c=0;c<o;c+=1){const d=i[c]||0,m=a[c]||0;if(d!==m)return d>m?1:-1}return 0}function Ye(r,t){return W1(r,t)<=0}function Fa(r,t,i){if(typeof i=="string"){if(r==="web_app_open_link"){if(t==="try_instant_view")return Ye("6.4",i);if(t==="try_browser")return Ye("7.6",i)}if(r==="web_app_set_header_color"&&t==="color")return Ye("6.9",i);if(r==="web_app_close"&&t==="return_back")return Ye("7.6",i);if(r==="web_app_setup_main_button"&&t==="has_shine_effect")return Ye("7.10",i)}switch(r){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return Ye("6.1",t);case"web_app_open_popup":return Ye("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return Ye("6.4",t);case"web_app_switch_inline_query":return Ye("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return Ye("6.9",t);case"web_app_setup_settings_button":return Ye("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return Ye("7.2",t);case"web_app_setup_swipe_behavior":return Ye("7.7",t);case"web_app_share_to_story":return Ye("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return Ye("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return Ye("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(r)}}function tw(r,t){t||(t="strict");const i=typeof t=="function"?t:a=>{const{method:o,version:c}=a,d="param"in a?new j1(o,a.param,c):new q1(o,c);if(t==="strict")throw d;return console.warn(d.message)};return(a,o)=>Fa(a,r)?a==="web_app_set_header_color"&&Up(Xn({color:X0()}),o)&&!Fa(a,"color",r)?i({version:r,method:a,param:"color"}):qp(a,o):i({version:r,method:a})}function ew(r,t,i,a){return jp("web_app_invoke_custom_method","custom_method_invoked",{...a||{},params:{method:r,params:t,req_id:i},capture:J1(i)}).then(({result:o,error:c})=>{if(c)throw new F1(c);return o})}function _E(r){return r.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function nw(r){return r.replace(/_([a-z])/g,(t,i)=>`-${i.toLowerCase()}`)}function vE(r){return`tapps/${r}`}function Jn(r,t){sessionStorage.setItem(vE(r),JSON.stringify(t))}function Wn(r){const t=sessionStorage.getItem(vE(r));try{return t?JSON.parse(t):void 0}catch{}}function Gp(...r){const t=r.flat(1);return[t.push.bind(t),()=>{t.forEach(i=>{i()})}]}function iw(r,t){t||(t={});const{textColor:i,bgColor:a,shouldLog:o}=t,c=o===void 0?!0:o,d=typeof c=="boolean"?()=>c:c;function m(g,y,...T){if(y||d()){const R="font-weight:bold;padding:0 5px;border-radius:5px";console[g](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${r}`,`${R};background-color: lightblue;color:black`,"",`${R};${i?`color:${i};`:""}${a?`background-color:${a}`:""}`,...T)}}return[m.bind(void 0,"log"),m.bind(void 0,"error")]}function rw(){return performance.getEntriesByType("navigation")[0]}function ti(){const r=rw();return!!r&&r.type==="reload"}let qa;function sw(r,t){qa&&qa.set(r,t)||t()}function Wd(r){if(qa)return r();qa=new Map;try{r()}finally{qa.forEach(t=>t()),qa=void 0}}function EE(r,t){t||(t={});const i=t.equals||Object.is;let a=[],o=r;const c=y=>{if(!i(o,y)){const T=o;o=y,sw(g,()=>{[...a].forEach(([R,N])=>{R(y,T),N&&m(R,!0)})})}};function d(y){const T=typeof y!="object"?{once:y}:y;return{once:T.once||!1,signal:T.signal||!1}}const m=(y,T)=>{const R=d(T),N=a.findIndex(([P,$])=>P===y&&$.once===R.once&&$.signal===R.signal);N>=0&&a.splice(N,1)},g=Object.assign(function(){return aw(g),o},{destroy(){a=[]},set:c,reset(){c(r)},sub(y,T){return a.push([y,d(T)]),()=>m(y,T)},unsub:m,unsubAll(){a=a.filter(y=>y[1].signal)}});return g}const wo=[];function aw(r){wo.length&&wo[wo.length-1].add(r)}function lw(r,t){let i=new Set,a;function o(){return a||(a=EE(d(),t))}function c(){o().set(d())}function d(){i.forEach(y=>{y.unsub(c,{signal:!0})});const m=new Set;let g;wo.push(m);try{g=r()}finally{wo.pop()}return m.forEach(y=>{y.sub(c,{signal:!0})}),i=m,g}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...m){return o().sub(...m)},unsub(...m){o().unsub(...m)},unsubAll(...m){o().unsubAll(...m)}})}function il(r,t){return EE(r,t)}function de(r,t){return lw(r,t)}function Zt(r,t){const i=il(r,t);return[i,de(i)]}let ow=!1;const[tp,EI]=iw("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return ow}}),xd=il(0),TE=il(qp),[bv,bE]=Zt({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),ks=de(()=>bE().tgWebAppVersion);function uw(r){r||(r={});const{postEvent:t}=r,i=r.launchParams||Hp();bv.set(i),TE.set(typeof t=="function"?t:tw(i.tgWebAppVersion)),tp(!1,"The package was configured. Launch params:",bv())}function cw(){return xd.set(xd()+1),xd().toString()}function Ko(r,t,i){return ew(r,t,cw(),{...i||{},postEvent:Jt})}const ze=(r,t,i)=>(i||(i={}),i.postEvent||(i.postEvent=Jt),jp(r,t,i)),Jt=(r,t)=>TE()(r,t);function fw(r){return t=>t instanceof r}function Ai(r,t){t||(t=[]);class i extends Error{constructor(...o){const c=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...c),this.name=r}}return Object.defineProperty(i,"name",{value:r}),[i,fw(i)]}function Bs(r){return[r]}const[Qp,TI]=Ai("CSSVarsBoundError","CSS variables are already bound"),[AE,bI]=Ai("NotAvailableError",Bs);Ai("InvalidEnvError",Bs);const[vo,AI]=Ai("FunctionNotAvailableError",Bs),[Wi,SI]=Ai("InvalidArgumentsError",(r,t)=>[r,{cause:t}]),[hw,wI]=Ai("ConcurrentCallError",Bs),[dw,RI]=Ai("SetEmojiStatusError",r=>[`Failed to set emoji status: ${r}`]),[pw,CI]=Ai("AccessDeniedError",Bs),[mw,DI]=Ai("FullscreenFailedError",Bs);Ai("ShareMessageError",Bs);function Av(){return typeof window>"u"}function Fp(r,t,i){i||(i={});const{isSupported:a,isMounted:o,isMounting:c,component:d,supports:m}=i||{},g=`${d?`${d}.`:""}${r}()`,y=a?Array.isArray(a)||typeof a=="object"&&"any"in a?a:[a]:void 0;function T(rt){if(m){const at=m[rt];return Fa(at[0],at[1],ks())}return!0}function R(){if(!y)return;function rt(ct){return typeof ct=="function"?ct():Fa(ct,ks())?void 0:`it is unsupported in Mini Apps version ${ks()}`}const at=Array.isArray(y)?y:y.any,bt=at.map(rt).filter(Boolean);return Array.isArray(y)?bt[0]:bt.length===at.length?bt[bt.length-1]:void 0}function N(...rt){for(const at in m)if(m[at][2](...rt)&&!T(at))return`option ${at} is not supported in Mini Apps version ${ks()}`}let P;if(m){P={};for(const rt in m)P[rt]=de(()=>T(rt))}const $=de(()=>!R()),tt=de(()=>ks()!=="0.0"),K=de(()=>!o||o()),gt=de(()=>Ev()&&!Av()&&tt()&&$()&&K());return Object.assign((...rt)=>{const at=`Unable to call the ${g} ${d?"method":"function"}:`;if(Av()||!Ev())throw new vo(`${at} it can't be called outside Mini Apps`);if(!tt())throw new vo(`${at} the SDK was not initialized. Use the SDK init() function`);const bt=R();if(bt)throw new vo(`${at} ${bt}`);const ct=N(...rt);if(ct)throw new vo(`${at} ${ct}`);if(!K()){const Z=c&&c()?"mounting. Wait for the mount completion":`unmounted. Use the ${d}.mount() method`;throw new vo(`${at} the component is ${Z}`)}return t(...rt)},t,{isAvailable:gt,ifAvailable(...rt){return gt()?[!0,t(...rt)]:[!1]}},y?{isSupported:$}:{},P?{supports:P}:{})}function ef(r,t){return t||(t={}),(i,a,o,c)=>Fp(i,a,{...t,isSupported:o||t.isSupported,supports:c,component:r})}function ts(r,t,i){return ef(r,{isSupported:i,isMounted:t})}function Tn(r,t){return ef(r,{isSupported:t})}const Kp="web_app_setup_back_button",SE="back_button_pressed",nf="backButton",[Sv,VI]=Zt(!1),[ep,OI]=Zt(!1),wE=ts(nf,ep,Kp),$p=Tn(nf,Kp);wE("hide",()=>{Yp(!1)});$p("mount",()=>{ep()||(Yp(ti()&&Wn(nf)||!1),ep.set(!0))});function Yp(r){r!==Sv()&&(Jt(Kp,{is_visible:r}),Jn(nf,r),Sv.set(r))}$p("onClick",r=>We(SE,r));$p("offClick",r=>{Fo(SE,r)});wE("show",()=>{Yp(!0)});var gw=Object.defineProperty,yw=(r,t,i)=>t in r?gw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i,np=(r,t,i)=>yw(r,typeof t!="symbol"?t+"":t,i);function _w(r){return t=>t instanceof r}function RE(r,t){t||(t=[]);class i extends Error{constructor(...o){const c=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...c),this.name=r}}return Object.defineProperty(i,"name",{value:r}),[i,_w(i)]}const[vw,Ew]=RE("CancelledError","Promise was canceled"),[Tw,II]=RE("TimeoutError",(r,t)=>[`Timeout reached: ${r}ms`,{cause:t}]),CE=Symbol("Resolved");function wv(r){return Array.isArray(r)&&r[0]===CE}function bw(r){return[CE,r]}function Rv(r,t){return r.reject=t.reject,r.abort=t.abort,r}let tn=class ip extends Promise{constructor(t,i){let a,o;super((c,d)=>{let m,g;typeof t=="function"?(m=t,g=i):g=t;const y=[],T=Z=>(...O)=>{const S=Z(...O);return y.forEach(A=>A()),S},R=new AbortController,{signal:N}=R;o=Z=>{!N.aborted&&R.abort(Z)};const P=()=>N.reason,$=Z=>{const O=()=>{Z(P())};N.addEventListener("abort",O,!0);const S=()=>{N.removeEventListener("abort",O,!0)};return y.push(S),S},tt=T(Z=>{c(Z),o(bw(Z))});a=T(Z=>{d(Z),o(Z)}),g||(g={});const{abortSignal:K,rejectOnAbort:gt=!0}=g;if(K)if(K.aborted){const{reason:Z}=K;if(gt)return a(Z);o(Z)}else{const Z=()=>{o(K.reason)};K.addEventListener("abort",Z),y.push(()=>{K.removeEventListener("abort",Z)})}gt&&$(d);const{timeout:rt}=g;if(rt){const Z=setTimeout(()=>{o(new Tw(rt))},rt);y.push(()=>{clearTimeout(Z)})}const at=()=>N.aborted,bt=()=>wv(P()),ct=()=>{const Z=P();return wv(Z)?Z[1]:void 0};try{const Z=m&&m(tt,a,{abortReason:P,abortSignal:N,isAborted:at,isResolved:bt,onAborted:$,onResolved:O=>$(()=>{bt()&&O(ct())}),resolved:ct,throwIfAborted(){if(at())throw P()}});Z instanceof Promise&&Z.catch(a)}catch(Z){a(Z)}}),np(this,"abort"),np(this,"reject"),this.abort=o,this.reject=a}static fn(t,i){return new ip(async(a,o,c)=>{try{a(await t(c))}catch(d){o(d)}},i)}static resolve(t){return this.fn(()=>t)}static reject(t){return new ip((i,a)=>{a(t)})}cancel(){this.abort(new vw)}catch(t){return this.then(void 0,t)}finally(t){return Rv(super.finally(t),this)}then(t,i){return Rv(super.then(t,i),this)}};function Cv(r,t){return r.resolve=t.resolve,r}let Aw=class rp extends tn{constructor(t,i){let a,o;typeof t=="function"?(a=t,o=i):o=t;let c;super((d,m,g)=>{c=d,a&&a(d,m,g)},o),np(this,"resolve"),this.resolve=c}static fn(t,i){return new rp((a,o,c)=>{try{Promise.resolve(t(c)).then(a,o)}catch(d){o(d)}},i)}static resolve(t){return this.fn(()=>t)}static reject(t){return new rp((i,a)=>{a(t)})}catch(t){return this.then(void 0,t)}finally(t){return Cv(super.finally(t),this)}then(t,i){return Cv(super.then(t,i),this)}};function hn(r,t,i){i||(i={});const{promise:a,error:o}=i,[c,d]=a?[a,de(a)]:Zt(),[m,g]=o?[o,de(o)]:Zt();return[Object.assign((...y)=>{if(c()){const R=new hw(t);return m.set(R),tn.reject(R)}Wd(()=>{c.set(r(...y)),m.set(void 0)});let T;return c().catch(R=>{throw T=R,R}).finally(()=>{Wd(()=>{c.set(void 0),m.set(T)})})},r),[c,d,de(()=>!!c())],[m,g]]}function $o(r,t,i){const[a,...o]=hn(t,`The ${r} component is already mounting`),[c,d]=Zt(!1);return[(...m)=>c()?tn.resolve():a(...m).then(g=>{Wd(()=>{c.set(!0),i(g)})}),...o,[c,d]]}const[DE,MI]=Zt({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Dv="web_app_biometry_get_info",Sw=Fp("requestBiometry",r=>ze(Dv,"biometry_info_received",r),{isSupported:Dv});function VE(r){if(!Ew(r))throw r}function OE(r){const t=r();t&&t.catch(VE).cancel()}const No="biometry",Xp="web_app_biometry_request_auth",IE="biometry_info_received",ww=r=>{rf(Zp(r))};function ME(){throw new AE("Biometry is not available")}function Zp(r){let t=!1,i=!1,a="",o=!1,c="",d=!1;return r.available&&(t=!0,i=r.token_saved,a=r.device_id,o=r.access_requested,c=r.type,d=r.access_granted),{available:t,tokenSaved:i,deviceId:a,type:c,accessGranted:d,accessRequested:o}}const[Rw,Cw,Dw,NE]=$o(No,r=>{const t=ti()&&Wn(No);return t?tn.resolve(t):Sw({abortSignal:r}).then(Zp)},r=>{We(IE,ww),rf(r)}),xE=Tn(No,Xp),Jp=ts(No,NE[0],Xp);xE("mount",Rw);const[,NI,xI]=Cw,[,UI]=Dw,[kI,LI]=NE,[Vw,Ow,Iw]=hn(r=>tn.fn(async t=>{const i=DE();i.available||ME();const a=await ze(Xp,"biometry_auth_requested",{...r,...t,params:{reason:((r||{}).reason||"").trim()}}),{token:o}=a;return typeof o=="string"&&rf({...i,token:o}),a},r),"Biometry authentication is already in progress");Jp("authenticate",Vw);const[,zI,PI]=Ow,[,BI]=Iw;xE("openSettings",()=>{Jt("web_app_biometry_open_settings")});const[Mw,Nw,xw]=hn(r=>tn.fn(async t=>{const i=await ze("web_app_biometry_request_access",IE,{...r,...t,params:{reason:(r||{}).reason||""}}).then(Zp);return i.available||ME(),rf(i),i.accessGranted},r),"Biometry access request is already in progress");Jp("requestAccess",Mw);const[,qI,jI]=Nw,[,HI]=xw;function rf(r){DE.set(r),Jn(No,r)}Jp("updateToken",r=>(r||(r={}),ze("web_app_biometry_update_token","biometry_token_updated",{...r,params:{token:r.token||"",reason:r.reason}}).then(t=>t.status)));function sf(r,t){return ef(r,{isMounted:t})}const es=ef,af="closingBehavior",[Vv,GI]=Zt(!1),[Ov,Uw]=Zt(!1),UE=sf(af,Uw),kw=es(af);UE("disableConfirmation",()=>{Wp(!1)});UE("enableConfirmation",()=>{Wp(!0)});kw("mount",()=>{Ov()||(Wp(ti()&&Wn(af)||!1),Ov.set(!0))});function Wp(r){r!==Vv()&&(Jt("web_app_setup_closing_behavior",{need_confirmation:r}),Jn(af,r),Vv.set(r))}function kE(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function Lw(r,t){var i;return(i=void 0)==null?void 0:i.get(t)}function zw(r){var t,i;const a=typeof r;return a==="string"?`"${r}"`:a==="number"||a==="bigint"||a==="boolean"?`${r}`:a==="object"||a==="function"?(r&&((i=(t=Object.getPrototypeOf(r))==null?void 0:t.constructor)==null?void 0:i.name))??"null":a}function qn(r,t,i,a,o){const c=o&&"input"in o?o.input:i.value,d=(o==null?void 0:o.expected)??r.expects??null,m=(o==null?void 0:o.received)??zw(c),g={kind:r.kind,type:r.type,input:c,expected:d,received:m,message:`Invalid ${t}: ${d?`Expected ${d} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:a.lang,abortEarly:a.abortEarly,abortPipeEarly:a.abortPipeEarly},y=r.kind==="schema",T=(o==null?void 0:o.message)??r.message??Lw(r.reference,g.lang)??(y?(g.lang,void 0):null)??a.message??(g.lang,void 0);T&&(g.message=typeof T=="function"?T(g):T),y&&(i.typed=!1),i.issues?i.issues.push(g):i.issues=[g]}function Si(r){return{version:1,vendor:"valibot",validate(t){return r["~run"]({value:t},kE())}}}function LE(r,t){return Object.hasOwn(r,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Pw(r,t){const i=[...new Set(r)];return i.length>1?`(${i.join(` ${t} `)})`:i[0]??"never"}var sp=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function zE(r,t){return{kind:"validation",type:"check",reference:zE,async:!1,expects:null,requirement:r,message:t,"~run"(i,a){return i.typed&&!this.requirement(i.value)&&qn(this,"input",i,a),i}}}function PE(r){return{kind:"transformation",type:"transform",reference:PE,async:!1,operation:r,"~run"(t){return t.value=this.operation(t.value),t}}}function BE(r,t,i){return typeof r.default=="function"?r.default(t,i):r.default}function qE(r,t){return{kind:"schema",type:"array",reference:qE,expects:"Array",async:!1,item:r,message:t,get"~standard"(){return Si(this)},"~run"(i,a){var o;const c=i.value;if(Array.isArray(c)){i.typed=!0,i.value=[];for(let d=0;d<c.length;d++){const m=c[d],g=this.item["~run"]({value:m},a);if(g.issues){const y={type:"array",origin:"value",input:c,key:d,value:m};for(const T of g.issues)T.path?T.path.unshift(y):T.path=[y],(o=i.issues)==null||o.push(T);if(i.issues||(i.issues=g.issues),a.abortEarly){i.typed=!1;break}}g.typed||(i.typed=!1),i.value.push(g.value)}}else qn(this,"type",i,a);return i}}}function jE(r){return{kind:"schema",type:"date",reference:jE,expects:"Date",async:!1,message:r,get"~standard"(){return Si(this)},"~run"(t,i){return t.value instanceof Date?isNaN(t.value)?qn(this,"type",t,i,{received:'"Invalid Date"'}):t.typed=!0:qn(this,"type",t,i),t}}}function HE(r,t){return{kind:"schema",type:"instance",reference:HE,expects:r.name,async:!1,class:r,message:t,get"~standard"(){return Si(this)},"~run"(i,a){return i.value instanceof this.class?i.typed=!0:qn(this,"type",i,a),i}}}function ap(r,t){return{kind:"schema",type:"loose_object",reference:ap,expects:"Object",async:!1,entries:r,message:t,get"~standard"(){return Si(this)},"~run"(i,a){var o;const c=i.value;if(c&&typeof c=="object"){i.typed=!0,i.value={};for(const d in this.entries){const m=this.entries[d];if(d in c||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=d in c?c[d]:BE(m),y=m["~run"]({value:g},a);if(y.issues){const T={type:"object",origin:"value",input:c,key:d,value:g};for(const R of y.issues)R.path?R.path.unshift(T):R.path=[T],(o=i.issues)==null||o.push(R);if(i.issues||(i.issues=y.issues),a.abortEarly){i.typed=!1;break}}y.typed||(i.typed=!1),i.value[d]=y.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(qn(this,"key",i,a,{input:void 0,expected:`"${d}"`,path:[{type:"object",origin:"key",input:c,key:d,value:c[d]}]}),a.abortEarly))break}if(!i.issues||!a.abortEarly)for(const d in c)LE(c,d)&&!(d in this.entries)&&(i.value[d]=c[d])}else qn(this,"type",i,a);return i}}}function GE(r){return{kind:"schema",type:"number",reference:GE,expects:"number",async:!1,message:r,get"~standard"(){return Si(this)},"~run"(t,i){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:qn(this,"type",t,i),t}}}function QE(r,t){return{kind:"schema",type:"optional",reference:QE,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:t,get"~standard"(){return Si(this)},"~run"(i,a){return i.value===void 0&&(this.default!==void 0&&(i.value=BE(this,i,a)),i.value===void 0)?(i.typed=!0,i):this.wrapped["~run"](i,a)}}}function FE(r,t,i){return{kind:"schema",type:"record",reference:FE,expects:"Object",async:!1,key:r,value:t,message:i,get"~standard"(){return Si(this)},"~run"(a,o){var c,d;const m=a.value;if(m&&typeof m=="object"){a.typed=!0,a.value={};for(const g in m)if(LE(m,g)){const y=m[g],T=this.key["~run"]({value:g},o);if(T.issues){const N={type:"object",origin:"key",input:m,key:g,value:y};for(const P of T.issues)P.path=[N],(c=a.issues)==null||c.push(P);if(a.issues||(a.issues=T.issues),o.abortEarly){a.typed=!1;break}}const R=this.value["~run"]({value:y},o);if(R.issues){const N={type:"object",origin:"value",input:m,key:g,value:y};for(const P of R.issues)P.path?P.path.unshift(N):P.path=[N],(d=a.issues)==null||d.push(P);if(a.issues||(a.issues=R.issues),o.abortEarly){a.typed=!1;break}}(!T.typed||!R.typed)&&(a.typed=!1),T.typed&&(a.value[T.value]=R.value)}}else qn(this,"type",a,o);return a}}}function Yn(r){return{kind:"schema",type:"string",reference:Yn,expects:"string",async:!1,message:r,get"~standard"(){return Si(this)},"~run"(t,i){return typeof t.value=="string"?t.typed=!0:qn(this,"type",t,i),t}}}function Iv(r){let t;if(r)for(const i of r)t?t.push(...i.issues):t=i.issues;return t}function KE(r,t){return{kind:"schema",type:"union",reference:KE,expects:Pw(r.map(i=>i.expects),"|"),async:!1,options:r,message:t,get"~standard"(){return Si(this)},"~run"(i,a){let o,c,d;for(const m of this.options){const g=m["~run"]({value:i.value},a);if(g.typed)if(g.issues)c?c.push(g):c=[g];else{o=g;break}else d?d.push(g):d=[g]}if(o)return o;if(c){if(c.length===1)return c[0];qn(this,"type",i,a,{issues:Iv(c)}),i.typed=!0}else{if((d==null?void 0:d.length)===1)return d[0];qn(this,"type",i,a,{issues:Iv(d)})}return i}}}function tm(r,t,i){const a=r["~run"]({value:t},kE(i));if(a.issues)throw new sp(a.issues);return a.value}function Cc(...r){return{...r[0],pipe:r,get"~standard"(){return Si(this)},"~run"(t,i){for(const a of r)if(a.kind!=="metadata"){if(t.issues&&(a.kind==="schema"||a.kind==="transformation")){t.typed=!1;break}(!t.issues||!i.abortEarly&&!i.abortPipeEarly)&&(t=a["~run"](t,i))}return t}}}const Bw="web_app_invoke_custom_method",Yo=Tn("cloudStorage",Bw),qw=Yo("deleteItem",(r,t)=>{const i=Array.isArray(r)?r:[r];return i.length?Ko("deleteStorageValues",{keys:i},t).then():tn.resolve()});function jw(r,t){const i=Array.isArray(r)?r:[r];return i.length?Ko("getStorageValues",{keys:i},t).then(a=>tm(FE(Cc(Yn(),zE(o=>i.includes(o))),Yn()),a)):tn.resolve(typeof r=="string"?"":{})}Yo("getItem",jw);const Hw=Yo("getKeys",r=>Ko("getStorageKeys",{},r).then(t=>tm(qE(Yn()),t)));Yo("setItem",(r,t,i)=>Ko("saveStorageValue",{key:r,value:t},i).then());Yo("clear",r=>Hw(r).then(qw));const lf="web_app_trigger_haptic_feedback",em=Tn("hapticFeedback",lf);em("impactOccurred",r=>{Jt(lf,{type:"impact",impact_style:r})});em("notificationOccurred",r=>{Jt(lf,{type:"notification",notification_type:r})});em("selectionChanged",()=>{Jt(lf,{type:"selection_change"})});const $E="web_app_open_invoice",Gw=Tn("invoice",$E);function Qw(r,t,i){let a;if(t==="url"){const{hostname:o,pathname:c}=new URL(r,window.location.href);if(o!=="t.me")throw new Wi(`Link has unexpected hostname: ${o}`);const d=c.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!d)throw new Wi('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,a]=d}else a=r,i=t;return ze($E,"invoice_closed",{...i,params:{slug:a},capture:o=>a===o.slug}).then(o=>o.status)}const[Fw,Kw,$w]=hn(Qw,"Invoice is already opened");Gw("open",Fw);const[,FI,KI]=Kw,[,$I]=$w,Ro="locationManager",YE="web_app_check_location",Mv="web_app_open_location_settings",lp=il({available:!1,accessGranted:!1,accessRequested:!1});function Yw(r){let t=!1,i,a;return r.available&&(t=!0,i=r.access_requested,a=r.access_granted),{available:t,accessGranted:a||!1,accessRequested:i||!1}}const[Xw,Zw,Jw,XE]=$o(Ro,r=>{const t=ti()&&Wn(Ro);return t?tn.resolve(t):ze("web_app_check_location","location_checked",r).then(Yw)},r=>{lp.set(r),Jn(Ro,r)}),ZE=Tn(Ro,YE),Ww=ts(Ro,XE[0],YE);ZE("mount",Xw);const[,YI,XI]=Zw,[,ZI]=Jw,[JI,WI]=XE,[tR,eR,nR]=hn(r=>ze("web_app_request_location","location_requested",r).then(t=>{if(!t.available)throw lp.set({...lp(),available:!1}),new AE("Location data tracking is not available");const{available:i,...a}=t;return a}),"Location request is currently in progress");Ww("requestLocation",tR);const[,tM,eM]=eR,[,nM]=nR;ZE("openSettings",()=>{Jt(Mv)},Mv);function nm(r){const t={};for(const i in r){const a=r[i];a!==void 0&&(t[i]=a)}return t}function iR(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}var rR=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function im(r){return{kind:"transformation",type:"transform",reference:im,async:!1,operation:r,"~run"(t){return t.value=this.operation(t.value),t}}}function sR(r,t,i){const a=r["~run"]({value:t},iR(i));if(a.issues)throw new rR(a.issues);return a.value}function aR(){return im(JSON.parse)}function lR(r){return im(t=>{const i={};return new URLSearchParams(t).forEach((a,o)=>{const c=i[o];Array.isArray(c)?c.push(a):c===void 0?i[o]=a:i[o]=[c,a]}),sR(r,i)})}function xo(r){return/^#[\da-f]{6}$/i.test(r)}function oR(r){return/^#[\da-f]{3}$/i.test(r)}function uR(r){const t=r.replace(/\s/g,"").toLowerCase();if(xo(t))return t;if(oR(t)){let a="#";for(let o=0;o<3;o+=1)a+=t[1+o].repeat(2);return a}const i=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!i)throw new Error(`Value "${r}" does not satisfy any of known RGB formats.`);return i.slice(1).reduce((a,o)=>a+parseInt(o,10).toString(16).padStart(2,"0"),"#")}function cR(r){const t=uR(r);return Math.sqrt([.299,.587,.114].reduce((i,a,o)=>{const c=parseInt(t.slice(1+o*2,1+(o+1)*2),16);return i+c*c*a},0))<120}const[Ud,iM]=Zt(!1),[ja,rM]=Zt({});function Xo(r){return de(()=>ja()[r])}const JE=Xo("bg_color"),WE=Xo("button_color"),fR=Xo("button_text_color"),hR=Xo("bottom_bar_bg_color"),op=Xo("secondary_bg_color"),Co=il({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),dR=de(()=>{const r=Co();return{...r,backgroundColor:r.backgroundColor||WE()||"#2481cc",textColor:r.textColor||fR()||"#ffffff"}}),[Nv,pR]=Zt(!1),mR="web_app_setup_main_button",tT="main_button_pressed",of="mainButton",rm=es(of),gR=sf(of,pR);rm("mount",()=>{if(!Nv()){const r=ti()&&Wn(of);r&&Co.set(r),Nv.set(!0)}});rm("onClick",r=>We(tT,r));rm("offClick",r=>{Fo(tT,r)});gR("setParams",r=>{Co.set({...Co(),...nm(r)}),Jn(of,Co());const t=dR();t.text&&Jt(mR,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function sm(r,t){document.documentElement.style.setProperty(r,t)}function am(r){document.documentElement.style.removeProperty(r)}const Uo="themeParams",yR="theme_changed",_R=es(Uo),vR=({theme_params:r})=>{ja.set(r),Jn(Uo,r)},[ER,TR,bR,eT]=$o(Uo,r=>{const t=ti()&&Wn(Uo);return t?tn.resolve(t):ze("web_app_request_theme","theme_changed",r).then(i=>i.theme_params)},r=>{We(yR,vR),ja.set(r)}),AR=sf(Uo,eT[0]);AR("bindCssVars",r=>{if(Ud())throw new Qp;r||(r=a=>`--tg-theme-${nw(a)}`);function t(a){Object.entries(ja()).forEach(([o,c])=>{c&&a(o,c)})}function i(){t((a,o)=>{sm(r(a),o)})}return i(),ja.sub(i),Ud.set(!0),()=>{t(am),ja.unsub(i),Ud.set(!1)}});const SR=_R("mount",ER),[,sM,aM]=TR,[,lM]=bR,[oM,uM]=eT;function nT(r){return de(()=>{const t=r();return xo(t)?t:t==="bg_color"?JE():op()})}const[xc,wR]=Zt("bg_color"),lm=nT(xc),[Uc,RR]=Zt("bottom_bar_bg_color"),om=de(()=>{const r=Uc();return xo(r)?r:r==="bottom_bar_bg_color"?hR()||op():r==="secondary_bg_color"?op():JE()}),[kc,CR]=Zt("bg_color"),iT=nT(kc),[kd,DR]=Zt(!1),VR=de(()=>{const r=lm();return r?cR(r):!1}),[um,OR]=Zt(!0),rT=de(()=>({backgroundColor:xc(),bottomBarColor:Uc(),headerColor:kc(),isActive:um()})),up="web_app_set_background_color",cp="web_app_set_bottom_bar_color",Dc="web_app_set_header_color",sT="visibility_changed",Ka="miniApp",cm={any:[up,cp,Dc]},IR=de(()=>cm.any.some(r=>Fa(r,ks()))),aT=r=>{um.set(r.is_visible),cf()},[MR,NR,xR,lT]=$o(Ka,r=>SR(r).then(()=>ti()&&Wn(Ka)||void 0),r=>{cT.ifAvailable(r?r.backgroundColor:"bg_color"),fT.ifAvailable(r?r.bottomBarColor:"bottom_bar_bg_color"),hT.ifAvailable(r?r.headerColor:"bg_color"),um.set(r?r.isActive:!0),We(sT,aT)}),oT=es(Ka),UR=Tn(Ka,cm),uf=ts(Ka,lT[0],cm),kR=uf("bindCssVars",r=>{if(kd())throw new Qp;const[t,i]=Gp();function a(o,c){function d(){sm(o,c()||null)}d(),t(c.sub(d),am.bind(null,o))}return r||(r=o=>`--tg-${_E(o)}`),a(r("bgColor"),lm),a(r("bottomBarColor"),om),a(r("headerColor"),iT),t(()=>{kd.set(!1)}),kd.set(!0),i}),LR=oT("close",r=>{Jt("web_app_close",{return_back:r})}),zR=UR("mount",MR),[,uT,PR]=NR,[,BR]=xR,[qR,jR]=lT,HR=oT("ready",()=>{Jt("web_app_ready")});function cf(){Jn(Ka,rT())}const cT=uf("setBackgroundColor",r=>{r!==xc()&&(Jt(up,{color:r}),xc.set(r),cf())},up),fT=uf("setBottomBarColor",r=>{r!==Uc()&&(Jt(cp,{color:r}),Uc.set(r),cf())},cp),hT=uf("setHeaderColor",r=>{r!==kc()&&(Jt(Dc,xo(r)?{color:r}:{color_key:r}),kc.set(r),cf())},Dc,{rgb:[Dc,"color",xo]});function GR(){OE(uT),Fo(sT,aT),qR.set(!1)}const xv=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:wR,backgroundColorRGB:lm,bindCssVars:kR,bottomBarColor:RR,bottomBarColorRGB:om,close:LR,headerColor:CR,headerColorRGB:iT,isActive:OR,isCssVarsBound:DR,isDark:VR,isMounted:jR,isMounting:PR,isSupported:IR,mount:zR,mountError:BR,mountPromise:uT,ready:HR,setBackgroundColor:cT,setBottomBarColor:fT,setHeaderColor:hT,state:rT,unmount:GR},Symbol.toStringTag,{value:"Module"}));function QR(r){const t=r.message.trim(),i=(r.title||"").trim(),a=r.buttons||[];if(i.length>64)throw new Wi(`Invalid title: ${i}`);if(!t||t.length>256)throw new Wi(`Invalid message: ${t}`);if(a.length>3)throw new Wi(`Invalid buttons count: ${a.length}`);return{title:i,message:t,buttons:a.length?a.map((o,c)=>{const d=o.id||"";if(d.length>64)throw new Wi(`Button with index ${c} has invalid id: ${d}`);if(!o.type||o.type==="default"||o.type==="destructive"){const m=o.text.trim();if(!m||m.length>64)throw new Wi(`Button with index ${c} has invalid text: ${m}`);return{type:o.type,text:m,id:d}}return{type:o.type,id:d}}):[{type:"close",id:""}]}}const dT="web_app_open_popup",FR=Tn("popup",dT),[KR,$R,YR]=hn(r=>ze(dT,"popup_closed",{...r,params:QR(r)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened");FR("open",KR);const[,cM,fM]=$R,[,hM]=YR,pT="web_app_close_scan_qr_popup",mT="web_app_open_scan_qr_popup",XR="scan_qr_popup_closed",ZR="qr_text_received",gT=Tn("qrScanner",mT);gT("close",()=>{Jt(pT),OE(n2)});function JR(r){r||(r={});const{onCaptured:t,text:i,capture:a}=r,[,o]=Gp(We(XR,()=>{c.resolve()}),We(ZR,d=>{t?t(d.data):(!a||a(d.data))&&(c.resolve(d.data),Jt(pT))})),c=new Aw(r);return(r.postEvent||Jt)(mT,{text:i}),tn.resolve(c).catch(VE).finally(o)}const[WR,t2,e2]=hn(JR,"The QR Scanner is already opened");gT("open",WR);const[,n2,dM]=t2,[,pM]=e2,Do=il({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),i2=de(()=>{const r=Do();return{...r,backgroundColor:r.backgroundColor||om()||"#000000",textColor:r.textColor||WE()||"#2481cc"}}),[Uv,r2]=Zt(!1),fm="web_app_setup_secondary_button",yT="secondary_button_pressed",ff="secondaryButton",hm=Tn(ff,fm),s2=ts(ff,r2,fm);hm("mount",()=>{if(!Uv()){const r=ti()&&Wn(ff);r&&Do.set(r),Uv.set(!0)}});hm("onClick",r=>We(yT,r));hm("offClick",r=>{Fo(yT,r)});s2("setParams",r=>{Do.set({...Do(),...nm(r)}),Jn(ff,Do());const t=i2();t.text&&Jt(fm,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const dm="web_app_setup_settings_button",_T="settings_button_pressed",hf="settingsButton",[kv,mM]=Zt(!1),[fp,gM]=Zt(!1),pm=Tn(hf,dm),vT=ts(hf,fp,dm);vT("hide",()=>{mm(!1)});pm("mount",()=>{fp()||(mm(ti()&&Wn(hf)||!1),fp.set(!0))});function mm(r){r!==kv()&&(Jt(dm,{is_visible:r}),Jn(hf,r),kv.set(r))}pm("onClick",r=>We(_T,r));pm("offClick",r=>{Fo(_T,r)});vT("show",()=>{mm(!0)});const gm="web_app_setup_swipe_behavior",df="swipeBehavior",[hp,yM]=Zt(!1),[Lv,_M]=Zt(!0),a2=Tn(df,gm),ET=ts(df,hp,gm);ET("disableVertical",()=>{ym(!1)});ET("enableVertical",()=>{ym(!0)});a2("mount",()=>{hp()||(ym(ti()&&Wn(df)||!1,!0),hp.set(!0))});function ym(r,t){(r!==Lv()||t)&&(Jt(gm,{allow_vertical_swipe:r}),Jn(df,r),Lv.set(r))}const qs="viewport",TT="fullscreen_changed",bT="safe_area_changed",AT="content_safe_area_changed",ST="viewport_changed",wT=es(qs),zv={left:0,top:0,bottom:0,right:0};function Ld(r){return Math.max(r,0)}const[zd,l2]=Zt({contentSafeAreaInsets:zv,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:zv,stableHeight:0,width:0});function rl(r){return de(()=>l2()[r])}const o2=rl("height"),u2=rl("stableHeight"),c2=rl("width");function sl(r){const{height:t,stableHeight:i,width:a}=r;zd.set({...zd(),...nm({...r,height:t?Ld(t):void 0,width:a?Ld(a):void 0,stableHeight:i?Ld(i):void 0})}),Jn(qs,zd())}function f2(){return Wn(qs)}function pf(r){return de(()=>RT()[r])}const RT=rl("contentSafeAreaInsets"),h2=pf("bottom"),d2=pf("left"),p2=pf("right"),m2=pf("top");function mf(r){return de(()=>CT()[r])}const CT=rl("safeAreaInsets"),g2=mf("bottom"),y2=mf("left"),_2=mf("right"),v2=mf("top"),DT="web_app_request_safe_area",VT=Tn(qs,DT),Pv=VT("requestContentSafeAreaInsets",r=>ze("web_app_request_content_safe_area",AT,r));function E2(r){return ze("web_app_request_viewport",ST,r)}const Bv=VT("requestSafeAreaInsets",r=>ze(DT,bT,r)),T2=r=>{const{height:t}=r;sl({isExpanded:r.is_expanded,height:t,width:r.width,stableHeight:r.is_state_stable?t:void 0})},b2=r=>{sl({isFullscreen:r.is_fullscreen})},A2=r=>{sl({safeAreaInsets:r})},S2=r=>{sl({contentSafeAreaInsets:r})},[w2,R2,C2,D2]=$o(qs,r=>{const t=ti()&&f2();return t?tn.resolve(t):tn.fn(async i=>{const a=await tn.all([Bv.isAvailable()?Bv(i):CT(),Pv.isAvailable()?Pv(i):RT()]),o=bE(),c={contentSafeAreaInsets:a[1],isFullscreen:!!o.tgWebAppFullscreen,safeAreaInsets:a[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.tgWebAppPlatform)){const d=window;return{...c,height:d.innerHeight,isExpanded:!0,stableHeight:d.innerHeight,width:d.innerWidth}}return E2(i).then(d=>({...c,height:d.height,isExpanded:d.is_expanded,stableHeight:d.is_state_stable?d.height:0,width:d.width}))},r)},r=>{We(ST,T2),We(TT,b2),We(bT,A2),We(AT,S2),sl(r)});wT("mount",w2);const[,vM,EM]=R2,[,TM]=C2,[OT,bM]=D2,V2=sf(qs,OT),[Pd,AM]=Zt(!1);V2("bindCssVars",r=>{if(Pd())throw new Qp;r||(r=i=>`--tg-viewport-${_E(i)}`);const t=[["height",o2],["stableHeight",u2],["width",c2],["safeAreaInsetTop",v2],["safeAreaInsetBottom",g2],["safeAreaInsetLeft",y2],["safeAreaInsetRight",_2],["contentSafeAreaInsetTop",m2],["contentSafeAreaInsetBottom",h2],["contentSafeAreaInsetLeft",d2],["contentSafeAreaInsetRight",p2]].reduce((i,[a,o])=>{const c=r(a);if(c){const d=()=>{sm(c,`${o()}px`)};i.push([d,o.sub(d),c])}return i},[]);return t.forEach(i=>{i[0]()}),Pd.set(!0),()=>{t.forEach(i=>{i[1](),am(i[2])}),Pd.set(!1)}});wT("expand",()=>{Jt("web_app_expand")});const IT="web_app_request_fullscreen",O2=ts(qs,OT,IT),I2=rl("isFullscreen"),[M2,SM]=Zt(),[N2,wM]=Zt();function MT(r,t){return O2(r,hn(i=>ze(t?IT:"web_app_exit_fullscreen",[TT,"fullscreen_failed"],i).then(a=>{if("error"in a&&a.error!=="ALREADY_FULLSCREEN")throw new mw(a.error);const o="is_fullscreen"in a?a.is_fullscreen:!0;o!==I2()&&sl({isFullscreen:o})}),"Fullscreen mode change is already being requested",{promise:M2,error:N2})[0])}MT("requestFullscreen",!0);MT("exitFullscreen");const x2="web_app_request_emoji_status_access",[RM,U2,k2]=hn(r=>ze(x2,"emoji_status_access_requested",r).then(t=>t.status),"Emoji status access request is already in progress"),[,CM,DM]=U2,[,VM]=k2,L2="web_app_set_emoji_status",[OM,z2,P2]=hn((r,t)=>ze(L2,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:r,duration:(t||{}).duration},...t}).then(i=>{if(i&&"error"in i)throw new dw(i.error)}),"Emoji status set request is currently in progress"),[,IM,MM]=z2,[,NM]=P2,B2="web_app_check_home_screen",[xM,q2,j2]=hn(r=>ze(B2,"home_screen_checked",r).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),[,UM,kM]=q2,[,LM]=j2,H2=es();H2("openLink",(r,t)=>{if(typeof r=="string")try{r=new URL(r)}catch(i){throw new Wi(`"${r.toString()}" is invalid URL`,i)}t||(t={}),Jt("web_app_open_link",{url:r.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const qv="web_app_open_tg_link",G2=es(),Q2=G2("openTelegramLink",r=>{const t=r.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new Wi(`"${t}" is invalid URL`);if(!Fa(qv,ks())){window.location.href=t;return}r=new URL(r),Jt(qv,{path_full:r.pathname+r.search})}),F2=es();F2("shareURL",(r,t)=>{Q2("https://t.me/share/url?"+new URLSearchParams({url:r,text:t||""}).toString().replace(/\+/g,"%20"))});function K2(r,t){return new tn({abortSignal:t,timeout:r}).catch(()=>{})}const NT="web_app_request_phone",[$2,Y2,X2]=hn(r=>ze(NT,"phone_requested",r).then(t=>t.status),"Phone access request is currently in progress"),Z2=Fp("requestPhoneAccess",$2,{isSupported:NT}),[,zM,PM]=Y2,[,BM]=X2;async function jv(r){const t=await Ko("getRequestedContact",{},{...r,timeout:(r||{}).timeout||5e3});return tm(Cc(KE([Yn(),HE(URLSearchParams)]),lR(ap({contact:Cc(Yn(),aR(),ap({user_id:GE(),phone_number:Yn(),first_name:Yn(),last_name:QE(Yn())})),auth_date:Cc(Yn(),PE(i=>new Date(Number(i)*1e3)),jE()),hash:Yn()}))),t)}const[qM,J2,W2]=hn(r=>new tn(async(t,i,a)=>{try{return t(await jv(a))}catch(c){if(c instanceof sp)throw c}if(await Z2(a)!=="sent")throw new pw("User denied access");let o=50;for(;!a.isAborted();){try{return t(await jv(a))}catch(c){if(c instanceof sp)throw c}await K2(o),o+=50}},r),"Contact is already being requested"),[,jM,HM]=J2,[,GM]=W2,tC="web_app_request_write_access",[QM,eC,nC]=hn(r=>ze(tC,"write_access_requested",r).then(t=>t.status),"Write access request is currently in progress"),[,FM,KM]=eC,[,$M]=nC;function iC(r){uw(r);const[t,i]=Gp(We("reload_iframe",()=>{tp(!1,"Received a request to reload the page"),Jt("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:a=!0}={};if(a){const o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),t(We("set_custom_style",c=>{o.innerHTML=c}),()=>{document.head.removeChild(o)})}return Jt("iframe_ready",{reload_supported:!0}),tp(!1,"The package was initialized"),i}const rC=()=>{};var Hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},sC=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},UT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=c>>2,R=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,P=y&63;g||(P=64,d||(N=64)),a.push(i[T],i[R],i[N],i[P])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sC(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||R==null)throw new aC;const N=c<<2|m>>4;if(a.push(N),y!==64){const P=m<<4&240|y>>2;if(a.push(P),R!==64){const $=y<<6&192|R;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(r){const t=xT(r);return UT.encodeByteArray(t,!0)},Lc=function(r){return lC(r).replace(/\./g,"")},oC=function(r){try{return UT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,fC=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&oC(r[1]);return t&&JSON.parse(t)},_m=()=>{try{return rC()||cC()||fC()||hC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dC=r=>{var t,i;return(i=(t=_m())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},pC=r=>{const t=dC(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kT=()=>{var r;return(r=_m())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _C(){var r;const t=(r=_m())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="FirebaseError";class al extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=bC,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LT.prototype.create)}}class LT{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?AC(c,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new al(o,m,a)}}function AC(r,t){return r.replace(SC,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const SC=/\{\$([^}]+)}/g;function zc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(Gv(c)&&Gv(d)){if(!zc(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(r){return r&&r._delegate?r._delegate:r}class ko{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new mC;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CC(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RC(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RC(r){return r===xs?void 0:r}function CC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new wC(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const VC={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},OC=kt.INFO,IC={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},MC=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=IC[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zT{constructor(t){this.name=t,this._logLevel=OC,this._logHandler=MC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const NC=(r,t)=>t.some(i=>r instanceof i);let Qv,Fv;function xC(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,dp=new WeakMap,BT=new WeakMap,Bd=new WeakMap,vm=new WeakMap;function kC(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(jr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&PT.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function LC(r){if(dp.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});dp.set(r,t)}let pp={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return dp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||BT.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function zC(r){pp=r(pp)}function PC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(qd(this),t,...i);return BT.set(a,t.sort?t.sort():[t]),jr(a)}:UC().includes(r)?function(...t){return r.apply(qd(this),t),jr(PT.get(this))}:function(...t){return jr(r.apply(qd(this),t))}}function BC(r){return typeof r=="function"?PC(r):(r instanceof IDBTransaction&&LC(r),NC(r,xC())?new Proxy(r,pp):r)}function jr(r){if(r instanceof IDBRequest)return kC(r);if(Bd.has(r))return Bd.get(r);const t=BC(r);return t!==r&&(Bd.set(r,t),vm.set(t,r)),t}const qd=r=>vm.get(r);function qC(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),m=jr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(jr(d.result),g.oldVersion,g.newVersion,jr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const jC=["get","getKey","getAll","getAllKeys","count"],HC=["put","add","delete","clear"],jd=new Map;function Kv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=HC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jC.includes(i)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&g.done]))[0]};return jd.set(t,c),c}zC(r=>({...r,get:(t,i,a)=>Kv(t,i)||r.get(t,i,a),has:(t,i)=>!!Kv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QC(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const mp="@firebase/app",$v="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new zT("@firebase/app"),FC="@firebase/app-compat",KC="@firebase/analytics-compat",$C="@firebase/analytics",YC="@firebase/app-check-compat",XC="@firebase/app-check",ZC="@firebase/auth",JC="@firebase/auth-compat",WC="@firebase/database",tD="@firebase/data-connect",eD="@firebase/database-compat",nD="@firebase/functions",iD="@firebase/functions-compat",rD="@firebase/installations",sD="@firebase/installations-compat",aD="@firebase/messaging",lD="@firebase/messaging-compat",oD="@firebase/performance",uD="@firebase/performance-compat",cD="@firebase/remote-config",fD="@firebase/remote-config-compat",hD="@firebase/storage",dD="@firebase/storage-compat",pD="@firebase/firestore",mD="@firebase/vertexai",gD="@firebase/firestore-compat",yD="firebase",_D="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",vD={[mp]:"fire-core",[FC]:"fire-core-compat",[$C]:"fire-analytics",[KC]:"fire-analytics-compat",[XC]:"fire-app-check",[YC]:"fire-app-check-compat",[ZC]:"fire-auth",[JC]:"fire-auth-compat",[WC]:"fire-rtdb",[tD]:"fire-data-connect",[eD]:"fire-rtdb-compat",[nD]:"fire-fn",[iD]:"fire-fn-compat",[rD]:"fire-iid",[sD]:"fire-iid-compat",[aD]:"fire-fcm",[lD]:"fire-fcm-compat",[oD]:"fire-perf",[uD]:"fire-perf-compat",[cD]:"fire-rc",[fD]:"fire-rc-compat",[hD]:"fire-gcs",[dD]:"fire-gcs-compat",[pD]:"fire-fst",[gD]:"fire-fst-compat",[mD]:"fire-vertex","fire-js":"fire-js",[yD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,ED=new Map,yp=new Map;function Yv(r,t){try{r.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function qc(r){const t=r.name;if(yp.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;yp.set(t,r);for(const i of Bc.values())Yv(i,r);for(const i of ED.values())Yv(i,r);return!0}function TD(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function bD(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new LT("app","Firebase",AD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=_D;function qT(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:gp,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(i||(i=kT()),!i)throw Hr.create("no-options");const c=Bc.get(o);if(c){if(zc(i,c.options)&&zc(a,c.config))return c;throw Hr.create("duplicate-app",{appName:o})}const d=new DC(o);for(const g of yp.values())d.addComponent(g);const m=new SD(i,a,d);return Bc.set(o,m),m}function RD(r=gp){const t=Bc.get(r);if(!t&&r===gp&&kT())return qT();if(!t)throw Hr.create("no-app",{appName:r});return t}function Ha(r,t,i){var a;let o=(a=vD[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}qc(new ko(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="firebase-heartbeat-database",DD=1,Lo="firebase-heartbeat-store";let Hd=null;function jT(){return Hd||(Hd=qC(CD,DD,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Lo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function VD(r){try{const i=(await jT()).transaction(Lo),a=await i.objectStore(Lo).get(HT(r));return await i.done,a}catch(t){if(t instanceof al)er.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});er.warn(i.message)}}}async function Xv(r,t){try{const a=(await jT()).transaction(Lo,"readwrite");await a.objectStore(Lo).put(t,HT(r)),await a.done}catch(i){if(i instanceof al)er.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});er.warn(a.message)}}}function HT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1024,ID=30;class MD{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xD(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>ID){const d=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){er.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Zv(),{heartbeatsToSend:a,unsentEntries:o}=ND(this._heartbeatsCache.heartbeats),c=Lc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return er.warn(i),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function ND(r,t=OD){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Jv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Jv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VD(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Jv(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function UD(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r){qc(new ko("platform-logger",t=>new GC(t),"PRIVATE")),qc(new ko("heartbeat",t=>new MD(t),"PRIVATE")),Ha(mp,$v,r),Ha(mp,$v,"esm2017"),Ha("fire-js","")}kD("");var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,GT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function A(){}A.prototype=S.prototype,O.D=S.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(D,x,L){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return S.prototype[x].apply(D,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)D[x]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(x=0;16>x;++x)D[x]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=O.g[0],A=O.g[1],x=O.g[2];var L=O.g[3],C=S+(L^A&(x^L))+D[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=L+(x^S&(A^x))+D[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=x+(A^L&(S^A))+D[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=A+(S^x&(L^S))+D[3]+3250441966&4294967295,A=x+(C<<22&4294967295|C>>>10),C=S+(L^A&(x^L))+D[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=L+(x^S&(A^x))+D[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=x+(A^L&(S^A))+D[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=A+(S^x&(L^S))+D[7]+4249261313&4294967295,A=x+(C<<22&4294967295|C>>>10),C=S+(L^A&(x^L))+D[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=L+(x^S&(A^x))+D[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=x+(A^L&(S^A))+D[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=A+(S^x&(L^S))+D[11]+2304563134&4294967295,A=x+(C<<22&4294967295|C>>>10),C=S+(L^A&(x^L))+D[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=L+(x^S&(A^x))+D[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=x+(A^L&(S^A))+D[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=A+(S^x&(L^S))+D[15]+1236535329&4294967295,A=x+(C<<22&4294967295|C>>>10),C=S+(x^L&(A^x))+D[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=L+(A^x&(S^A))+D[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=x+(S^A&(L^S))+D[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=A+(L^S&(x^L))+D[0]+3921069994&4294967295,A=x+(C<<20&4294967295|C>>>12),C=S+(x^L&(A^x))+D[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=L+(A^x&(S^A))+D[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=x+(S^A&(L^S))+D[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=A+(L^S&(x^L))+D[4]+3889429448&4294967295,A=x+(C<<20&4294967295|C>>>12),C=S+(x^L&(A^x))+D[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=L+(A^x&(S^A))+D[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=x+(S^A&(L^S))+D[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=A+(L^S&(x^L))+D[8]+1163531501&4294967295,A=x+(C<<20&4294967295|C>>>12),C=S+(x^L&(A^x))+D[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=L+(A^x&(S^A))+D[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=x+(S^A&(L^S))+D[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=A+(L^S&(x^L))+D[12]+2368359562&4294967295,A=x+(C<<20&4294967295|C>>>12),C=S+(A^x^L)+D[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=L+(S^A^x)+D[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=x+(L^S^A)+D[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=A+(x^L^S)+D[14]+4259657740&4294967295,A=x+(C<<23&4294967295|C>>>9),C=S+(A^x^L)+D[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=L+(S^A^x)+D[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=x+(L^S^A)+D[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=A+(x^L^S)+D[10]+3200236656&4294967295,A=x+(C<<23&4294967295|C>>>9),C=S+(A^x^L)+D[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=L+(S^A^x)+D[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=x+(L^S^A)+D[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=A+(x^L^S)+D[6]+76029189&4294967295,A=x+(C<<23&4294967295|C>>>9),C=S+(A^x^L)+D[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=L+(S^A^x)+D[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=x+(L^S^A)+D[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=A+(x^L^S)+D[2]+3299628645&4294967295,A=x+(C<<23&4294967295|C>>>9),C=S+(x^(A|~L))+D[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=L+(A^(S|~x))+D[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=x+(S^(L|~A))+D[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=A+(L^(x|~S))+D[5]+4237533241&4294967295,A=x+(C<<21&4294967295|C>>>11),C=S+(x^(A|~L))+D[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=L+(A^(S|~x))+D[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=x+(S^(L|~A))+D[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=A+(L^(x|~S))+D[1]+2240044497&4294967295,A=x+(C<<21&4294967295|C>>>11),C=S+(x^(A|~L))+D[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=L+(A^(S|~x))+D[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=x+(S^(L|~A))+D[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=A+(L^(x|~S))+D[13]+1309151649&4294967295,A=x+(C<<21&4294967295|C>>>11),C=S+(x^(A|~L))+D[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=L+(A^(S|~x))+D[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=x+(S^(L|~A))+D[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=A+(L^(x|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+L&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var A=S-this.blockSize,D=this.B,x=this.h,L=0;L<S;){if(x==0)for(;L<=A;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<S;)if(D[x++]=O.charCodeAt(L++),x==this.blockSize){o(this,D),x=0;break}}else for(;L<S;)if(D[x++]=O[L++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var A=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=A&255,A/=256;for(this.u(O),O=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)O[A++]=this.g[S]>>>D&255;return O};function c(O,S){var A=m;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=S(O)}function d(O,S){this.h=S;for(var A=[],D=!0,x=O.length-1;0<=x;x--){var L=O[x]|0;D&&L==S||(A[x]=L,D=!1)}this.g=A}var m={};function g(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return K(y(-O));for(var S=[],A=1,D=0;O>=A;D++)S[D]=O/A|0,A*=4294967296;return new d(S,0)}function T(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return K(T(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),D=R,x=0;x<O.length;x+=8){var L=Math.min(8,O.length-x),C=parseInt(O.substring(x,x+L),S);8>L?(L=y(Math.pow(S,L)),D=D.j(L).add(y(C))):(D=D.j(A),D=D.add(y(C)))}return D}var R=g(0),N=g(1),P=g(16777216);r=d.prototype,r.m=function(){if(tt(this))return-K(this).m();for(var O=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(tt(this))return"-"+K(this).toString(O);for(var S=y(Math.pow(O,6)),A=this,D="";;){var x=bt(A,S).g;A=gt(A,x.j(S));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=x,$(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function tt(O){return O.h==-1}r.l=function(O){return O=gt(this,O),tt(O)?-1:$(O)?0:1};function K(O){for(var S=O.g.length,A=[],D=0;D<S;D++)A[D]=~O.g[D];return new d(A,~O.h).add(N)}r.abs=function(){return tt(this)?K(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0,x=0;x<=S;x++){var L=D+(this.i(x)&65535)+(O.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);D=C>>>16,L&=65535,C&=65535,A[x]=C<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function gt(O,S){return O.add(K(S))}r.j=function(O){if($(this)||$(O))return R;if(tt(this))return tt(O)?K(this).j(K(O)):K(K(this).j(O));if(tt(O))return K(this.j(K(O)));if(0>this.l(P)&&0>O.l(P))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<O.g.length;x++){var L=this.i(D)>>>16,C=this.i(D)&65535,Ee=O.i(x)>>>16,pe=O.i(x)&65535;A[2*D+2*x]+=C*pe,rt(A,2*D+2*x),A[2*D+2*x+1]+=L*pe,rt(A,2*D+2*x+1),A[2*D+2*x+1]+=C*Ee,rt(A,2*D+2*x+1),A[2*D+2*x+2]+=L*Ee,rt(A,2*D+2*x+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new d(A,0)};function rt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function at(O,S){this.g=O,this.h=S}function bt(O,S){if($(S))throw Error("division by zero");if($(O))return new at(R,R);if(tt(O))return S=bt(K(O),S),new at(K(S.g),K(S.h));if(tt(S))return S=bt(O,K(S)),new at(K(S.g),S.h);if(30<O.g.length){if(tt(O)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var A=N,D=S;0>=D.l(O);)A=ct(A),D=ct(D);var x=Z(A,1),L=Z(D,1);for(D=Z(D,2),A=Z(A,2);!$(D);){var C=L.add(D);0>=C.l(O)&&(x=x.add(A),L=C),D=Z(D,1),A=Z(A,1)}return S=gt(O,x.j(S)),new at(x,S)}for(x=R;0<=O.l(S);){for(A=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=y(A),C=L.j(S);tt(C)||0<C.l(O);)A-=D,L=y(A),C=L.j(S);$(L)&&(L=N),x=x.add(L),O=gt(O,C)}return new at(x,O)}r.A=function(O){return bt(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&O.i(D);return new d(A,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|O.i(D);return new d(A,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^O.i(D);return new d(A,this.h^O.h)};function ct(O){for(var S=O.g.length+1,A=[],D=0;D<S;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(A,O.h)}function Z(O,S){var A=S>>5;S%=32;for(var D=O.g.length-A,x=[],L=0;L<D;L++)x[L]=0<S?O.i(L+A)>>>S|O.i(L+A+1)<<32-S:O.i(L+A);return new d(x,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,GT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Gr=d}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,bo,FT,Vc,_p,KT,$T,YT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,p){if(p)t:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var k=u[b];if(!(k in _))break t;_=_[k]}u=u[u.length-1],b=_[u],p=p(b),p!=b&&p!=null&&t(_,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var _=0,b=!1,k={next:function(){if(!b&&_<u.length){var q=_++;return{value:p(q,u[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function T(u,p,_){return u.call.apply(u.bind,arguments)}function R(u,p,_){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),u.apply(p,k)}}return function(){return u.apply(p,arguments)}}function N(u,p,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,N.apply(null,arguments)}function P(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function $(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(b,k,q){for(var J=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)J[Mt-2]=arguments[Mt];return p.prototype[k].apply(b,J)}}function tt(u){const p=u.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=u[b];return _}return[]}function K(u,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const k=u.length||0,q=b.length||0;u.length=k+q;for(let J=0;J<q;J++)u[k+J]=b[J]}else u.push(b)}}class gt{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function rt(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var ct=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function Z(u,p,_){for(const b in u)p.call(_,u[b],b,u)}function O(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function S(u){const p={};for(const _ in u)p[_]=u[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,p){let _,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(_ in b)u[_]=b[_];for(let q=0;q<A.length;q++)_=A[q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function x(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function L(u){m.setTimeout(()=>{throw u},0)}function C(){var u=qt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ee{constructor(){this.h=this.g=null}add(p,_){const b=pe.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new gt(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ft=!1,qt=new Ee,V=()=>{const u=m.Promise.resolve(void 0);mt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){L(_)}var p=pe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ft=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return u}();function wt(u,p){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(ct){t:{try{bt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}$(wt,et);var At={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function re(u,p,_,b,k){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=k,this.key=++Lt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function en(u){this.src=u,this.g={},this.h=0}en.prototype.add=function(u,p,_,b,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=bn(u,p,b,k);return-1<J?(p=u[J],_||(p.fa=!1)):(p=new re(p,this.src,q,!!b,k),p.fa=_,u.push(p)),p};function wi(u,p){var _=p.type;if(_ in u.g){var b=u.g[_],k=Array.prototype.indexOf.call(b,p,void 0),q;(q=0<=k)&&Array.prototype.splice.call(b,k,1),q&&(Gt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bn(u,p,_,b){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==b)return k}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),sr={};function Ri(u,p,_,b,k){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Ri(u,p[q],_,b,k);return null}return _=eu(_),u&&u[me]?u.K(p,_,y(b)?!!b.capture:!1,k):fl(u,p,_,!1,b,k)}function fl(u,p,_,b,k,q){if(!p)throw Error("Invalid event type");var J=y(k)?!!k.capture:!!k,Mt=hl(u);if(Mt||(u[rr]=Mt=new en(u)),_=Mt.add(p,_,b,J,q),_.proxy)return _;if(b=Fs(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)nt||(k=J),k===void 0&&(k=!1),u.addEventListener(p.toString(),b,k);else if(u.attachEvent)u.attachEvent($s(p.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function u(_){return p.call(u.src,u.listener,_)}const p=Df;return u}function Ks(u,p,_,b,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)Ks(u,p[q],_,b,k);else b=y(b)?!!b.capture:!!b,_=eu(_),u&&u[me]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],_=bn(q,_,b,k),-1<_&&(Gt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=hl(u))&&(p=u.g[p.toString()],u=-1,p&&(u=bn(p,_,b,k)),(_=-1<u?p[u]:null)&&ns(_))}function ns(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[me])wi(p.i,u);else{var _=u.type,b=u.proxy;p.removeEventListener?p.removeEventListener(_,b,u.capture):p.detachEvent?p.detachEvent($s(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=hl(p))?(wi(_,u),_.h==0&&(_.src=null,p[rr]=null)):Gt(u)}}}function $s(u){return u in sr?sr[u]:sr[u]="on"+u}function Df(u,p){if(u.da)u=!0;else{p=new wt(p,this);var _=u.listener,b=u.ha||u.src;u.fa&&ns(u),u=_.call(b,p)}return u}function hl(u){return u=u[rr],u instanceof en?u:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(u){return typeof u=="function"?u:(u[on]||(u[on]=function(p){return u.handleEvent(p)}),u[on])}function Te(){ot.call(this),this.i=new en(this),this.M=this,this.F=null}$(Te,ot),Te.prototype[me]=!0,Te.prototype.removeEventListener=function(u,p,_,b){Ks(this,u,p,_,b)};function Oe(u,p){var _,b=u.F;if(b)for(_=[];b;b=b.F)_.push(b);if(u=u.M,b=p.type||p,typeof p=="string")p=new et(p,u);else if(p instanceof et)p.target=p.target||u;else{var k=p;p=new et(b,u),D(p,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var J=p.g=_[q];k=Ci(J,b,!0,p)&&k}if(J=p.g=u,k=Ci(J,b,!0,p)&&k,k=Ci(J,b,!1,p)&&k,_)for(q=0;q<_.length;q++)J=p.g=_[q],k=Ci(J,b,!1,p)&&k}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],b=0;b<_.length;b++)Gt(_[b]);delete u.g[p],u.h--}}this.F=null},Te.prototype.K=function(u,p,_,b){return this.i.add(String(u),p,!1,_,b)},Te.prototype.L=function(u,p,_,b){return this.i.add(String(u),p,!0,_,b)};function Ci(u,p,_,b){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,q=0;q<p.length;++q){var J=p[q];if(J&&!J.da&&J.capture==_){var Mt=J.listener,Ae=J.ha||J.src;J.fa&&wi(u.i,J),k=Mt.call(Ae,b)!==!1&&k}}return k&&!b.defaultPrevented}function nu(u,p,_){if(typeof u=="function")_&&(u=N(u,_));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function dl(u){u.g=nu(()=>{u.g=null,u.i&&(u.i=!1,dl(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Vf extends ot{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:dl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){ot.call(this),this.h=u,this.g={}}$(is,ot);var ar=[];function Fe(u){Z(u.g,function(p,_){this.g.hasOwnProperty(_)&&ns(p)},u),u.g={}}is.prototype.N=function(){is.aa.N.call(this),Fe(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pl=m.JSON.stringify,ei=m.JSON.parse,nn=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ml(){}ml.prototype.h=null;function iu(u){return u.h||(u.h=u.i())}function ru(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){et.call(this,"d")}$(lr,et);function Hn(){et.call(this,"c")}$(Hn,et);var An={},or=null;function Ys(){return or=or||new Te}An.La="serverreachability";function gl(u){et.call(this,An.La,u)}$(gl,et);function ur(u){const p=Ys();Oe(p,new gl(p))}An.STAT_EVENT="statevent";function Xs(u,p){et.call(this,An.STAT_EVENT,u),this.stat=p}$(Xs,et);function ce(u){const p=Ys();Oe(p,new Xs(p,u))}An.Ma="timingevent";function su(u,p){et.call(this,An.Ma,u),this.size=p}$(su,et);function cr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function au(u,p,_,b,k,q){u.info(function(){if(u.g)if(q)for(var J="",Mt=q.split("&"),Ae=0;Ae<Mt.length;Ae++){var Nt=Mt[Ae].split("=");if(1<Nt.length){var Ne=Nt[0];Nt=Nt[1];var Se=Ne.split("_");J=2<=Se.length&&Se[1]=="type"?J+(Ne+"="+Nt+"&"):J+(Ne+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+p+`
`+_+`
`+J})}function lu(u,p,_,b,k,q,J){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+p+`
`+_+`
`+q+" "+J})}function hr(u,p,_,b){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ie(u,_)+(b?" "+b:"")})}function ii(u,p){u.info(function(){return"TIMEOUT: "+p})}fr.prototype.info=function(){};function Ie(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var b=_[u];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<k.length;J++)k[J]=""}}}}return pl(_)}catch{return p}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function Zs(){}$(Zs,ml),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},rs=new Zs;function ri(u,p,_,b){this.j=u,this.i=p,this.l=_,this.R=b||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}var dr={},ss={};function Gn(u,p,_){u.L=1,u.v=os(se(p)),u.m=_,u.P=!0,Vi(u,null)}function Vi(u,p){u.F=Date.now(),Wt(u),u.A=se(u.v);var _=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Mi(_.i,"t",b),u.C=0,_=u.j.J,u.h=new yl,u.g=Tu(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Vf(N(u.Y,u,u.g),u.O)),p=u.U,_=u.g,b=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(ar[0]=k.toString()),k=ar);for(var q=0;q<k.length;q++){var J=Ri(_,k[q],b||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ur(),au(u.i,u.u,u.A,u.l,u.R,u.m)}ri.prototype.ca=function(u){u=u.target;const p=this.M;p&&Dn(u)==3?p.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)t:{const Se=Dn(this.g);var p=this.g.Ba();const ki=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Se!=4||p==7||(p==8||0>=ki?ur(3):ur(2)),Js(this);var _=this.g.Z();this.X=_;e:if(pr(this)){var b=du(this.g);u="";var k=b.length,q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var J="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,u+=this.h.i.decode(b[p],{stream:!(q&&p==k-1)});b.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,lu(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ae=this.g;if((Mt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Mt)){var Nt=Mt;break e}}Nt=null}if(_=Nt)hr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,_);else{this.o=!1,this.s=3,ce(12),un(this),dn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<J.length;)if(Pe=mr(this,J),Pe==ss){Se==4&&(this.s=4,ce(14),_=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==dr){this.s=4,ce(15),hr(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else hr(this.i,this.l,Pe,null),pn(this,Pe);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||J.length!=0||this.h.h||(this.s=1,ce(16),_=!1),this.o=this.o&&_,!_)hr(this.i,this.l,J,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<J.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ms(Ne),Ne.M=!0,ce(11))}}else hr(this.i,this.l,J,null),pn(this,J);Se==4&&un(this),this.o&&!this.J&&(Se==4?_u(this.j,this):(this.o=!1,Wt(this)))}else Uf(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),un(this),dn(this)}}}catch{}finally{}};function pr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function mr(u,p){var _=u.C,b=p.indexOf(`
`,_);return b==-1?ss:(_=Number(p.substring(_,b)),isNaN(_)?dr:(b+=1,b+_>p.length?ss:(p=p.slice(b,b+_),u.C=b+_,p)))}ri.prototype.cancel=function(){this.J=!0,un(this)};function Wt(u){u.S=Date.now()+u.I,_l(u,u.I)}function _l(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=cr(N(u.ba,u),p)}function Js(u){u.B&&(m.clearTimeout(u.B),u.B=null)}ri.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ii(this.i,this.A),this.L!=2&&(ur(),ce(17)),un(this),this.s=2,dn(this)):_l(this,this.S-u)};function dn(u){u.j.G==0||u.J||_u(u.j,u)}function un(u){Js(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Fe(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function pn(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||gr(_.h,u))){if(!u.K&&gr(_.h,u)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)oa(_),aa(_);else break t;Vl(_),ce(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=cr(N(_.Za,_),6e3));if(1>=ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((u.K||_.g==u)&&oa(_),!rt(p))for(k=_.Da.g.parse(p),p=0;p<k.length;p++){let Nt=k[p];if(_.T=Nt[0],Nt=Nt[1],_.G==2)if(Nt[0]=="c"){_.K=Nt[1],_.ia=Nt[2];const Ne=Nt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Se=Nt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const ki=Nt[5];ki!=null&&typeof ki=="number"&&0<ki&&(b=1.5*ki,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pe=u.g;if(Pe){const fi=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var q=b.h;q.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yr(q,q.h),q.h=null))}if(b.D){const Il=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(b.ya=Il,zt(b.I,b.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var J=u;if(b.qa=Eu(b,b.J?b.ia:null,b.W),J.K){Sn(b.h,J);var Mt=J,Ae=b.L;Ae&&(Mt.I=Ae),Mt.B&&(Js(Mt),Wt(Mt)),b.g=J}else gu(b);0<_.i.length&&la(_)}else Nt[0]!="stop"&&Nt[0]!="close"||Ui(_,7);else _.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Ui(_,7):Cl(_):Nt[0]!="noop"&&_.l&&_.l.ta(Nt),_.v=0)}}ur(4)}catch{}}var Of=class{constructor(u,p){this.g=u,this.map=p}};function vl(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function El(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ou(u){return u.h?1:u.g?u.g.size:0}function gr(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function yr(u,p){u.g?u.g.add(p):u.h=p}function Sn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}vl.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return tt(u.i)}function uu(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,b=0;b<_;b++)p.push(u[b]);return p}p=[],_=0;for(b in u)p[_++]=u[b];return p}function If(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const b in u)p[_++]=b;return p}}}function as(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=If(u),b=uu(u),k=b.length,q=0;q<k;q++)p.call(void 0,b[q],_&&_[q],u)}var Tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var b=u[_].indexOf("="),k=null;if(0<=b){var q=u[_].substring(0,b);k=u[_].substring(b+1)}else q=u[_];p(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Oi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Oi){this.h=u.h,_r(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.s),this.l=u.l;var p=u.i,_=new si;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),ta(this,_),this.m=u.m}else u&&(p=String(u).match(Tl))?(this.h=!1,_r(this,p[1]||"",!0),this.o=vr(p[2]||""),this.g=vr(p[3]||"",!0),ls(this,p[4]),this.l=vr(p[5]||"",!0),ta(this,p[6]||"",!0),this.m=vr(p[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Oi.prototype.toString=function(){var u=[],p=this.j;p&&u.push(wn(p,bl,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wn(p,bl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(wn(_,_.charAt(0)=="/"?Al:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",wn(_,xf)),u.join("")};function se(u){return new Oi(u)}function _r(u,p,_){u.j=_?vr(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function ta(u,p,_){p instanceof si?(u.i=p,Sl(u.i,u.h)):(_||(p=wn(p,Nf)),u.i=new si(p,u.h))}function zt(u,p,_){u.i.set(p,_)}function os(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vr(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wn(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Mf),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Mf(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bl=/[#\/\?@]/g,cu=/[#\?:]/g,Al=/[#\?]/g,Nf=/[#\?@]/g,xf=/#/g;function si(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=si.prototype,r.add=function(u,p){Rn(this),this.i=null,u=Ni(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function ea(u,p){Rn(u),p=Ni(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ii(u,p){return Rn(u),p=Ni(u,p),u.g.has(p)}r.forEach=function(u,p){Rn(this),this.g.forEach(function(_,b){_.forEach(function(k){u.call(p,k,b,this)},this)},this)},r.na=function(){Rn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const k=u[b];for(let q=0;q<k.length;q++)_.push(p[b])}return _},r.V=function(u){Rn(this);let p=[];if(typeof u=="string")Ii(this,u)&&(p=p.concat(this.g.get(Ni(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return Rn(this),this.i=null,u=Ni(this,u),Ii(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Mi(u,p,_){ea(u,p),0<_.length&&(u.i=null,u.g.set(Ni(u,p),tt(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const q=encodeURIComponent(String(b)),J=this.V(b);for(b=0;b<J.length;b++){var k=q;J[b]!==""&&(k+="="+encodeURIComponent(String(J[b]))),u.push(k)}}return this.i=u.join("&")};function Ni(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Sl(u,p){p&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(_,b){var k=b.toLowerCase();b!=k&&(ea(this,b),Mi(this,k,_))},u)),u.j=p}function fu(u,p){const _=new fr;if(m.Image){const b=new Image;b.onload=P(Cn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=P(Cn,_,"TestLoadImage: error",!1,p,b),b.onabort=P(Cn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=P(Cn,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else p(!1)}function us(u,p){const _=new fr,b=new AbortController,k=setTimeout(()=>{b.abort(),Cn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(k),q.ok?Cn(_,"TestPingServer: ok",!0,p):Cn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Cn(_,"TestPingServer: error",!1,p)})}function Cn(u,p,_,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(_)}catch{}}function cs(){this.g=new nn}function ai(u,p,_){const b=_||"";try{as(u,function(k,q){let J=k;y(k)&&(J=pl(k)),p.push(b+q+"="+encodeURIComponent(J))})}catch(k){throw p.push(b+"type="+encodeURIComponent("_badmap")),k}}function Er(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Er,ml),Er.prototype.g=function(){return new xi(this.l,this.j)},Er.prototype.i=function(u){return function(){return u}}({});function xi(u,p){Te.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(xi,Te),r=xi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,oi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?li(this):oi(this),this.readyState==3&&wl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,li(this))},r.Qa=function(u){this.g&&(this.response=u,li(this))},r.ga=function(){this.g&&li(this)};function li(u){u.readyState=4,u.l=null,u.j=null,u.v=null,oi(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rl(u){let p="";return Z(u,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Me(u,p,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Rl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,p,_))}function jt(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,Te);var na=/^https?$/i,fs=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?iu(this.o):iu(rs),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){hu(this,q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)_.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fs,p,void 0))||b||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of _)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){hu(this,q)}};function hu(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,ia(u),ui(u)}function ia(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},r.bb=function(){ra(this)};function ra(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Dn(u)!=4||u.Z()!=2)){if(u.u&&Dn(u)==4)nu(u.Ea,0,u);else if(Oe(u,"readystatechange"),Dn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var b;if(b=J===0){var k=String(u.D).match(Tl)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),b=!na.test(k?k.toLowerCase():"")}_=b}if(_)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var q=2<Dn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",ia(u)}}finally{ui(u)}}}}function ui(u,p){if(u.g){hs(u);const _=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Oe(u,"ready");try{_.onreadystatechange=b}catch{}}}function hs(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Dn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ei(p)}};function du(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uf(u){const p={};u=(u.g&&2<=Dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(rt(u[b]))continue;var _=x(u[b]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[k]||[];p[k]=q,q.push(_)}O(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function sa(u){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vl(u&&u.concurrentRequestLimit),this.Da=new cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sa.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,b){ce(0),this.W=u,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Eu(this,null,this.W),la(this)};function Cl(u){if(pu(u),u.G==3){var p=u.U++,_=se(u.I);if(zt(_,"SID",u.K),zt(_,"RID",p),zt(_,"TYPE","terminate"),ps(u,_),p=new ri(u,u.j,p),p.L=2,p.v=os(se(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Tu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Wt(p)}vu(u)}function aa(u){u.g&&(ms(u),u.g.cancel(),u.g=null)}function pu(u){aa(u),u.u&&(m.clearTimeout(u.u),u.u=null),oa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function la(u){if(!El(u.h)&&!u.s){u.s=!0;var p=u.Ga;mt||V(),ft||(mt(),ft=!0),qt.add(p,u),u.B=0}}function kf(u,p){return ou(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=cr(N(u.Ga,u,p),Ol(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new ri(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=mu(this,k,p),_=se(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),ps(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(Rl(q)))+"&"+p:this.m&&Me(_,this.m,q)),yr(this.h,k),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",p),zt(_,"SID","null"),k.T=!0,Gn(k,_,null)):Gn(k,_,p),this.G=2}}else this.G==3&&(u?Dl(this,u):this.i.length==0||El(this.h)||Dl(this))};function Dl(u,p){var _;p?_=p.l:_=u.U++;const b=se(u.I);zt(b,"SID",u.K),zt(b,"RID",_),zt(b,"AID",u.T),ps(u,b),u.m&&u.o&&Me(b,u.m,u.o),_=new ri(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=mu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),yr(u.h,_),Gn(_,b,p)}function ps(u,p){u.H&&Z(u.H,function(_,b){zt(p,b,_)}),u.l&&as({},function(_,b){zt(p,b,_)})}function mu(u,p,_){_=Math.min(u.i.length,_);var b=u.l?N(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const J=["count="+_];q==-1?0<_?(q=k[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Mt=!0;for(let Ae=0;Ae<_;Ae++){let Nt=k[Ae].g;const Ne=k[Ae].map;if(Nt-=q,0>Nt)q=Math.max(0,k[Ae].g-100),Mt=!1;else try{ai(Ne,J,"req"+Nt+"_")}catch{b&&b(Ne)}}if(Mt){b=J.join("&");break t}}}return u=u.i.splice(0,_),p.D=u,b}function gu(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;mt||V(),ft||(mt(),ft=!0),qt.add(p,u),u.v=0}}function Vl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=cr(N(u.Fa,u),Ol(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=cr(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),aa(this),yu(this))};function ms(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=se(u.qa);zt(p,"RID","rpc"),zt(p,"SID",u.K),zt(p,"AID",u.T),zt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(p,"TO",u.ja),zt(p,"TYPE","xmlhttp"),ps(u,p),u.m&&u.o&&Me(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=os(se(p)),_.m=null,_.P=!0,Vi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,aa(this),Vl(this),ce(19))};function oa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function _u(u,p){var _=null;if(u.g==p){oa(u),ms(u),u.g=null;var b=2}else if(gr(u.h,p))_=p.D,Sn(u.h,p),b=1;else return;if(u.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var k=u.B;b=Ys(),Oe(b,new su(b,_)),la(u)}else gu(u);else if(k=p.s,k==3||k==0&&0<p.X||!(b==1&&kf(u,p)||b==2&&Vl(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),k){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Ol(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function Ui(u,p){if(u.j.info("Error code "+p),p==2){var _=N(u.fb,u),b=u.Xa;const k=!b;b=new Oi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_r(b,"https"),os(b),k?fu(b.toString(),_):us(b.toString(),_)}else ce(2);u.G=0,u.l&&u.l.sa(p),vu(u),pu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const p=rn(u.h);(p.length!=0||u.i.length!=0)&&(K(u.ka,p),K(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Eu(u,p,_){var b=_ instanceof Oi?se(_):new Oi(_);if(b.g!="")p&&(b.g=p+"."+b.g),ls(b,b.s);else{var k=m.location;b=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var q=new Oi(null);b&&_r(q,b),p&&(q.g=p),k&&ls(q,k),_&&(q.l=_),b=q}return _=u.D,p=u.ya,_&&p&&zt(b,_,p),zt(b,"VER",u.la),ps(u,b),b}function Tu(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new jt(new Er({eb:_})):new jt(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ua(){}ua.prototype.g=function(u,p){return new sn(u,p)};function sn(u,p){Te.call(this),this.g=new sa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!rt(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!rt(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ci(this)}$(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Cl(this.g)},sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=pl(u),u=_);p.i.push(new Of(p.Ya++,u)),p.G==3&&la(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,sn.aa.N.call(this)};function Au(u){lr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const _ in p){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}$(Au,lr);function Su(){Hn.call(this),this.status=1}$(Su,Hn);function ci(u){this.g=u}$(ci,bu),ci.prototype.ua=function(){Oe(this.g,"a")},ci.prototype.ta=function(u){Oe(this.g,new Au(u))},ci.prototype.sa=function(u){Oe(this.g,new Su)},ci.prototype.ra=function(){Oe(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,YT=function(){return new ua},$T=function(){return Ys()},KT=An,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Vc=be,Di.COMPLETE="complete",FT=Di,ru.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Te.prototype.listen=Te.prototype.K,bo=ru,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,QT=jt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const t0="@firebase/firestore",e0="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new zT("@firebase/firestore");function La(){return zs.logLevel}function it(r,...t){if(zs.logLevel<=kt.DEBUG){const i=t.map(Em);zs.debug(`Firestore (${ll}): ${r}`,...i)}}function nr(r,...t){if(zs.logLevel<=kt.ERROR){const i=t.map(Em);zs.error(`Firestore (${ll}): ${r}`,...i)}}function $a(r,...t){if(zs.logLevel<=kt.WARN){const i=t.map(Em);zs.warn(`Firestore (${ll}): ${r}`,...i)}}function Em(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const t=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+r;throw nr(t),new Error(t)}function Ht(r,t){r||yt()}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends al{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class PD{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new XT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Ze(t)}}class BD{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qD{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new BD(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bD(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new n0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=HD(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function It(r,t){return r<t?-1:r>t?1:0}function Ya(r,t,i){return r.length===t.length&&r.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=-62135596800,r0=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*r0);return new De(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i0)throw new ht(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-i0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new De(0,0))}static max(){return new _t(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class yi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(),a===void 0?a=t.length-i:a>t.length-i&&yt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=yi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const a=yi.isNumericId(t),o=yi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?yi.extractNumericId(t).compare(yi.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ue extends yi{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ue(i)}static emptyPath(){return new ue([])}}const GD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return GD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Ge([s0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(c(),o++)}if(c(),d)throw new ht(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ue.fromString(t))}static fromName(t){return new dt(ue.fromString(t).popFirst(5))}static empty(){return new dt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=-1;function QD(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new De(i+1,0):new De(i,a));return new $r(o,dt.empty(),t)}function FD(r){return new $r(r.readTime,r.key,zo)}class $r{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $r(_t.min(),dt.empty(),zo)}static max(){return new $r(_t.max(),dt.empty(),zo)}}function KD(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==$D)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Q((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.reject(i)}static resolve(t){return new Q((i,a)=>{i(t)})}static reject(t){return new Q((i,a)=>{a(t)})}static waitFor(t){return new Q((i,a)=>{let o=0,c=0,d=!1;t.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},g=>a(g))}),d=!0,c===o&&i()})}static or(t){let i=Q.resolve(!1);for(const a of t)i=i.next(o=>o?Q.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(t,i){return new Q((a,o)=>{const c=t.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;i(t[y]).next(T=>{d[y]=T,++m,m===c&&a(d)},T=>o(T))}})}static doWhile(t,i){return new Q((a,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):a()};c()})}}function XD(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function yf(r){return r==null}function jc(r){return r===0&&1/r==-1/0}function ZD(r){return typeof r=="number"&&Number.isInteger(r)&&!jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function JD(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=a0(t)),t=WD(r.get(i),t);return a0(t)}function WD(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case JT:i+="";break;default:i+=c}}return i}function a0(r){return r+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function js(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function WT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=o??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new He(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,i,a,o,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(t){return new o0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class o0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Zn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tb("Invalid base64 string: "+c):c}}(t);return new Qe(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const tV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ht(!!r),typeof r=="string"){let t=0;const i=tV.exec(r);if(Ht(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function bm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[nb])===null||i===void 0?void 0:i.stringValue)===eb}function _f(r){const t=r.mapValue.fields[ib];return bm(t)?_f(t):t}function Po(r){const t=Yr(r.mapValue.fields[rb].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,i,a,o,c,d,m,g,y){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Hc="(default)";class Bo{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new Bo("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof Bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="__type__",nV="__max__",Sc={mapValue:{}},ab="__vector__",Gc="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bm(r)?4:rV(r)?9007199254740991:iV(r)?10:11:yt()}function Ei(r,t){if(r===t)return!0;const i=Zr(r);if(i!==Zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Po(r).isEqual(Po(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Yr(o.timestampValue),m=Yr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Xr(o.bytesValue).isEqual(Xr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return he(o.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return he(o.integerValue)===he(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=he(o.doubleValue),m=he(c.doubleValue);return d===m?jc(d)===jc(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return Ya(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(l0(d)!==l0(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Ei(d[g],m[g])))return!1;return!0}(r,t);default:return yt()}}function qo(r,t){return(r.values||[]).find(i=>Ei(i,t))!==void 0}function Xa(r,t){if(r===t)return 0;const i=Zr(r),a=Zr(t);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=he(c.integerValue||c.doubleValue),g=he(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return u0(r.timestampValue,t.timestampValue);case 4:return u0(Po(r),Po(t));case 5:return It(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Xr(c),g=Xr(d);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=It(m[y],g[y]);if(T!==0)return T}return It(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=It(he(c.latitude),he(d.latitude));return m!==0?m:It(he(c.longitude),he(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return c0(r.arrayValue,t.arrayValue);case 10:return function(c,d){var m,g,y,T;const R=c.fields||{},N=d.fields||{},P=(m=R[Gc])===null||m===void 0?void 0:m.arrayValue,$=(g=N[Gc])===null||g===void 0?void 0:g.arrayValue,tt=It(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=$==null?void 0:$.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:c0(P,$)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let R=0;R<g.length&&R<T.length;++R){const N=It(g[R],T[R]);if(N!==0)return N;const P=Xa(m[g[R]],y[T[R]]);if(P!==0)return P}return It(g.length,T.length)}(r.mapValue,t.mapValue);default:throw yt()}}function u0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const i=Yr(r),a=Yr(t),o=It(i.seconds,a.seconds);return o!==0?o:It(i.nanos,a.nanos)}function c0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Xa(i[o],a[o]);if(c)return c}return It(i.length,a.length)}function Za(r){return vp(r)}function vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Xr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return dt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=vp(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${vp(i.fields[d])}`;return o+"}"}(r.mapValue):yt()}function Oc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_f(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+Oc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return js(a.fields,(c,d)=>{o+=c.length+Oc(d)}),o}(r.mapValue);default:throw yt()}}function Ep(r){return!!r&&"integerValue"in r}function Am(r){return!!r&&"arrayValue"in r}function f0(r){return!!r&&"nullValue"in r}function h0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function iV(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[sb])===null||i===void 0?void 0:i.stringValue)===ab}function Vo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return js(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=Vo(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function rV(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vo(i)}setAll(t){let i=Ge.emptyPath(),a={},o=[];t.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const g=this.getFieldsMap(i);this.applyChanges(g,a,o),a={},o=[],i=m.popLast()}d?a[m.lastSegment()]=Vo(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){js(i,(o,c)=>t[o]=c);for(const o of a)delete t[o]}clone(){return new Pn(Vo(this.value))}}function lb(r){const t=[];return js(r.fields,(i,a)=>{const o=new Ge([i]);if(Ic(a)){const c=lb(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,i,a,o,c,d,m){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),Pn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,_t.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),Pn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),Pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function d0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function p0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ei(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function sV(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{}class Ce extends ob{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lV(t,i,a):i==="array-contains"?new cV(t,a):i==="in"?new fV(t,a):i==="not-in"?new hV(t,a):i==="array-contains-any"?new dV(t,a):new Ce(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new oV(t,a):new uV(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Xa(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends ob{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Ti(t,i)}matches(t){return ub(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ub(r){return r.op==="and"}function cb(r){return aV(r)&&ub(r)}function aV(r){for(const t of r.filters)if(t instanceof Ti)return!1;return!0}function Tp(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(cb(r))return r.filters.map(t=>Tp(t)).join(",");{const t=r.filters.map(i=>Tp(i)).join(",");return`${r.op}(${t})`}}function fb(r,t){return r instanceof Ce?function(a,o){return o instanceof Ce&&a.op===o.op&&a.field.isEqual(o.field)&&Ei(a.value,o.value)}(r,t):r instanceof Ti?function(a,o){return o instanceof Ti&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,m)=>c&&fb(d,o.filters[m]),!0):!1}(r,t):void yt()}function hb(r){return r instanceof Ce?function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`}(r):r instanceof Ti?function(i){return i.op.toString()+" {"+i.getFilters().map(hb).join(" ,")+"}"}(r):"Filter"}class lV extends Ce{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class oV extends Ce{constructor(t,i){super(t,"in",i),this.keys=db("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class uV extends Ce{constructor(t,i){super(t,"not-in",i),this.keys=db("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function db(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>dt.fromName(a.referenceValue))}class cV extends Ce{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&qo(i.arrayValue,this.value)}}class fV extends Ce{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&qo(this.value.arrayValue,i)}}class hV extends Ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!qo(this.value.arrayValue,i)}}class dV extends Ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>qo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t,i=null,a=[],o=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function m0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new pV(r,t,i,a,o,c,d)}function Sm(r){const t=Et(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Tp(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),yf(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Za(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Za(a)).join(",")),t.le=i}return t.le}function wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!sV(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!fb(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!p0(r.startAt,t.startAt)&&p0(r.endAt,t.endAt)}function bp(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,i=null,a=[],o=[],c=null,d="F",m=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mV(r,t,i,a,o,c,d,m){return new vf(r,t,i,a,o,c,d,m)}function Rm(r){return new vf(r)}function g0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gV(r){return r.collectionGroup!==null}function Oo(r){const t=Et(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ve(Ge.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Fc(c,a))}),i.has(Ge.keyField().canonicalString())||t.he.push(new Fc(Ge.keyField(),a))}return t.he}function _i(r){const t=Et(r);return t.Pe||(t.Pe=yV(t,Oo(r))),t.Pe}function yV(r,t){if(r.limitType==="F")return m0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Fc(o.field,c)});const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return m0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ap(r,t,i){return new vf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ef(r,t){return wm(_i(r),_i(t))&&r.limitType===t.limitType}function pb(r){return`${Sm(_i(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>hb(o)).join(", ")}]`),yf(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Za(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Za(o)).join(",")),`Target(${a})`}(_i(r))}; limitType=${r.limitType})`}function Tf(r,t){return t.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,o){for(const c of Oo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(d,m,g){const y=d0(d,m,g);return d.inclusive?y<=0:y<0}(a.startAt,Oo(a),o)||a.endAt&&!function(d,m,g){const y=d0(d,m,g);return d.inclusive?y>=0:y>0}(a.endAt,Oo(a),o))}(r,t)}function _V(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mb(r){return(t,i)=>{let a=!1;for(const o of Oo(r)){const c=vV(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function vV(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Xa(g,y):yt()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,(i,a)=>{for(const[o,c]of a)t(o,c)})}isEmpty(){return WT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new ie(dt.comparator);function ir(){return EV}const gb=new ie(dt.comparator);function Ao(...r){let t=gb;for(const i of r)t=t.insert(i.key,i);return t}function yb(r){let t=gb;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Ls(){return Io()}function _b(){return Io()}function Io(){return new Hs(r=>r.toString(),(r,t)=>r.isEqual(t))}const TV=new ie(dt.comparator),bV=new Ve(dt.comparator);function Vt(...r){let t=bV;for(const i of r)t=t.add(i);return t}const AV=new Ve(It);function SV(){return AV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function vb(r){return{integerValue:""+r}}function wV(r,t){return ZD(t)?vb(t):Cm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function RV(r,t,i){return r instanceof Kc?function(o,c){const d={fields:{[nb]:{stringValue:eb},[rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&bm(c)&&(c=_f(c)),c&&(d.fields[ib]=c),{mapValue:d}}(i,t):r instanceof jo?Tb(r,t):r instanceof Ho?bb(r,t):function(o,c){const d=Eb(o,c),m=y0(d)+y0(o.Ie);return Ep(d)&&Ep(o.Ie)?vb(m):Cm(o.serializer,m)}(r,t)}function CV(r,t,i){return r instanceof jo?Tb(r,t):r instanceof Ho?bb(r,t):i}function Eb(r,t){return r instanceof $c?function(a){return Ep(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Kc extends bf{}class jo extends bf{constructor(t){super(),this.elements=t}}function Tb(r,t){const i=Ab(t);for(const a of r.elements)i.some(o=>Ei(o,a))||i.push(a);return{arrayValue:{values:i}}}class Ho extends bf{constructor(t){super(),this.elements=t}}function bb(r,t){let i=Ab(t);for(const a of r.elements)i=i.filter(o=>!Ei(o,a));return{arrayValue:{values:i}}}class $c extends bf{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function y0(r){return he(r.integerValue||r.doubleValue)}function Ab(r){return Am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DV(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof jo&&o instanceof jo||a instanceof Ho&&o instanceof Ho?Ya(a.elements,o.elements,Ei):a instanceof $c&&o instanceof $c?Ei(a.Ie,o.Ie):a instanceof Kc&&o instanceof Kc}(r.transform,t.transform)}class VV{constructor(t,i){this.version=t,this.transformResults=i}}class tr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new tr}static exists(t){return new tr(void 0,t)}static updateTime(t){return new tr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Af{}function Sb(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Rb(r.key,tr.none()):new Zo(r.key,r.data,tr.none());{const i=r.data,a=Pn.empty();let o=new Ve(Ge.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Gs(r.key,a,new Zn(o.toArray()),tr.none())}}function OV(r,t,i){r instanceof Zo?function(o,c,d){const m=o.value.clone(),g=v0(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Gs?function(o,c,d){if(!Mc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=v0(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(wb(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function Mo(r,t,i,a){return r instanceof Zo?function(c,d,m,g){if(!Mc(c.precondition,d))return m;const y=c.value.clone(),T=E0(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,i,a):r instanceof Gs?function(c,d,m,g){if(!Mc(c.precondition,d))return m;const y=E0(c.fieldTransforms,g,d),T=d.data;return T.setAll(wb(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,i,a):function(c,d,m){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,i)}function IV(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=Eb(a.transform,o||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(a.field,c))}return i||null}function _0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ya(a,o,(c,d)=>DV(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zo extends Af{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends Af{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wb(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function v0(r,t,i){const a=new Map;Ht(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=t.data.field(c.field);a.set(c.field,CV(d,m,i[o]))}return a}function E0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,RV(c,d,t))}return a}class Rb extends Af{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MV extends Af{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&OV(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Mo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Mo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_b();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const g=Sb(d,m);g!==null&&a.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(_t.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,(i,a)=>_0(i,a))&&Ya(this.baseMutations,t.baseMutations,(i,a)=>_0(i,a))}}class Dm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ht(t.mutations.length===a.length);let o=function(){return TV}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Dm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function kV(r){switch(r){case X.OK:return yt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt()}}function Cb(r){if(r===void 0)return nr("GRPC error has no .code"),X.UNKNOWN;switch(r){case ve.OK:return X.OK;case ve.CANCELLED:return X.CANCELLED;case ve.UNKNOWN:return X.UNKNOWN;case ve.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ve.INTERNAL:return X.INTERNAL;case ve.UNAVAILABLE:return X.UNAVAILABLE;case ve.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ve.NOT_FOUND:return X.NOT_FOUND;case ve.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ve.ABORTED:return X.ABORTED;case ve.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ve.DATA_LOSS:return X.DATA_LOSS;default:return yt()}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Gr([4294967295,4294967295],0);function T0(r){const t=LV().encode(r),i=new GT;return i.update(t),new Uint8Array(i.digest())}function b0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,a],0),new Gr([o,c],0)]}class Vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new So(`Invalid padding: ${i}`);if(a<0)throw new So(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new So(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Gr.fromNumber(this.Ee)}Ae(t,i,a){let o=t.add(i.multiply(Gr.fromNumber(a)));return o.compare(zV)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=T0(t),[a,o]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);if(!this.Re(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Vm(c,o,i);return a.forEach(m=>d.insert(m)),d}insert(t){if(this.Ee===0)return;const i=T0(t),[a,o]=b0(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sf(_t.min(),o,new ie(It),ir(),Vt())}}class Jo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jo(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i,a,o){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=o}}class Db{constructor(t,i){this.targetId=t,this.ge=i}}class Vb{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class A0{constructor(){this.pe=0,this.ye=S0(),this.we=Qe.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Vt(),i=Vt(),a=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt()}}),new Jo(this.we,this.be,t,i,a)}Me(){this.Se=!1,this.ye=S0()}xe(t,i){this.Se=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class PV{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ir(),this.$e=wc(),this.Ke=wc(),this.Ue=new ie(It)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:yt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,a=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(bp(c))if(a===0){const d=new dt(c.path);this.ze(i,d,Je.newNoDocument(d,_t.min()))}else Ht(a===1);else{const d=this.et(i);if(d!==a){const m=this.tt(t),g=m?this.nt(m,t,d):1;if(g!==0){this.Ye(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Xr(a).toUint8Array()}catch(g){if(g instanceof tb)return $a("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Vm(d,o,c)}catch(g){return $a(g instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&bp(m.target)){const g=new dt(m.target.path);this._t(g).has(d)||this.ut(d,g)||this.ze(d,g,Je.newNoDocument(g,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let a=Vt();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const o=new Sf(t,i,this.Ue,this.Qe,a);return this.Qe=ir(),this.$e=wc(),this.Ke=wc(),this.Ue=new ie(It),o}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new A0,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new Ve(It),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ve(It),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new A0),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function wc(){return new ie(dt.comparator)}function S0(){return new ie(dt.comparator)}const BV={asc:"ASCENDING",desc:"DESCENDING"},qV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jV={and:"AND",or:"OR"};class HV{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Sp(r,t){return r.useProto3Json||yf(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ob(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function GV(r,t){return Yc(r,t.toTimestamp())}function vi(r){return Ht(!!r),_t.fromTimestamp(function(i){const a=Yr(i);return new De(a.seconds,a.nanos)}(r))}function Om(r,t){return wp(r,t).canonicalString()}function wp(r,t){const i=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function Ib(r){const t=ue.fromString(r);return Ht(kb(t)),t}function Rp(r,t){return Om(r.databaseId,t.path)}function Gd(r,t){const i=Ib(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(Nb(i))}function Mb(r,t){return Om(r.databaseId,t)}function QV(r){const t=Ib(r);return t.length===4?ue.emptyPath():Nb(t)}function Cp(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Nb(r){return Ht(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function w0(r,t,i){return{name:Rp(r,t),fields:i.value.mapValue.fields}}function FV(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ht(T===void 0||typeof T=="string"),Qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qe.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const T=y.code===void 0?X.UNKNOWN:Cb(y.code);return new ht(T,y.message||"")}(d);i=new Vb(a,o,c,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=vi(a.document.updateTime),d=a.document.createTime?vi(a.document.createTime):_t.min(),m=new Pn({mapValue:{fields:a.document.fields}}),g=Je.newFoundDocument(o,c,d,m),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Nc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?vi(a.readTime):_t.min(),d=Je.newNoDocument(o,c),m=a.removedTargetIds||[];i=new Nc([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new Nc([],c,o,null)}else{if(!("filter"in t))return yt();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new UV(o,c),m=a.targetId;i=new Db(m,d)}}return i}function KV(r,t){let i;if(t instanceof Zo)i={update:w0(r,t.key,t.value)};else if(t instanceof Rb)i={delete:Rp(r,t.key)};else if(t instanceof Gs)i={update:w0(r,t.key,t.data),updateMask:nO(t.fieldMask)};else{if(!(t instanceof MV))return yt();i={verify:Rp(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const m=d.transform;if(m instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $c)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw yt()}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:GV(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()}(r,t.precondition)),i}function $V(r,t){return r&&r.length>0?(Ht(t!==void 0),r.map(i=>function(o,c){let d=o.updateTime?vi(o.updateTime):vi(c);return d.isEqual(_t.min())&&(d=vi(c)),new VV(d,o.transformResults||[])}(i,t))):[]}function YV(r,t){return{documents:[Mb(r,t.path)]}}function XV(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Mb(r,o);const c=function(y){if(y.length!==0)return Ub(Ti.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(N){return{field:Pa(N.field),direction:WV(N.dir)}}(T))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const m=Sp(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function ZV(r){let t=QV(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=function(R){const N=xb(R);return N instanceof Ti&&cb(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(N=>function($){return new Fc(Ba($.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(N))}(i.orderBy));let m=null;i.limit&&(m=function(R){let N;return N=typeof R=="object"?R.value:R,yf(N)?null:N}(i.limit));let g=null;i.startAt&&(g=function(R){const N=!!R.before,P=R.values||[];return new Qc(P,N)}(i.startAt));let y=null;return i.endAt&&(y=function(R){const N=!R.before,P=R.values||[];return new Qc(P,N)}(i.endAt)),mV(t,o,d,c,m,"F",g,y)}function JV(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xb(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Ce.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ba(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ba(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(i){return Ce.create(Ba(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Ti.create(i.compositeFilter.filters.map(a=>xb(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(r):yt()}function WV(r){return BV[r]}function tO(r){return qV[r]}function eO(r){return jV[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ge.fromServerFormat(r.fieldPath)}function Ub(r){return r instanceof Ce?function(i){if(i.op==="=="){if(h0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(f0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(f0(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:tO(i.op),value:i.value}}}(r):r instanceof Ti?function(i){const a=i.getFilters().map(o=>Ub(o));return a.length===1?a[0]:{compositeFilter:{op:eO(i.op),filters:a}}}(r):yt()}function nO(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function kb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i,a,o,c=_t.min(),d=_t.min(),m=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.Tt=t}}function rO(r){const t=ZV({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ap(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.Tn=new aO}addToCollectionParentIndex(t,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(t,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Q.resolve()}deleteFieldIndex(t,i){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,i){return Q.resolve()}getDocumentsMatchingTarget(t,i){return Q.resolve(null)}getIndexType(t,i){return Q.resolve(0)}getFieldIndexes(t,i){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,i){return Q.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return Q.resolve($r.min())}updateCollectionGroup(t,i,a){return Q.resolve()}updateIndexEntries(t,i){return Q.resolve()}}class aO{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(ue.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Lb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Ja(0)}static Un(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LruGarbageCollector",lO=1048576;function D0([r,t],[i,a]){const o=It(r,i);return o===0?It(t,a):o}class oO{constructor(t){this.Hn=t,this.buffer=new Ve(D0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();D0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uO{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(C0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?it(C0,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.er(3e5)})}}class cO{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return Q.resolve(gf.ae);const a=new oO(i);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(R0)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,o,c,d,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(a=R,m=Date.now(),this.removeTargets(t,a,i))).next(R=>(c=R,g=Date.now(),this.removeOrphanedDocuments(t,a))).next(R=>(y=Date.now(),La()<=kt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function fO(r,t){return new cO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.changes=new Hs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&Mo(a.mutation,o,Zn.empty(),De.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Vt()){const o=Ls();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(c=>{let d=Ao();return c.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Ls();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Vt()))}populateOverlays(t,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(t,i,a,o){let c=ir();const d=Io(),m=function(){return Io()}();return i.forEach((g,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Gs)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Mo(T.mutation,y,T.mutation.getFieldMask(),De.now())):d.set(y.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var R;return m.set(y,new dO(T,(R=d.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(t,i){const a=Io();let o=new ie((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const m of d)m.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let T=a.get(g)||Zn.empty();T=m.applyToLocalView(y,T),a.set(g,T);const R=(o.get(m.batchId)||Vt()).add(g);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,R=_b();T.forEach(N=>{if(!c.has(N)){const P=Sb(i.get(N),a.get(N));P!==null&&R.set(N,P),c=c.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,R))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):gV(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Q.resolve(Ls());let m=zo,g=c;return d.next(y=>Q.forEach(y,(T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(T)?Q.resolve():this.remoteDocumentCache.getEntry(t,T).next(N=>{g=g.insert(T,N)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,g,y,Vt())).next(T=>({batchId:m,changes:yb(T)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next(a=>{let o=Ao();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(t,c).next(m=>Q.forEach(m,g=>{const y=function(R,N){return new vf(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(T=>{T.forEach((R,N)=>{d=d.insert(R,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o))).next(d=>{c.forEach((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Je.newInvalidDocument(T)))});let m=Ao();return d.forEach((g,y)=>{const T=c.get(g);T!==void 0&&Mo(T.mutation,y,Zn.empty(),De.now()),Tf(i,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(i)),Q.resolve()}getNamedQuery(t,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:rO(o.bundledQuery),readTime:vi(o.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.overlays=new ie(dt.comparator),this.Rr=new Map}getOverlay(t,i){return Q.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ls();return Q.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,c)=>{this.Et(t,i,c)}),Q.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(t,i,a){const o=Ls(),c=i.length+1,d=new dt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ie((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Ls(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ls(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Q.resolve(m)}Et(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xV(i,a));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Vr=new Ve(Le.mr),this.gr=new Ve(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new Le(t,i))}br(t,i){t.forEach(a=>this.removeReference(a,i))}Sr(t){const i=new dt(new ue([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new dt(new ue([])),a=new Le(i,t),o=new Le(i,t+1);let c=Vt();return this.gr.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Le(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return dt.comparator(t.key,i.key)||It(t.Cr,i.Cr)}static pr(t,i){return It(t.Cr,i.Cr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ve(Le.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NV(c,i,a,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Nr(a),c=o<0?0:o;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Tm:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,o],d=>{const m=this.Or(d.Cr);c.push(m)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(It);return i.forEach(o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{a=a.add(m.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let m=new Ve(It);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},d),Q.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new Le(i,0),o=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t){this.kr=t,this.docs=function(){return new ie(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=ir();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))}),Q.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ir();const d=i.path,m=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||KD(FD(T),a)<=0||(o.has(T.key)||Tf(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt()}qr(t,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new EO(this)}getSize(t){return Q.resolve(this.size)}}class EO extends hO{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t){this.persistence=t,this.Qr=new Hs(i=>Sm(i),wm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Im,this.targetCount=0,this.Ur=Ja.Kn()}forEachTarget(t,i){return this.Qr.forEach((a,o)=>i(o)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(t,i){return this.zn(i),Q.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Q.waitFor(c).next(()=>o)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(t,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(t,i,a){this.Kr.br(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(t,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new gf(0),this.zr=!1,this.zr=!0,this.jr=new yO,this.referenceDelegate=t(this),this.Hr=new TO(this),this.indexManager=new sO,this.remoteDocumentCache=function(o){return new vO(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new iO(i),this.Yr=new mO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gO,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new _O(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const o=new bO(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class bO extends YD{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.ti=new Im,this.ni=null}static ri(t){return new Mm(t)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(t,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const o=dt.fromPath(a);return this.si(t,o).next(c=>{c||i.removeEntry(o,_t.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.oi=new Hs(a=>JD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=fO(this,i)}static ri(t,i){return new Xc(t,i)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return Q.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(c=>c?Q.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(m=>{m||(a++,c.removeEntry(d,_t.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),Q.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}ar(t,i,a){return Q.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return Q.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(t,i){let a=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Nm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vC()?8:XD(yC())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new AO;return this._s(t,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,d,m.size)})}).next(()=>c.result)}us(t,i,a,o){return a.documentReadCount<this.es?(La()<=kt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(La()<=kt.DEBUG&&it("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(La()<=kt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_i(i))):Q.resolve())}rs(t,i){if(g0(i))return Q.resolve(null);let a=_i(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ap(i,null,"F"),a=_i(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Vt(...c);return this.ns.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,a).next(g=>{const y=this.cs(i,m);return this.ls(i,y,d,g.readTime)?this.rs(t,Ap(i,null,"F")):this.hs(t,y,i,g)}))})))}ss(t,i,a,o){return g0(i)||o.isEqual(_t.min())?Q.resolve(null):this.ns.getDocuments(t,a).next(c=>{const d=this.cs(i,c);return this.ls(i,d,a,o)?Q.resolve(null):(La()<=kt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.hs(t,d,i,QD(o,zo)).next(m=>m))})}cs(t,i){let a=new Ve(mb(t));return i.forEach((o,c)=>{Tf(t,c)&&(a=a.add(c))}),a}ls(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,a){return La()<=kt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",za(i)),this.ns.getDocumentsMatchingQuery(t,i,$r.min(),a)}hs(t,i,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",wO=3e8;class RO{constructor(t,i,a,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ie(It),this.Is=new Hs(c=>Sm(c),wm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function CO(r,t,i,a){return new RO(r,t,i,a)}async function Pb(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],m=[];let g=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function DO(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,T){const R=y.batch,N=R.keys();let P=Q.resolve();return N.forEach($=>{P=P.next(()=>T.getEntry(g,$)).next(tt=>{const K=y.docVersions.get($);Ht(K!==null),tt.version.compareTo(K)<0&&(R.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),T.addEntry(tt)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function Bb(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function VO(r,t){const i=Et(r),a=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];t.targetChanges.forEach((T,R)=>{const N=o.get(R);if(!N)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,R)));let P=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,a)),o=o.insert(R,P),function(tt,K,gt){return tt.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=wO?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0}(N,P,T)&&m.push(i.Hr.updateTargetData(c,P))});let g=ir(),y=Vt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(OO(c,d,t.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!a.isEqual(_t.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(R=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(T)}return Q.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Ts=o,c))}function OO(r,t,i){let a=Vt(),o=Vt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=ir();return i.forEach((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),d=d.insert(m,g)):it(xm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:d,fs:o}})}function IO(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function MO(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,t).next(c=>c?(o=c,Q.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function Dp(r,t,i){const a=Et(r),o=a.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ul(d))throw d;it(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function V0(r,t,i){const a=Et(r);let o=_t.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,T){const R=Et(g),N=R.Is.get(T);return N!==void 0?Q.resolve(R.Ts.get(N)):R.Hr.getTargetData(y,T)}(a,d,_i(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,m.targetId).next(g=>{c=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,t,i?o:_t.min(),i?c:Vt())).next(m=>(NO(a,_V(t),m),{documents:m,gs:c})))}function NO(r,t,i){let a=r.Es.get(t)||_t.min();i.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Es.set(t,a)}class O0{constructor(){this.activeTargetIds=SV()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xO{constructor(){this.ho=new O0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new O0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="ConnectivityMonitor";class M0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(I0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(I0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Vp(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",kO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(t,i,a,o,c){const d=Vp(),m=this.So(t,i.toUriEncodedString());it(Qd,`Sending RPC '${t}' ${d}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(t,m,g,a).then(y=>(it(Qd,`Received RPC '${t}' ${d}: `,y),y),y=>{throw $a(Qd,`RPC '${t}' ${d} failed with error: `,y,"url: ",m,"request:",a),y})}Co(t,i,a,o,c,d){return this.bo(t,i,a,o,c)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),a&&a.headers.forEach((o,c)=>t[c]=o)}So(t,i){const a=kO[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class PO extends LO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,o){const c=Vp();return new Promise((d,m)=>{const g=new QT;g.setWithCredentials(!0),g.listenOnce(FT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Vc.NO_ERROR:const T=g.getResponseJson();it(Xe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case Vc.TIMEOUT:it(Xe,`RPC '${t}' ${c} timed out`),m(new ht(X.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const R=g.getStatus();if(it(Xe,`RPC '${t}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const P=N==null?void 0:N.error;if(P&&P.status&&P.message){const $=function(K){const gt=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN}(P.status);m(new ht($,P.message))}else m(new ht(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ht(X.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{it(Xe,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);it(Xe,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",y,a,15)})}Wo(t,i,a){const o=Vp(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=YT(),m=$T(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const T=c.join("");it(Xe,`Creating RPC '${t}' stream ${o}: ${T}`,g);const R=d.createWebChannel(T,g);let N=!1,P=!1;const $=new zO({Fo:K=>{P?it(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(N||(it(Xe,`Opening RPC '${t}' stream ${o} transport.`),R.open(),N=!0),it(Xe,`RPC '${t}' stream ${o} sending:`,K),R.send(K))},Mo:()=>R.close()}),tt=(K,gt,rt)=>{K.listen(gt,at=>{try{rt(at)}catch(bt){setTimeout(()=>{throw bt},0)}})};return tt(R,bo.EventType.OPEN,()=>{P||(it(Xe,`RPC '${t}' stream ${o} transport opened.`),$.Qo())}),tt(R,bo.EventType.CLOSE,()=>{P||(P=!0,it(Xe,`RPC '${t}' stream ${o} transport closed`),$.Ko())}),tt(R,bo.EventType.ERROR,K=>{P||(P=!0,$a(Xe,`RPC '${t}' stream ${o} transport errored:`,K),$.Ko(new ht(X.UNAVAILABLE,"The operation could not be completed")))}),tt(R,bo.EventType.MESSAGE,K=>{var gt;if(!P){const rt=K.data[0];Ht(!!rt);const at=rt,bt=(at==null?void 0:at.error)||((gt=at[0])===null||gt===void 0?void 0:gt.error);if(bt){it(Xe,`RPC '${t}' stream ${o} received error:`,bt);const ct=bt.status;let Z=function(A){const D=ve[A];if(D!==void 0)return Cb(D)}(ct),O=bt.message;Z===void 0&&(Z=X.INTERNAL,O="Unknown error status: "+ct+" with message "+bt.message),P=!0,$.Ko(new ht(Z,O)),R.close()}else it(Xe,`RPC '${t}' stream ${o} received:`,rt),$.Uo(rt)}}),tt(m,KT.STAT_EVENT,K=>{K.stat===_p.PROXY?it(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===_p.NOPROXY&&it(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new HV(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class jb{constructor(t,i,a,o,c,d,m,g){this.Ti=t,this.n_=a,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qb(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{t(()=>{const o=new ht(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(N0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(it(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends jb{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=FV(this.serializer,t),a=function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?vi(d.readTime):_t.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=Cp(this.serializer),i.addTarget=function(c,d){let m;const g=d.target;if(m=bp(g)?{documents:YV(c,g)}:{query:XV(c,g).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Ob(c,d.resumeToken);const y=Sp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){m.readTime=Yc(c,d.snapshotVersion.toTimestamp());const y=Sp(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=JV(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=Cp(this.serializer),i.removeTarget=t,this.I_(i)}}class qO extends jb{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=$V(t.writeResults,t.commitTime),a=vi(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=Cp(this.serializer),this.I_(t)}S_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>KV(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{}class HO extends jO{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ht(X.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(t,wp(i,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(X.UNKNOWN,c.toString())})}Co(t,i,a,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(t,wp(i,a),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GO{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class QO{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{Qs(this)&&(it(Ps,"Restarting streams for network reachability change."),await async function(g){const y=Et(g);y.W_.add(4),await Wo(y),y.j_.set("Unknown"),y.W_.delete(4),await Rf(y)}(this))})}),this.j_=new GO(a,o)}}async function Rf(r){if(Qs(r))for(const t of r.G_)await t(!0)}async function Wo(r){for(const t of r.G_)await t(!1)}function Hb(r,t){const i=Et(r);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),zm(i)?Lm(i):cl(i).c_()&&km(i,t))}function Um(r,t){const i=Et(r),a=cl(i);i.U_.delete(t),a.c_()&&Gb(i,t),i.U_.size===0&&(a.c_()?a.P_():Qs(i)&&i.j_.set("Unknown"))}function km(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(r).y_(t)}function Gb(r,t){r.H_.Ne(t),cl(r).w_(t)}function Lm(r){r.H_=new PV({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.j_.B_()}function zm(r){return Qs(r)&&!cl(r).u_()&&r.U_.size>0}function Qs(r){return Et(r).W_.size===0}function Qb(r){r.H_=void 0}async function FO(r){r.j_.set("Online")}async function KO(r){r.U_.forEach((t,i)=>{km(r,t)})}async function $O(r,t){Qb(r),zm(r)?(r.j_.q_(t),Lm(r)):r.j_.set("Unknown")}async function YO(r,t,i){if(r.j_.set("Online"),t instanceof Vb&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(a){it(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Nc?r.H_.We(t):t instanceof Db?r.H_.Ze(t):r.H_.je(t),!i.isEqual(_t.min()))try{const a=await Bb(r.localStore);i.compareTo(a)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.U_.get(y);T&&c.U_.set(y,T.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,y)=>{const T=c.U_.get(g);if(!T)return;c.U_.set(g,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),Gb(c,g);const R=new qr(T.target,g,y,T.sequenceNumber);km(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(a){it(Ps,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!ul(t))throw t;r.W_.add(1),await Wo(r),r.j_.set("Offline"),i||(i=()=>Bb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Ps,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Rf(r)})}function Fb(r,t){return t().catch(i=>Zc(r,i,t))}async function Cf(r){const t=Et(r),i=Jr(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:Tm;for(;XO(t);)try{const o=await IO(t.localStore,a);if(o===null){t.K_.length===0&&i.P_();break}a=o.batchId,ZO(t,o)}catch(o){await Zc(t,o)}Kb(t)&&$b(t)}function XO(r){return Qs(r)&&r.K_.length<10}function ZO(r,t){r.K_.push(t);const i=Jr(r);i.c_()&&i.b_&&i.S_(t.mutations)}function Kb(r){return Qs(r)&&!Jr(r).u_()&&r.K_.length>0}function $b(r){Jr(r).start()}async function JO(r){Jr(r).C_()}async function WO(r){const t=Jr(r);for(const i of r.K_)t.S_(i.mutations)}async function t4(r,t,i){const a=r.K_.shift(),o=Dm.from(a,t,i);await Fb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function e4(r,t){t&&Jr(r).b_&&await async function(a,o){if(function(d){return kV(d)&&d!==X.ABORTED}(o.code)){const c=a.K_.shift();Jr(a).h_(),await Fb(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Cf(a)}}(r,t),Kb(r)&&$b(r)}async function x0(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Ps,"RemoteStore received new credentials");const a=Qs(i);i.W_.add(3),await Wo(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Rf(i)}async function n4(r,t){const i=Et(r);t?(i.W_.delete(2),await Rf(i)):t||(i.W_.add(2),await Wo(i),i.j_.set("Unknown"))}function cl(r){return r.J_||(r.J_=function(i,a,o){const c=Et(i);return c.M_(),new BO(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:FO.bind(null,r),No:KO.bind(null,r),Lo:$O.bind(null,r),p_:YO.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),zm(r)?Lm(r):r.j_.set("Unknown")):(await r.J_.stop(),Qb(r))})),r.J_}function Jr(r){return r.Y_||(r.Y_=function(i,a,o){const c=Et(i);return c.M_(),new qO(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JO.bind(null,r),Lo:e4.bind(null,r),D_:WO.bind(null,r),v_:t4.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Cf(r)):(await r.Y_.stop(),r.K_.length>0&&(it(Ps,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,m=new Pm(t,i,d,o,c);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if(nr("AsyncQueue",`${t}: ${r}`),ul(r))return new ht(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Ao(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.Z_=new ie(dt.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):yt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class Wa{constructor(t,i,a,o,c,d,m,g,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Wa(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class r4{constructor(){this.queries=k0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=Et(i),c=o.queries;o.queries=k0(),c.forEach((d,m)=>{for(const g of m.ta)g.onError(a)})})(this,new ht(X.ABORTED,"Firestore shutting down"))}}function k0(){return new Hs(r=>pb(r),Ef)}async function s4(r,t){const i=Et(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(a=2):(c=new i4,a=t.ra()?0:1);try{switch(a){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=Bm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&qm(i)}async function a4(r,t){const i=Et(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function l4(r,t){const i=Et(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(a=!0);d.ea=o}}a&&qm(i)}function o4(r,t,i){const a=Et(r),o=a.queries.get(t);if(o)for(const c of o.ta)c.onError(i);a.queries.delete(t)}function qm(r){r.ia.forEach(t=>{t.next()})}var Op,L0;(L0=Op||(Op={}))._a="default",L0.Cache="cache";class u4{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this.key=t}}class Xb{constructor(t){this.key=t}}class c4{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=mb(t),this.wa=new Ga(this.ya)}get ba(){return this.fa}Sa(t,i){const a=i?i.Da:new U0,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,R)=>{const N=o.get(T),P=Tf(this.query,R)?R:null,$=!!N&&this.mutatedKeys.has(N.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let K=!1;N&&P?N.data.isEqual(P.data)?$!==tt&&(a.track({type:3,doc:P}),K=!0):this.va(N,P)||(a.track({type:2,doc:P}),K=!0,(g&&this.ya(P,g)>0||y&&this.ya(P,y)<0)&&(m=!0)):!N&&P?(a.track({type:0,doc:P}),K=!0):N&&!P&&(a.track({type:1,doc:N}),K=!0,(g||y)&&(m=!0)),K&&(P?(d=d.add(P),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{wa:d,Da:a,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((T,R)=>function(P,$){const tt=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return tt(P)-tt($)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(a),o=o!=null&&o;const m=i&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,d.length!==0||y?{snapshot:new Wa(this.query,t.wa,c,d,t.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new U0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new Xb(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new Yb(a))}),i}Oa(t){this.fa=t.gs,this.pa=Vt();const i=this.Sa(t.documents);return this.applyChanges(i,!0)}Na(){return Wa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jm="SyncEngine";class f4{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class h4{constructor(t){this.key=t,this.Ba=!1}}class d4{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Hs(m=>pb(m),Ef),this.qa=new Map,this.Qa=new Set,this.$a=new ie(dt.comparator),this.Ka=new Map,this.Ua=new Im,this.Wa={},this.Ga=new Map,this.za=Ja.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function p4(r,t,i=!0){const a=nA(r);let o;const c=a.ka.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await Zb(a,t,i,!0),o}async function m4(r,t){const i=nA(r);await Zb(i,t,!0,!1)}async function Zb(r,t,i,a){const o=await MO(r.localStore,_i(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return a&&(m=await g4(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Hb(r.remoteStore,o),m}async function g4(r,t,i,a,o){r.Ha=(R,N,P)=>async function(tt,K,gt,rt){let at=K.view.Sa(gt);at.ls&&(at=await V0(tt.localStore,K.query,!1).then(({documents:O})=>K.view.Sa(O,at)));const bt=rt&&rt.targetChanges.get(K.targetId),ct=rt&&rt.targetMismatches.get(K.targetId)!=null,Z=K.view.applyChanges(at,tt.isPrimaryClient,bt,ct);return P0(tt,K.targetId,Z.Ma),Z.snapshot}(r,R,N,P);const c=await V0(r.localStore,t,!0),d=new c4(t,c.gs),m=d.Sa(c.documents),g=Jo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,g);P0(r,i,y.Ma);const T=new f4(t,i,d);return r.ka.set(t,T),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function y4(r,t,i){const a=Et(r),o=a.ka.get(t),c=a.qa.get(o.targetId);if(c.length>1)return a.qa.set(o.targetId,c.filter(d=>!Ef(d,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Um(a.remoteStore,o.targetId),Ip(a,o.targetId)}).catch(ol)):(Ip(a,o.targetId),await Dp(a.localStore,o.targetId,!0))}async function _4(r,t){const i=Et(r),a=i.ka.get(t),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Um(i.remoteStore,a.targetId))}async function v4(r,t,i){const a=R4(r);try{const o=await function(d,m){const g=Et(d),y=De.now(),T=m.reduce((P,$)=>P.add($.key),Vt());let R,N;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let $=ir(),tt=Vt();return g.ds.getEntries(P,T).next(K=>{$=K,$.forEach((gt,rt)=>{rt.isValidDocument()||(tt=tt.add(gt))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,$)).next(K=>{R=K;const gt=[];for(const rt of m){const at=IV(rt,R.get(rt.key).overlayedDocument);at!=null&&gt.push(new Gs(rt.key,at,lb(at.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,gt,m)}).next(K=>{N=K;const gt=K.applyToLocalDocumentSet(R,tt);return g.documentOverlayCache.saveOverlays(P,K.batchId,gt)})}).then(()=>({batchId:N.batchId,changes:yb(R)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(It)),y=y.insert(m,g),d.Wa[d.currentUser.toKey()]=y}(a,o.batchId,i),await tu(a,o.changes),await Cf(a.remoteStore)}catch(o){const c=Bm(o,"Failed to persist write");i.reject(c)}}async function Jb(r,t){const i=Et(r);try{const a=await VO(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Ka.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ht(d.Ba):o.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await tu(i,a,t)}catch(a){await ol(a)}}function z0(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((c,d)=>{const m=d.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Et(d);g.onlineState=m;let y=!1;g.queries.forEach((T,R)=>{for(const N of R.ta)N.sa(m)&&(y=!0)}),y&&qm(g)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function E4(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Ka.get(t),c=o&&o.key;if(c){let d=new ie(dt.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const m=Vt().add(c),g=new Sf(_t.min(),new Map,new ie(It),d,m);await Jb(a,g),a.$a=a.$a.remove(c),a.Ka.delete(t),Hm(a)}else await Dp(a.localStore,t,!1).then(()=>Ip(a,t,i)).catch(ol)}async function T4(r,t){const i=Et(r),a=t.batch.batchId;try{const o=await DO(i.localStore,t);tA(i,a,null),Wb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,o)}catch(o){await ol(o)}}async function b4(r,t,i){const a=Et(r);try{const o=await function(d,m){const g=Et(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next(R=>(Ht(R!==null),T=R.keys(),g.mutationQueue.removeMutationBatch(y,R))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(a.localStore,t);tA(a,t,i),Wb(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await tu(a,o)}catch(o){await ol(o)}}function Wb(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function tA(r,t,i){const a=Et(r);let o=a.Wa[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function Ip(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(a=>{r.Ua.containsKey(a)||eA(r,a)})}function eA(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Um(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ka.delete(i),Hm(r))}function P0(r,t,i){for(const a of i)a instanceof Yb?(r.Ua.addReference(a.key,t),A4(r,a)):a instanceof Xb?(it(jm,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,t),r.Ua.containsKey(a.key)||eA(r,a.key)):yt()}function A4(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(it(jm,"New document in limbo: "+i),r.Qa.add(a),Hm(r))}function Hm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new dt(ue.fromString(t)),a=r.za.next();r.Ka.set(a,new h4(i)),r.$a=r.$a.insert(i,a),Hb(r.remoteStore,new qr(_i(Rm(i.path)),a,"TargetPurposeLimboResolution",gf.ae))}}async function tu(r,t,i){const a=Et(r),o=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{d.push(a.Ha(g,t,i).then(y=>{var T;if((y||i)&&a.isPrimaryClient){const R=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(y){o.push(y);const R=Nm.Yi(g.targetId,y);c.push(R)}}))}),await Promise.all(d),a.La.p_(o),await async function(g,y){const T=Et(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Q.forEach(y,N=>Q.forEach(N.Hi,P=>T.persistence.referenceDelegate.addReference(R,N.targetId,P)).next(()=>Q.forEach(N.Ji,P=>T.persistence.referenceDelegate.removeReference(R,N.targetId,P)))))}catch(R){if(!ul(R))throw R;it(xm,"Failed to update sequence numbers: "+R)}for(const R of y){const N=R.targetId;if(!R.fromCache){const P=T.Ts.get(N),$=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion($);T.Ts=T.Ts.insert(N,tt)}}}(a.localStore,c))}async function S4(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(jm,"User change. New user:",t.toKey());const a=await Pb(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ht(X.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Rs)}}function w4(r,t){const i=Et(r),a=i.Ka.get(t);if(a&&a.Ba)return Vt().add(a.key);{let o=Vt();const c=i.qa.get(t);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.ba)}return o}}function nA(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E4.bind(null,t),t.La.p_=l4.bind(null,t.eventManager),t.La.Ja=o4.bind(null,t.eventManager),t}function R4(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b4.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return CO(this.persistence,new SO,t.initialUser,this.serializer)}Xa(t){return new zb(Mm.ri,this.serializer)}Za(t){return new xO}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class C4 extends Jc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ht(this.persistence.referenceDelegate instanceof Xc);const a=this.persistence.referenceDelegate.garbageCollector;return new uO(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new zb(a=>Xc.ri(a,i),this.serializer)}}class Mp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>z0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),await n4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new r4}()}createDatastore(t){const i=wf(t.databaseInfo.databaseId),a=function(c){return new PO(c)}(t.databaseInfo);return function(c,d,m,g){return new HO(c,d,m,g)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,c,d,m){return new QO(a,o,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,i=>z0(this.syncEngine,i,0),function(){return M0.D()?new M0:new UO}())}createSyncEngine(t,i){return function(o,c,d,m,g,y,T){const R=new d4(o,c,d,m,g,y);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=Et(o);it(Ps,"RemoteStore shutting down."),c.W_.add(5),await Wo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class V4{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=ZT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{it(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),it(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Pb(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function B0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await O4(r);it(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>x0(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>x0(t.remoteStore,o)),r._onlineComponents=t}async function O4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Wr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new Jc)}}else it(Wr,"Using default OfflineComponentProvider"),await Kd(r,new C4(void 0));return r._offlineComponents}async function iA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Wr,"Using user provided OnlineComponentProvider"),await B0(r,r._uninitializedComponentsProvider._online)):(it(Wr,"Using default OnlineComponentProvider"),await B0(r,new Mp))),r._onlineComponents}function I4(r){return iA(r).then(t=>t.syncEngine)}async function M4(r){const t=await iA(r),i=t.eventManager;return i.onListen=p4.bind(null,t.syncEngine),i.onUnlisten=y4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=m4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=_4.bind(null,t.syncEngine),i}function N4(r,t,i={}){const a=new Qr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,y){const T=new D4({next:N=>{T.su(),d.enqueueAndForget(()=>a4(c,R));const P=N.docs.has(m);!P&&N.fromCache?y.reject(new ht(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&N.fromCache&&g&&g.source==="server"?y.reject(new ht(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),R=new u4(Rm(m.path),T,{includeMetadataChanges:!0,Ta:!0});return s4(c,R)}(await M4(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(r,t,i){if(!i)throw new ht(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function U4(r,t,i,a){if(t===!0&&a===!0)throw new ht(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j0(r){if(!dt.isDocumentKey(r))throw new ht(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt()}function Go(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gm(r);throw new ht(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firestore.googleapis.com",H0=!0;class G0{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sA,this.ssl=H0}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:H0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lO)throw new ht(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}U4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rA((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qm{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new LD;switch(a.type){case"firstParty":return new qD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=q0.get(i);a&&(it("ComponentProvider","Removing Datastore"),q0.delete(i),a.terminate())}(this),Promise.resolve()}}function k4(r,t,i,a={}){var o;const c=(r=Go(r,Qm))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${i}`;c.host!==sA&&c.host!==m&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!zc(g,d)&&(r._setSettings(g),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=Ze.MOCK_USER;else{y=gC(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new ht(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(R)}r._authCredentials=new zD(new XT(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Fm(this.firestore,t,this._query)}}class Bn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bn(this.firestore,t,this._key)}}class Qo extends Fm{constructor(t,i,a){super(t,i,Rm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bn(this.firestore,null,new dt(t))}withConverter(t){return new Qo(this.firestore,t,this._path)}}function Q0(r,t,...i){if(r=Pc(r),arguments.length===1&&(t=ZT.newId()),x4("doc","path",t),r instanceof Qm){const a=ue.fromString(t,...i);return j0(a),new Bn(r,null,new dt(a))}{if(!(r instanceof Bn||r instanceof Qo))throw new ht(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return j0(a),new Bn(r.firestore,r instanceof Qo?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class K0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qb(this,"async_queue_retry"),this.bu=()=>{const a=Fd();a&&it(F0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ul(t))throw t;it(F0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.Su.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(a);throw nr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Pm.createAndSchedule(this,t,i,a,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Km extends Qm{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new K0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K0(t),this._firestoreClient=void 0,await t}}}function L4(r,t){const i=typeof r=="object"?r:RD(),a=typeof r=="string"?r:Hc,o=TD(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=pC("firestore");c&&k4(o,...c)}return o}function aA(r){if(r._terminated)throw new ht(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||z4(r),r._firestoreClient}function z4(r){var t,i,a;const o=r._freezeSettings(),c=function(m,g,y,T){return new eV(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rA(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new V4(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tl(Qe.fromBase64String(t))}catch(i){throw new ht(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new tl(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class B4{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zo(t,this.data,i,this.fieldTransforms)}}function oA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Zm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Zm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Ku(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Wc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(oA(this.Lu)&&P4.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class q4{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wf(t)}ju(t,i,a,o=!1){return new Zm({Lu:t,methodName:i,zu:a,path:Ge.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j4(r){const t=r._freezeSettings(),i=wf(r._databaseId);return new q4(r._databaseId,!!t.ignoreUndefinedProperties,i)}function H4(r,t,i,a,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,o);hA("Data must be an object, but it was:",d,a);const m=cA(a,d);let g,y;if(c.merge)g=new Zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const N=G4(t,R,i);if(!d.contains(N))throw new ht(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);F4(T,N)||T.push(N)}g=new Zn(T),y=d.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,y=d.fieldTransforms;return new B4(new Pn(m),g,y)}function uA(r,t){if(fA(r=Pc(r)))return hA("Unsupported field value:",t,r),cA(r,t);if(r instanceof lA)return function(a,o){if(!oA(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const m of a){let g=uA(m,o.Uu(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,o){if((a=Pc(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wV(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=De.fromDate(a);return{timestampValue:Yc(o.serializer,c)}}if(a instanceof De){const c=new De(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,c)}}if(a instanceof Ym)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof tl)return{bytesValue:Ob(o.serializer,a._byteString)};if(a instanceof Bn){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Om(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Xm)return function(d,m){return{mapValue:{fields:{[sb]:{stringValue:ab},[Gc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Cm(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Gm(a)}`)}(r,t)}function cA(r,t){const i={};return WT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(r,(a,o)=>{const c=uA(o,t.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function fA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof Ym||r instanceof tl||r instanceof Bn||r instanceof lA||r instanceof Xm)}function hA(r,t,i){if(!fA(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Gm(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function G4(r,t,i){if((t=Pc(t))instanceof $m)return t._internalPath;if(typeof t=="string")return dA(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const Q4=new RegExp("[~\\*/\\[\\]]");function dA(r,t,i){if(t.search(Q4)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new $m(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${o}`),g+=")"),new ht(X.INVALID_ARGUMENT,m+r+g)}function F4(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new K4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(mA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class K4 extends pA{data(){return super.data()}}function mA(r,t){return typeof t=="string"?dA(r,t):t instanceof $m?t._internalPath:t._delegate._internalPath}class $4{convertValue(t,i="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return js(t,(o,c)=>{a[o]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,o;const c=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[Gc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new Xm(c)}convertGeoPoint(t){return new Ym(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_f(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Po(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new De(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Ht(kb(a));const o=new Bo(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return o.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gA extends pA{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Z4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(mA("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Z4 extends gA{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){r=Go(r,Bn);const t=Go(r.firestore,Km);return N4(aA(t),r._key).then(i=>nI(t,r,i))}class W4 extends $4{constructor(t){super(),this.firestore=t}convertBytes(t){return new tl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Bn(this.firestore,null,i)}}function tI(r,t,i){r=Go(r,Bn);const a=Go(r.firestore,Km),o=Y4(r.converter,t);return eI(a,[H4(j4(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,tr.none())])}function eI(r,t){return function(a,o){const c=new Qr;return a.asyncQueue.enqueueAndForget(async()=>v4(await I4(a),o,c)),c.promise}(aA(r),t)}function nI(r,t,i){const a=i.docs.get(t._key),o=new W4(r);return new gA(r,o,t._key,a,new X4(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){ll=o})(wD),qc(new ko("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new Km(new PD(a.getProvider("auth-internal")),new jD(d,a.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ha(t0,e0,t),Ha(t0,e0,"esm2017")})();var iI="firebase",rI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha(iI,rI,"app");const sI={apiKey:"AIzaSyACol9LCc7_pl4dW7QRZfJYZv0asm9LCgs",authDomain:"test-db-6800e.firebaseapp.com",databaseURL:"https://test-db-6800e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"test-db-6800e",storageBucket:"test-db-6800e.firebasestorage.app",messagingSenderId:"836798784511",appId:"1:836798784511:web:108bf0f82a5760cb4e7dca"},aI=qT(sI),$0=L4(aI),lI="_container_1le76_3",oI="_header_1le76_37",uI="_subtitle_1le76_49",Ji={container:lI,header:oI,subtitle:uI},cI=()=>{var T,R;const[r,t]=ka.useState(""),[i,a]=ka.useState(""),[o,c]=ka.useState(!1),d=(R=(T=Hp().tgWebAppData)==null?void 0:T.user)==null?void 0:R.id;ka.useEffect(()=>{(async()=>{try{if(!d){console.error("Не удалось получить userId из Telegram.");return}}catch(P){console.error("Ошибка при получении launchParams:",P),alert("Произошла ошибка при загрузке данных.")}})()},[]),ka.useEffect(()=>{(async()=>{if(!d)return;const P=Q0($0,"users",d.toString());(await J4(P)).exists()&&c(!0)})()},[d]);const m=N=>{a(N.target.value)},g=N=>{t(N.target.value)},y=async()=>{if(!d||!r){alert("Выберите группу!");return}try{const N=Q0($0,"users",d.toString());await tI(N,{group:r}),c(!0)}catch(N){console.error("Ошибка при регистрации:",N),alert("Произошла ошибка при регистрации.")}};return d?o?Tt.jsx("p",{children:"Вы уже зарегистрированы!"}):Tt.jsx("div",{className:Ji.container,children:Tt.jsxs("div",{className:Ji.registrationContainer,children:[Tt.jsx("h2",{className:Ji.header,children:"Регистрация"}),Tt.jsx("p",{className:Ji.subtitle,children:"Выберите свой курс и группу:"}),Tt.jsxs("div",{className:Ji.formField,children:[Tt.jsx("label",{htmlFor:"course",children:"Курс:"}),Tt.jsxs("select",{id:"course",value:i,onChange:m,className:Ji.courseSelect,children:[Tt.jsx("option",{value:"",children:"-- Выберите курс --"}),Tt.jsx("option",{value:"1",children:"1-ый курс"}),Tt.jsx("option",{value:"2",children:"2-ой курс"}),Tt.jsx("option",{value:"3",children:"3-ий курс"}),Tt.jsx("option",{value:"4",children:"4-ый курс"})]})]}),Tt.jsxs("div",{className:Ji.formField,children:[Tt.jsx("label",{htmlFor:"group",children:"Группа:"}),Tt.jsxs("select",{id:"group",value:r,onChange:g,className:Ji.groupSelect,children:[Tt.jsx("option",{value:"",children:"-- Выберите группу --"}),i==="1"&&Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("option",{value:"ЭС-1-1",children:"ЭС-1-1"}),Tt.jsx("option",{value:"ЭС-1-2",children:"ЭС-1-2"}),Tt.jsx("option",{value:"ЭС-1-3",children:"ЭС-1-3"})]}),i==="2"&&Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("option",{value:"ЭС-2-1",children:"ЭС-2-1"}),Tt.jsx("option",{value:"ЭС-2-2",children:"ЭС-2-2"}),Tt.jsx("option",{value:"ЭС-2-3",children:"ЭС-2-3"})]}),i==="3"&&Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("option",{value:"ЭС-3-1",children:"ЭС-3-1"}),Tt.jsx("option",{value:"ЭС-3-2",children:"ЭС-3-2"}),Tt.jsx("option",{value:"ЭС-3-3",children:"ЭС-3-3"})]}),i==="4"&&Tt.jsxs(Tt.Fragment,{children:[Tt.jsx("option",{value:"ЭС-4-1",children:"ЭС-4-1"}),Tt.jsx("option",{value:"ЭС-4-2",children:"ЭС-4-2"}),Tt.jsx("option",{value:"ЭС-4-3",children:"ЭС-4-3"})]})]})]}),Tt.jsx("button",{onClick:y,className:Ji.submitButton,children:"Готово"})]})}):Tt.jsx("p",{children:"Загрузка..."})};function fI(){return(async()=>{try{await iC(),xv.ready.isAvailable()&&await xv.ready()}catch(t){console.error("Ошибка инициализации:",t)}})(),Tt.jsx("div",{children:Tt.jsx(cI,{})})}XS.createRoot(document.getElementById("root")).render(Tt.jsx(ka.StrictMode,{children:Tt.jsx(fI,{})}));
